<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="baidu-site-verification" content="D4VqC4HppC" />
	<meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625" />

    <meta name="author" content="cdwanze"/>
    <meta name="copyright" content="cdwanze"/>

     <meta property="og:type" content="article"/>
    <meta name="twitter:card" content="summary">

 <meta property="og:title" content="cdwanze的博文" />
<meta name="twitter:title" content="cdwanze的博文"> <meta property="og:url" content="" />  <meta property="og:site_name" content="cdwanze的博文" />
<meta property="og:article:author" content="cdwanze" />       <title> cdwanze的博文 </title>


    <link href="/theme/css/font-awesome.css" rel="stylesheet" media="screen">
    <link href="/theme/css/bootstrap.min.css" rel="stylesheet" media="screen">

    <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">






</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="/"><span class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav nav-pills navbar-right">
                <li  class="active">
                    <a href="">博文首页</a></li>

                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">查找文章<span class="caret"></span></a>
                 <ul class="dropdown-menu">
                  <li><a class="slowscroll" href="/categories.html">按分类</a></li>
                 <li><a class="slowscroll" href="/tags.html">按标签</a></li>
                </ul>
                </li>


                <li >
                    <a href="/guan-yu-ben-wang-zhan.html">关于本网站</a></li>
                <li >
                    <a href="/gong-gao.html">公告</a></li>
            </ul>

            <form action="/search.html" onsubmit="return validateForm(this.elements['q'].value);" class="navbar-form navbar-left">
                <div class="form-group">
                <input type="text" name="q"  id="tipue_search_input" class="form-control" placeholder="Search..." style="width:350px">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>
        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
  
<style>
    article {
        border: 1px solid #aaa;
    }

    section {
        padding: 1em;
    }

    article > p {
        padding-left: 0.5em;
        padding-right: 0.5em;
    }

    #gotop{
        position:fixed;
        right: 12% ;
        float:right ;
        top: 50%;
    }
    @media screen and (max-width: 600px) {
        #gotop{
            display:none;
        }
    }
</style>

<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
  </button>



<div class="row">

    <div class="row">
     </div>

      <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <header>
                <h1 id="recent-posts">最近博文
                    <a id="allposts" href="/archives.html">所有博文</a>
                </h1>
            </header>


            <div class="recent-posts">
 <nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="/index6.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="/index8.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
 
                <article>

                    <h1 class="page-header"><a href="/articles/git.html">git版本控制  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T16:10:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<h2 id="git">git基础</h2>
<p>下面就git命令使用的基本流程说明如下：</p>
<ul>
<li>远程仓库文件到本地 网上创建项目之后，你需要将网上的存档下载到本地，在你希望下载的地点，打开终端：</li>
</ul>
<div class="highlight"><pre><span></span>git clone https://github.com/a358003542/xelatex-guide-book.git
</pre></div>
<ul>
<li>初始化本地仓库 <code>git init</code> 命令用于初始化本地仓库， <code>git clone</code> 下来的仓库文件已经初始化了，然后 <code>origin</code> 这个远程服务器名字也已经加上去了。</li>
<li>本地仓库进入索引 你可以先用 <code>git status</code> 命令查看一下当前仓库的改动情况，如果某个文件你不想改动，可以用 <code>git checkout what</code> 来放弃这个更改，如果某项改动你想提交上去，则用 <code>git add what</code> 把目标文件加入索引。这个add命令也可以跟上某个文件夹名，则该文件夹下所有的文件都将被跟踪。然后你本地删除了某个文件，如果你希望仓库也删除这个文件，那么可以加上 <code>--all</code> 选项：</li>
</ul>
<div class="highlight"><pre><span></span>git …</pre></div>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/bash-tutorial.html">bash脚本入门  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T16:08:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<p>下面简单讲一下 bash shell 脚本知识，点到为止，主要是关注一行之内的shell命令，更加复杂的逻辑请使用python来编写脚本。</p>
<h2 id="_1">变量</h2>
<div class="highlight"><pre><span></span>i=2

echo $i
</pre></div>
<p>一般赋值就如上所示，和其他编程语言变量赋值大体类似吧，<u>但是要特别注意变量和值之间的等号是相连的，不能用空格隔开</u> 。变量的符号一般就是字母数字，可以加下划线。这样声明的变量为局部变量，也就是本shell中适用。如果要创建全局变量需要使用export命令。</p>
<p>一般使用这个变量就是在前面加上 <code>$</code> 符号，如果你需要用变量的字符和其他字符组合成一个新的字符，那么需要用花括号将变量名包围起来。即这样的形式 <code>${i}what</code> 。一般来说使用变量都推荐使用 <code>${}</code> 这样的形式。</p>
<h3 id="_2">应用：修改终端前缀</h3>
<div class="highlight"><pre><span></span>export PS1="=&gt;"
</pre></div>
<p>利用export命令就可以将这个变量变为全局变量（这里所谓的全局变量主要指子shell继承了父shell的变量。），这样所有的shell脚本都可以通用。</p>
<p>如果你将以上代码放入你家目录的 <code>.bashrc</code> 文件里面，每次终端启动都会自动加载这个文件的。这样你后面开启的那些终端前缀都会变成<code>=&gt;</code> 这样的形式。</p>
<p>这样可以节省点屏幕空间。你可以用pwd命令查看一下，其他一切都没有影响的。</p>
<p>这个PS1就对应的终端的一级前缀符号，PS2对应的是进一步输入时候的提示符号。你可以换成这样的形式：</p>
<div class="highlight"><pre><span></span>export …</pre></div>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/ansible-auto-operations.html">ansible自动化运维  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T15:54:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<p>ansible是一个自动化运维工具，当我们学习到后面之后，就会发现只写一个简单的web app是不够的，常常远程计算机那边的环境需要很多配置，比如后台脚本的执行啊，nginx配置来服务静态文件啊等等。而每个任务都手工用 <code>ssh</code> 端来操作的将是非常低效率的了，尤其到后面各个任务繁多，环境需要重复部署的时候。ansible就是解决这一问题的。</p>
<p>第一个例子：假设你现在可以免密钥登录某一个远程服务器了，然后你在 <code>/etc/ansible/hosts</code> 这个文件里面把你的服务器名字加进去，然后执行:</p>
<div class="highlight"><pre><span></span>ansible all -m ping
</pre></div>
<p>如果一切正常的话其将返回 SUCESS 信息，证明现在你已经通过ansible正常连通你的远程服务器了。</p>
<h2 id="hosts">hosts文件配置</h2>
<p>这里讨论的 <code>/etc/ansible/hosts</code> 这个文件是所谓的默认 inventory 文件，除了这个默认inventory配置文件之外，还可以写很多其他的配置文件的。而这些配置文件内容大体如下:</p>
<div class="highlight"><pre><span></span><span class="k">[webservers]</span>
<span class="na">foo.example.com</span>
 <span class="na">bar.example.com</span>
</pre></div>
<p>[webservers] 这个字段定义的是所谓的主机组的概念，之前我们随便写上去的那个主机没属于任何主机组 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/apache-web-server.html">apache web服务器  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T15:47:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<p>关于apache2 web server的简要介绍请参看 <a href="https://zh.wikipedia.org/wiki/Apache_HTTP_Server">apache http server wiki</a> 。目前推荐使用apache2.4，这是它的 <a href="http://httpd.apache.org/docs/2.4/">apache官方文档</a> 。</p>
<p>Ubuntu系统或者Centos系统之间httpd的安装配置环境等差异很大，我想说的是那些知识都不是重点，跟着官方文档，咱首先折腾出一个绿色本地安装版本的httpd，然后跟着官方文档学配置才是王道。什么在那个系统那个命令啊，那个系统那个文件夹下那个配置啊都是不重要的东西。</p>
<h2 id="apache">apache的本地安装</h2>
<p>apache本地安装过程大体分为下面几步：</p>
<ul>
<li>
<p>安装apr</p>
</li>
<li>
<p>安装apr-util</p>
</li>
<li>安装httpd</li>
<li>安装mod_wsgi （可选项，使用django或者flask你需要它的）</li>
</ul>
<p>更多的细节在官方文档的 install 那一章节里，读者如果懂ansible的话，可以看看 我写的 <a href="https://github.com/a358003542/green-install">green-install项目</a>  里面的apache role 部分。</p>
<p>正如前面说到的，日志文件在那里，配置文件在那里加载啊等等都是可以定制的，摸清楚配置语法才是王道。</p>
<h2 id="_1">挂个简单的静态网站</h2>
<p>首先httpd.conf 那里我们写上了 <code>LISTEN 80</code> 了，这样apache将会监听80端口。你的域名指向你的远程服务器ip就可以了。然后一般我们在httpd …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/linux-system-basic.html">linux系统基础  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T11:29:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<h2 id="debianrpm">debian系或者rpm系</h2>
<p>目前Linux主流的包管理系统分为debian系和rpm系这两个。CentOS和Redhat属于rpm系；ubuntu和debian系统属于rpm系。在ubuntu中第一个要学习的命令就是 apt 命令，通过它来进行系统软件的安装卸载更新等等工作；在centos第一个要学习的命令是 yum 命令，与apt命令类似进行了一系列的系统的软件包管理操作。</p>
<h3 id="yumrpm">yum命令和rpm命令</h3>
<ul>
<li>yum install what 安装某个软件</li>
<li>yum groupinstall what 安装某个软件组。</li>
<li>yum update 更新系统软件包</li>
<li>yum remove what 卸载某个软件</li>
<li>yum groupremove what 卸载某个软件组</li>
<li>yum clean 清除系统软件包管理相关的缓存</li>
<li>rpm -i what.rpm  本地安装某个rpm包，一般使用会加上 <code>-vh</code> 选项来显示更多的安装信息和安装进度。    </li>
</ul>
<h3 id="aptdpkg">apt命令和dpkg命令</h3>
<p>系统安装好之后第一件要做的事是选一个好的源，然后安装更新。在系统设置→软件和更新那里，在“下载自 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/vi-editor.html">vi编辑器  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#linux-ref">linux
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-24T00:00:00+08:00">2017年 12月 24日
                            </time>
                        </div>
                    </section>
                    
<p>推荐先安装完整版的vim，这样一些按键乱码问题会自动解决。然后注意中文输入法状态下可能会造成你切换vi模式的困扰。</p>
<p>进入vi编辑器第一条，记住按 <code>i</code> 进入编辑模式，下面的一些按键都需要按 <code>Esc</code> 退出编辑模式才有效。</p>
<h2 id="_1">常用快捷键</h2>
<p>这里按键是针对常见的键盘，MAC下按键对应会有所不同。</p>
<ul>
<li>Ctrl + f  屏幕向下移动一页</li>
<li>
<p>G 移动到最后一行</p>
</li>
<li>
<p>gg 移动到第一行 推荐就直接用 <code>1G</code> 行跳转操作， <code>100G</code> 意思是跳转到第100行。</p>
</li>
<li>dd 删除当前行</li>
<li>yy 复制当前行</li>
<li>p 粘贴</li>
<li>u 撤销</li>
<li>r redo</li>
</ul>
<h2 id="_2">块选择</h2>
<p>按键 <code>v</code> 进入块选择，然后移动光标进行块选择。</p>
<ul>
<li>y 复制块</li>
<li>d 删除块</li>
</ul>
<h2 id="_3">查找</h2>
<h3 id="_4">匹配某个单词</h3>
<div class="highlight"><pre><span></span>/Lao Zi
</pre></div>
<p>这样我们就开始搜索精确匹配含有“Lao …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/seo-tutorial-one.html">如何让自己更有名-seo入门  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#others-ref">others
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-16T16:52:00+08:00">2017年 12月 16日
                            </time>
                        </div>
                    </section>
                    
<h2 id="seo">seo简介</h2>
<p>SEO是英文（Search Engine Optimization）的缩写，意思是搜索引擎优化。简单来说就是让自己的网站在搜索引擎中排名更高的方法研究。</p>
<p><strong>外链</strong> 也就是别的网站引用本网站能有效提高本网站排名，在各个搜索引擎算法中现在仍然是一个很重要的指标。</p>
<h3 id="meta">meta标记</h3>
<p>早期搜索引擎是会爬取meta源标记信息，如下所示：</p>
<div class="highlight"><pre><span></span>&lt;meta name="keywords" content="search engine optimization, SEO, Jennette Banks, 搜索引擎优化, tttwaca"/&gt;
</pre></div>
<p>不过现在搜索引擎的发展方向是忽略这些指定的关键词，而是自己分析得到关键词。</p>
<p>那么无疑现在seo最最重要的就是内容：</p>
<h3 id="_1">积极更新的高质量的内容</h3>
<p><strong>积极更新的高质量的内容</strong> 无疑将是seo的重中之重。而考虑到搜索引擎以后的发展越来越智能化，<strong>更能满足用户需求</strong> 的网页， <strong>用户体验好的网页</strong> 无疑将能够获得更高的排名。所以我在这里做个假想，甚至搜索引擎都能够检测目标网页的评论数，点赞数等等，来给目标网页更高的评分，而目前已知的下面这些因素以后在衡量一篇网页或网站价值上会越来越重要：</p>
<h3 id="_2">其他因素</h3>
<p><strong>跳出率</strong>  只访问了入口网页就离开的访问量占总访问量的百分比</p>
<p><strong>用户访问深度</strong>  用户访问你的网站打开的总页面数（跳出率在衡量网站价值上可能会有失偏颇，比如博客。）</p>
<p>按照 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/mol-file.html">mol文件格式  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#chemistry-ref">chemistry
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-04T14:47:00+08:00">2017年 12月 4日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">前言</h2>
<p>本文主要参考了Molfile的 <a href="https://en.wikipedia.org/wiki/Chemical_table_file">wiki页面</a> 。</p>
<p>因为openbabel在heroku上不好安装，其有c依赖，然后pubchem数据库那边是可以输出sdf文件的，然后chemdoodle那边是可以接受mol文件格式从而显示分子的3D图形的，一开始我试着用openbabel将smiles输出到mol file：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">smi2mol</span><span class="p">(</span><span class="n">smiles</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    read smiles string , retrun 3d mol file content.</span>
<span class="sd">    :param smiles:</span>
<span class="sd">    :return:</span>
<span class="sd">    """</span>
    <span class="n">mol</span> <span class="o">=</span> <span class="n">pybel</span><span class="o">.</span><span class="n">readstring</span><span class="p">(</span><span class="s2">"smi"</span><span class="p">,</span> <span class="n">smiles</span><span class="p">)</span>
    <span class="n">mol</span><span class="o">.</span><span class="n">make3D</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">mol</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"mol"</span><span class="p">)</span>
</pre></div>
<p>这大体是没有问题的。后来看到pubchem restful api输出record全记录时有很详细的原子数目和坐标，所以想可不可以根据这些数据自动输出mol file。</p>
<p>目前最简单的方法是，利用pubchem获得目标分子的sdf文件，sdf文件是前兼容mol 文件的，我在前端网页初步测试结果也是将文件前一行到 <code>M  END</code> 之间的内容复制粘贴新建成为一个mol file，经过测试是可行的 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/cheminformatics-talk-two.html">化学信息学第二谈  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#chemistry-ref">chemistry
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-12-03T00:00:00+08:00">2017年 12月 3日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">表示分子</h2>
<p>价键模型是现代化学的基石，也是现代化学信息学的基石。当化学家想要研究一个问题的时候的，他首先是用图形来表示出一个个节点，也就是原子，然后一个个节点之间连成边，也就是化学键。</p>
<p>就价键理论和分子轨道理论区别它们有意义其实只在量子化学的计算层面上，老实说以前我学习的时候，就是简单的将化学键理解为电子的运动轨迹，至于具体这个电子是两个原子共享的还是分子层面共享的其实当时我的理解，就离子键和共价键还说，只是一种程度的问题。大体是 离子键 -&gt; 共价键单键 -&gt; 苯的化学键 -&gt; 共价键双键。不过不是从事量子化学计算，就作为应用的理解化学世界来说，确实价键理论够用了。</p>
<h2 id="_2">连接表格</h2>
<p>早期人们研究化学信息学来表示一个分子用的是连接表（connection table），就是列出原子，还有原子们之间的连接键（描述了谁和谁连接起来）。</p>
<p>SMARTS (SMiles ARbitrary Target Specification).  子结构搜索语言，比如说 [C,N] 将会找一个原子或者是碳原子或者是氮原子</p>
<h2 id="_3">子结构搜索和索引</h2>
<p>索引indexing是预处理某些问题来加速搜索过程。</p>
<p>化学信息学对于分子结构的索引过程就是将目标分子降解（decompose）成为一些小部分，然后索引它们。</p>
<p>子结构搜索在数学上是图同构问题（graph isomorphism），子图同构是NPC问题，图同构不是P问题也不是NPC问题是NP问题 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/postgresql-database.html">postgresql数据库  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#shu-ju-ku-ref">数据库
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-28T18:00:00+08:00">2017年 11月 28日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">安装和配置</h2>
<p>在ubuntu下可以这样简单安装之：</p>
<div class="highlight"><pre><span></span>sudo  apt-get install postgresql
</pre></div>
<p>centos下如下安装：</p>
<div class="highlight"><pre><span></span>sudo yum install postgresql-server postgresql-contrib
</pre></div>
<p>centos下继续运行以下命令：</p>
<div class="highlight"><pre><span></span>sudo postgresql-setup initdb
</pre></div>
<p>这样安装之后，你需要牢记一点的是，新安装的PostgreSQL数据库还只有 <strong>postgres</strong> 这个用户有新建role（或说用户）和新建数据库的权限。你需要通过 postgres 这个用户来执行 <code>createuser</code> 或 <code>createdb</code> 命令。这里我们先不急着学习SQL语句，因为postgresql里面关于用户群组权限的设置稍微有点复杂，而要使用postgresql，这一块是必须有个基本的了解的。</p>
<h2 id="_2">用户群组权限管理</h2>
<p>postgresql处理我们通常所谓的登录用户或者其他用户概念的术语是Rules，后面都称之为用户（rules），可以理解为为这个用户确立的一系列访问修改数据库的规则。然后rules是可以包含其他rules的，这个包含其他rules的rules我们通常称之为群组（group rules），然后群组也可以包含群组，但一般都推荐简单分为用户（rules）和群组用户（group rules）这两类 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/heroku-on-fire.html">heroku on fire  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#others-ref">others
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-28T17:04:00+08:00">2017年 11月 28日
                            </time>
                        </div>
                    </section>
                    
<p>在heroku上部署项目其实很简单，本文将简单的将heroku的容器作用原理和简单的git推送和相应的一些额外的配置说明一下，整个过程不通过 <code>heroku</code> 命令行工具，或者网页操作，或者修改文件之。</p>
<p>本文主要面向python的，首先推荐读者参考一下 heroku 官方在github 上的项目，比如说 <a href="https://github.com/heroku/heroku-django-template">这个项目</a> 。其是基于最近的django1.11的，看着这个模板理解一些东西，然后在heroku上设置好自动同github同步就可以了。</p>
<h2 id="runtimetxt">runtime.txt</h2>
<p>这个文件用来执行python的版本，里面简单写上即可：</p>
<div class="highlight"><pre><span></span>python-3.6.3
</pre></div>
<p>这样，远程heroku会帮你确定python运行环境为python-3.6.3。</p>
<h2 id="requirementstxt">requirements.txt</h2>
<p>熟悉python开发的人都知道这个文件是什么意思，只是在heroku这里，是必须填写好的一个文件了，其和heroku远程调配好pip的环境有关。</p>
<h2 id="procfile">Procfile</h2>
<p>这个文件包含了一些进程类型声明，每个进程类（process type）由一行组成是： </p>
<div class="highlight"><pre><span></span>&lt;process type&gt;: &lt;command&gt;
</pre></div>
<p>比如写着 <code>web</code> 的意思就是启动一个web server。</p>
<p>还有就是具体执行何命令来启动这个web server了 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/mindmaptree.html">mindmaptree  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#suan-fa-ref">算法
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-24T18:03:00+08:00">2017年 11月 24日
                            </time>
                        </div>
                    </section>
                    
<p>如下思维导图，我们如何设计一种数据格式来便捷的进行后续csv或者json操作？</p>
<p><img alt="img" src="/images/arithmetic/mindmaptree.png"/></p>
<p>然后其对应的csv格式如下：</p>
<div class="highlight"><pre><span></span>奴隶社会,非洲,古埃及文明,金字塔
,亚洲,两河流域文明,汉谟拉比法典
,,古印度,种姓制度
,,,佛教的创立
,欧洲,希腊,希腊城邦
,,,雅典民主
,,罗马,城邦
,,,帝国的征服与扩展
,,希腊罗马古典文化,建筑艺术
,,,公历
</pre></div>
<p>这个问题实际上和前面谈论的二叉搜索树有点类似，只是那个问题的变种罢了，同样在这种树形结构下不可避免要用到递归思维。下面是一个很粗糙版本的实现，其中最核心的一个点就是我这个Node只做好自己的分内事情就行了，然后放到整体的支持功能递归展开即可。</p>
<h2 id="_1">基本类的设计</h2>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">MindMapTree</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">parent …</span></pre></div>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/binary-search.html">二分查找  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#suan-fa-ref">算法
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-24T00:00:00+08:00">2017年 11月 24日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">二分查找</h2>
<p>二分查找以前也接触过吧，当时不怎么重视，认为就是一种快速查找方法了，参看 <a href="https://github.com/qiwsir/algorithm/blob/master/bin_search.md">这个网页</a> ，其认为python的 <code>index</code> 方法并不是使用的二分查找，所以对大规模查询会很吃力。考虑到python一般的sequence对象都没有预排序，所以这种说法可信度还是很高的。然后利用python的 <code>bisect</code> 模块，我们可以构建出一种预排序的支持更快查询的接口，其内部就是使用的二分查找。</p>
<p>关于二分查找的原理我就不啰嗦了，这里我想说的是，最近在看MIT的那个视频，其中第三课讲到了利用二分查找的思想来求解平方根的问题，这个对我启发很大。尤其是那一句: 任何计算机问题如果找不到好的方法，实际上都可以穷举而得，而穷举的过程，我们不需要一个个都试一下，我们只需要将这些可能的结果集排序之后，进行二分查找来快速缩小可能的结果集，那么我们就可以逐步更快地趋近理想结果了。</p>
<p>这使得我认识到，二分查找思想的应用可不限于查找，而是更普遍，可以看作一种有关计算机的最核心的最底层的那种计算思想的东西。所以本小节关于二分查找主要分为两个内容，一是关于查找部分，主要集中讨论了python bisect模块；一是以一种更加抽象的思维来描述二分查找思想。</p>
<h2 id="_2">抽象的二分查找思想讨论</h2>
<p>现在我们将可能的结果集认为是某个函数f(x)的输入参数，然后我们有目标参数target，令f(x)=target的时候我们说我们就找到了目标结果x，或者说目标x符合函数f(x)=target这个关系 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/binary-search-tree.html">二叉搜索树  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#suan-fa-ref">算法
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-24T00:00:00+08:00">2017年 11月 24日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">二叉搜索树</h2>
<p>本文很大程度上参考了 <a href="https://github.com/nryoung/algorithms">algorithms</a> 项目，在此谢谢作者们了。</p>
<p>二叉搜索树（Binary Search Tree）大概如下图所示这么个东西:</p>
<p><img alt="img" src="/images/python/binary_search_tree.png" title="二叉搜索树"/></p>
<p>其每一个节点都至多有两个子节点，然后所有的节点都满足以下三个条件</p>
<ol>
<li>左节点的值小于它的父节点</li>
<li>右节点的值大于它的父节点</li>
<li>所有节点的值均不相等</li>
</ol>
<p>二叉搜索树的插入复杂度是 <code>O(log n)</code> ，查找复杂度最好情况 <code>O(log n)</code> ，最坏情况 <code>O(n)</code> 。</p>
<p>比如上面图片的那个二叉树，假设我们要插入19，那么首先和8比较，大，则右，再和10比较，大则右，再和14比较，大则右，然后空就可以插入了。</p>
<p>然后假设我们要查找19，那么过程大体也是类似的和8比较，大则右，再和10比较，大则右，再和14比较，大则右，然后相等则找到。我们看到我们的查找过程，涉及到一些比较判断操作等，假设元素两边分的话，那么树中一半的元素都跳过去了。所以利用这个数据结构加速查找和存储数据好处是显而易见的。</p>
<h2 id="python">二叉搜索树的python实现 …</h2>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/github-pages.html">github pages  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#others-ref">others
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-23T12:20:00+08:00">2017年 11月 23日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">自定义域名</h2>
<p>简单来说就是写一个 <code>CNAME</code> 文件，实际上github的 settings那里还提供了功能，具体实际做的工作也就是创建了一个 <code>CNAME</code> 文件。</p>
<p><img alt="github_pages_cname" src="/images/others/github_pages_cname.png"/></p>
<h2 id="gitbook">挂上gitbook的内容</h2>
<p>下面的内容过时了：</p>
<div class="highlight"><pre><span></span>把 gitbook build  之后的 _book 里面的内容复制到主目录下，然后如下引用即可：

    /html5-learning-notes

也就是指向文件夹就可以正常工作了。
</pre></div>
<p>参考了 <a href="http://www.chengweiyang.cn/gitbook/github-pages/README.html">这个网页</a> 和 <code>create-react-app</code> 关于分支的管理建议 ，综合更好的解决方案如下：</p>
<ol>
<li>
<p><code>yarn init</code>  如果读者对yarn npm不太熟悉的话，那么全部都 Enter 吧。</p>
</li>
<li>
<p><code>yarn add gh-pages</code></p>
</li>
<li>
<p>在 <code>packages.json</code> 里面加上 （PS: 注意json语法object最后一项不能带逗号）：</p>
</li>
</ol>
<div class="highlight"><pre><span></span>    <span class="s2">"scripts"</span><span class="err">:</span> <span class="p">{</span>
      <span class="nt">"predeploy"</span><span class="p">:</span> <span class="s2">"npm run build"</span><span class="p">,</span>
      <span class="nt">"deploy"</span><span class="p">:</span> <span class="s2">"gh-pages -d …</span></pre></div>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/yun-fu-wu-qi-de-yi-xie-zhi-shi.html">云服务器的一些知识  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#others-ref">others
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-21T12:50:00+08:00">2017年 11月 21日
                            </time>
                        </div>
                    </section>
                    
<h2 id="ip">什么是弹性ip</h2>
<p>参考了 <a href="http://support.huawei.com/huaweiconnect/enterprise/thread-239777-1-1.html">这个网页</a> 。</p>
<p>简单来说弹性ip就是和用户绑定的外网ip，而不是和你的云主机绑定的。所以这是一种资源，如果你更换云主机了，再将这个弹性ip绑定到第二个云主机上即可。</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/numpy-module.html">numpy模块  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#ji-qi-xue-xi-ref">机器学习
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-15T00:00:00+08:00">2017年 11月 15日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">前言</h2>
<p>本文对于numpy模块具体各个函数细节不做过多说明，具体请参看文档。本文主要是就numpy的一些核心概念进行理清。</p>
<p>numpy模块里面最核心的概念就是 ndarray对象，请参看 <a href="https://stackoverflow.com/questions/15879315/what-is-the-difference-between-ndarray-and-array-in-numpy">这个问题</a> ，当时我也有疑问，numpy里面的array函数和ndarray对象有什么区别，答案就是：一般使用推荐使用 <code>numpy.array</code> 来创建 ndarray对象，其他还有 zeros ，empty等等其他的函数，他们都是很好的接口去创建一个 numpy.ndarray 对象，当然你也可以通过 numpy.ndarray 来创建一个ndarray对象，但这不是 numpy模块开发人员推荐的风格。</p>
<h2 id="numpy-ndarraypython">numpy ndarray对象和python的列表的区别</h2>
<ol>
<li>numpy ndarray内部的item是固定内存size的，改变size将会重新创建一个ndarray。</li>
<li>numpy ndarray内部的item是相同的data type的，因此是固定内存size的。</li>
<li>numpy的ndarray有助于大型数据的高级数学运算或其他操作，比python的序列那些执行会更有效率。</li>
<li>很多科学和数学计算的python模块都是基于numpy的ndarray的，当然他们支持python的序列类型输入，但都是转变成为numpy的array之后再进行相关计算的，然后他们的输出也通常是numpy的ndarray对象。</li>
</ol>
<h2 id="ndarray">ndarray对象</h2>
<p>numpy模块中很核心的一个概念就是ndarray对象。ndarray对象按照numpy官方手册的绘图是这样一个数据结构：</p>
<p><img alt="img" src="/images/机器学习/ndarray.png" title="ndarray"/></p>
<p>ndarray有一个头header来控制所有接下来存储的数据类型(dtype)，然后存储的数据则必然都是相同的数据类型 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/how-to-show-small-molecule-on-web.html">小分子网页显示第二版  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#chemistry-ref">chemistry
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-14T14:37:00+08:00">2017年 11月 14日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">第二版说明</h2>
<p>在 <a href="{filename}./小分子网页显示.html">第一版中</a> 我们介绍了在html文件中如何绘制数学表达式和化学分子式，简单来说就是利用 <code>mathjax</code>  这个javascript库。但是我们是如此喜欢markdown和pelican，那里在pelican下该如何做呢。</p>
<p>最优雅的方法就是引入 <code>render_math</code> 这个插件。</p>
<div class="highlight"><pre><span></span># the plugin
PLUGIN_PATHS = ['myplugins']

PLUGINS = [extract_toc', 'render_math']

MATH_JAX = {'tex_extensions': ['mhchem.js']}
</pre></div>
<p>然后剩下的一切就交给pelican来处理吧，其可以检测你的markdown下是否插入了数学公式或者说化学分子式，然后决定是否引入 mathjax 库。</p>
<h2 id="_2">数学环境简要介绍</h2>
<p>行内数学环境就像 TeX 里面一样 <code>$ $</code>  ，然后单独一行的数学表达式是 ： </p>
<div class="highlight"><pre><span></span>$$
...

$$
</pre></div>
<p>更多用 Tex写数学的知识请参看这个 <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">wikibook</a> 。值得一提的是 LaTeX风格 <code>\(</code> 这样的并不支持。然后 <code>\begin{equation}</code> 是支持的，不过这边markdown编辑器并不支持实时预览，所以推荐就使用 <code>$</code> 和 <code>$$</code> 了。</p>
<p>如下：</p>
<div class="highlight"><pre><span></span>$$
{\sigma  }^{2 …</pre></div>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/gitbook-tools.html">gitbook工具  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#others-ref">others
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-10T13:35:00+08:00">2017年 11月 10日
                            </time>
                        </div>
                    </section>
                    
<p>请读者主要阅读 <a href="http://www.chengweiyang.cn/gitbook/index.html">http://www.chengweiyang.cn/gitbook/index.html</a> 这篇教程。</p>
<p>下面我主要就我遇到的一些问题做一些补充说明。</p>
<h2 id="_1">安装</h2>
<p>推荐安装的是 <strong>gitbook-cli</strong> ，gitbook安装之后会提示你应该安装 <code>gitbook-cli</code> ，推荐是全局安装。</p>
<h3 id="_2">安装插件</h3>
<p>运行 <code>gitbook serve</code> 其会使用本地的插件，所以比如说要安装插件 <code>simple-page-toc</code> ，应该将其装在本地。</p>
<div class="highlight"><pre><span></span> npm install gitbook-plugin-simple-page-toc
</pre></div>
<h2 id="gitbook-build">gitbook build</h2>
<p>虽然gitbook serve也会输出一些内容，但更正式的做法是 <code>gitbook build the_foler</code> 来编译出你的gitbook内容供你的 webserver来服务。输出还是在 <code>_book</code> 那里，挂上 <code>index.html</code> 文件即可。</p>
<p>比如apache的话推荐用 <code>Alias</code> 语句来加载。</p>
<h2 id="gitbookgithub">gitbook和github的同步</h2>
<p>首先是gitbook那边的配置要配置好，github那边也要新建一个对应的仓库 …</p>
                </article>


                <article>

                    <h1 class="page-header"><a href="/articles/cheminfo-keyword-refrence.html">化学信息学研究中英文属性词对照  </a></h1>

                    <section>
                        posted in
                        <a href="/categories.html#chemistry-ref">chemistry
                        </a>
                        <div class="recent-posts-time">
                            <time pubdate="pubdate" datetime="2017-11-05T16:17:00+08:00">2017年 11月 5日
                            </time>
                        </div>
                    </section>
                    
<h2 id="_1">简介</h2>
<p>早期编程不会考虑中文化的问题，一切化学物质的属性都将是英文表示，后面在网页显示的时候才考虑怎么将其中文化显示。</p>
<p>这里将详细这些关键的属性名词，这可以看作这一编程领域的特定领域语言，或者用计算机语言的角度来说是： cheminfo-keyword。</p>
<h2 id="_2">列表</h2>
<h3 id="_3">标准名字</h3>
<ul>
<li>id类：各个不同的化学数据库对于相同的化学物质都有不同的id表达，这个id属性并没有特别的含义，不能作为化学物质的唯一性标识。</li>
<li>分子式 molecular_formular </li>
<li>分子量 molecular_weight</li>
<li>InChi  国际化合物标识  IUPAC推荐将其作为化合物的唯一性标识 （我在开发中将以InChi为判断纯物质唯一性的标准）</li>
<li>inchi_key inchi运行SHA-256哈希算法之后得到的哈希值。（在开发时可以作为实际检索key来使用）</li>
<li>smiles 类似于InChi的标记体系，更具有可读性。实际上学过有机化学的人几乎可以毫不费力的写出某个化合物的smiles式，不作为判断纯物质的唯一性表示</li>
<li>isomeric_smiles 也就是人们说的 unique SMILES 唯一smiles表示。加上了对同位素和手性的表示。</li>
<li>iupac_name IUPAC 系统命名法的名字</li>
</ul>
<h3 id="_4">名字转换</h3>
<p>在其他数据库或者地方获得的关于化学物质的属性，名字有各种形式。</p>
<p>建议写一个名字转换小函数。</p>
<h2 id="_5">模型设计</h2>
<p>substance -&gt; mixture</p>
<p>substance将有一个type属性：指明物质是单质，原子，离子 …</p>
                </article>

  <nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="/index6.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="/index8.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
             </div>
        </div>
    </div>
</div>




    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>


<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="http://www.cdwanze.work" title="cdwanze Home Page">cdwanze</a></li>
    </ul>
</div>
</footer>

 <script src="/theme/js/jquery.min.js"></script>
<script src="/theme/js/bootstrap.min.js"></script>
<script>
    function validateForm(query) {
        return (query.length > 0);
    }
</script>



<script>
    (function ($) {
        // custom css expression for a case-insensitive contains()
        jQuery.expr[':'].Contains = function (a, i, m) {
            return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
        };

        function listFilter() {

            $('#findtag')
                .change(function () {
                    var filter = $(this).val();
                    if (filter) {
                        // this finds all links in a list that contain the input,
                        // and hide the ones not containing the input while showing the ones that do
                        $('.list-of-tags').find("a:not(:Contains(" + filter + "))").parent().hide();
                        $('.list-of-tags').find("a:Contains(" + filter + ")").parent().show();
                    } else {
                        $('.list-of-tags').find("li").show();
                    }
                    return false;
                })
                .keyup(function () {
                    // fire the above change event after every letter
                    $(this).change();
                });
        }

        //ondomready
        $(function () {
            listFilter($());
        });
    }(jQuery));

</script> 

<script>
    $(function(){
        //点击回到顶部的元素
        $("#gotop").click(function(e) {
                //以1秒的间隔返回顶部
                $('body,html').animate({scrollTop:0},1000);
        });
    });
</script>

<script>
  $('.page-header').hover(function(){
    $(this).css("color",'#3875d7')
  }, function(){
    $(this).css('color','#8B0000')
  })
</script>


<script>
  $(document).ready(function(){
    $('a.slowscroll').click(function(event){
      var $anchor = $(this);
      $('html, body').animate({scrollTop: $($anchor.attr('href')).offset().top},1500);
      event.preventDefault();
      // $('a.slowscroll').parent().removeClass('active');
      // $('.navbar-header').hide();
      // $anchor.parent().addClass('active');
    })
  })
  console.log('document init...')
</script>




</body>
</html>