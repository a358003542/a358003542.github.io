<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625" />

    <meta name="author" content="wanze" />
    <meta name="copyright" content="wanze" />

    <meta name="description"
        content="初识JavaScript
javascript就历史起源来说似乎并不是一个主角命，更像是编程语言世界里面一个注定跑跑龙套的。1995年某个公司开发了某个浏览器，然后该公司需要为这个浏览器开发一个脚本语言，就把这个任务丢给了 Brendan Eich ，Brendan Eich很不情愿地接受了这..." />


<meta name="keywords" content=", posts, " />

<title>javascript核心教程  -
    万泽的博客</title>

    <link href="https://a358003542.github.io/theme/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://a358003542.github.io/theme/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <link href="https://a358003542.github.io/theme/css/base.css" rel="stylesheet">

<link rel="stylesheet" href="https://a358003542.github.io/theme/css/pygments.css">
<link rel="stylesheet" href="https://a358003542.github.io/theme/css/article.css">
</head>

<body>
    <div class="flex-wrapper">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="https://a358003542.github.io/">网站首页</a>

                <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse"
                    data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>


                <div class="navbar-collapse collapse" id="navbarContent">
                    <form action="https://a358003542.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"
                        class="d-flex me-auto">

                        <input type="search" name="q" id="tipue_search_input" class="form-control me-2"
                            placeholder="Search..." aria-label="Search">

                        <button class="btn btn-outline-primary text-nowrap" type="submit">搜索</button>
                        
                    </form>


                    <ul class="navbar-nav mb-lg-0">

                        <li class="nav-item ">
                            <a class="nav-link "
                                href="/archives.html">所有博文</a>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link "
                                href="/categories.html">博文分类</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link  " href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
                    </ul>


                </div>
            </div>
        </nav>

        
        <main>
<div class="container-xxl mt-3">
    <div class="row">
        <div class="col-md-4 col-lg-3"></div>
        <header class="col-sm-12 col-md-8 col-lg-8 page-header">
            <h1><a href="https://a358003542.github.io/articles/javascript-core-tutorial.html"> javascript核心教程  </a></h1>
        </header>
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-4 col-lg-3">
            <div class="p-3 bg-white small">
                <div style="font-size:1.2rem;">目录</div>
                <div class="toc">
<ul>
<li><a href="#初识javascript">初识JavaScript</a><ul>
<li><a href="#javascript代码repl环境">javascript代码REPL环境</a></li>
<li><a href="#代码注释">代码注释</a></li>
<li><a href="#分号">分号</a></li>
</ul>
</li>
<li><a href="#变量赋值">变量赋值</a><ul>
<li><a href="#全局变量">全局变量</a></li>
<li><a href="#变量命名风格">变量命名风格</a></li>
<li><a href="#解构赋值">解构赋值</a></li>
</ul>
</li>
<li><a href="#javascript数据类型">JavaScript数据类型</a><ul>
<li><a href="#typeof操作符">typeof操作符</a></li>
<li><a href="#null和undefined">null和undefined</a></li>
</ul>
</li>
<li><a href="#数值number">数值(number)</a><ul>
<li><a href="#求商">求商</a></li>
<li><a href="#nan">NaN</a></li>
<li><a href="#parsefloat">parseFloat</a></li>
</ul>
</li>
<li><a href="#布尔值boolean">布尔值(boolean)</a></li>
<li><a href="#字符串string">字符串(string)</a><ul>
<li><a href="#length属性">length属性</a></li>
<li><a href="#字符串的其他方法">字符串的其他方法</a></li>
</ul>
</li>
<li><a href="#数组">数组</a><ul>
<li><a href="#push">push</a></li>
<li><a href="#pop">pop</a></li>
<li><a href="#shift">shift</a></li>
<li><a href="#unshift">unshift</a></li>
<li><a href="#join">join</a></li>
<li><a href="#includes">includes</a></li>
<li><a href="#数组的其他方法">数组的其他方法</a></li>
</ul>
</li>
<li><a href="#集合">集合</a></li>
<li><a href="#函数">函数</a><ul>
<li><a href="#参数">参数</a></li>
<li><a href="#不定参数">不定参数</a></li>
<li><a href="#函数内变量的作用域">函数内变量的作用域</a></li>
<li><a href="#arguments">arguments</a></li>
<li><a href="#箭头函数">箭头函数</a></li>
<li><a href="#闭包">闭包</a></li>
</ul>
</li>
<li><a href="#程序中的逻辑">程序中的逻辑</a><ul>
<li><a href="#条件判断">条件判断</a></li>
<li><a href="#switch">switch</a></li>
<li><a href="#三元运算符">三元运算符</a></li>
<li><a href="#while循环">while循环</a></li>
<li><a href="#for循环">for循环</a></li>
<li><a href="#break和continue">break和continue</a></li>
</ul>
</li>
<li><a href="#对象">对象</a><ul>
<li><a href="#判断键是否存在">判断键是否存在</a></li>
<li><a href="#keys">keys</a></li>
<li><a href="#values">values</a></li>
<li><a href="#entries">entries</a></li>
<li><a href="#对象方法">对象方法</a></li>
<li><a href="#计算属性">计算属性</a></li>
</ul>
</li>
<li><a href="#异常">异常</a></li>
<li><a href="#模块">模块</a></li>
<li><a href="#网页端">网页端</a><ul>
<li><a href="#新建一个标签对象">新建一个标签对象</a></li>
<li><a href="#定位目标标签对象">定位目标标签对象</a></li>
<li><a href="#标签之间的关系">标签之间的关系</a></li>
<li><a href="#matches">matches</a></li>
<li><a href="#setattribute">setAttribute</a></li>
<li><a href="#dataset">dataset</a></li>
<li><a href="#classlist">classList</a></li>
<li><a href="#textcontent">textContent</a></li>
<li><a href="#parentelement">parentElement</a></li>
<li><a href="#removechild">removeChild</a></li>
<li><a href="#setinterval">setInterval</a></li>
<li><a href="#settimeout">setTimeout</a></li>
<li><a href="#addeventlistener">addEventListener</a></li>
<li><a href="#removeeventlistener">removeEventListener</a></li>
<li><a href="#eventtarget和eventcurrenttarget的区别">event.target和event.currentTarget的区别</a></li>
<li><a href="#fetch">fetch</a></li>
</ul>
</li>
<li><a href="#nodejs">nodejs</a></li>
<li><a href="#npm服务">npm服务</a></li>
<li><a href="#附录">附录</a><ul>
<li><a href="#no-jquery">no-jquery</a></li>
<li><a href="#javascript编码规范">javascript编码规范</a></li>
<li><a href="#参考资料">参考资料</a></li>
<li><a href="#脚注">脚注</a></li>
</ul>
</li>
</ul>
</div>

                <div class="p-1">首发于：<time pubdate="pubdate" datetime="2019-10-18T00:00:00+08:00">2019年 10月 18日 </time>
                </div>

                <div class="p-1">最近更新于：<time datetime="2023-10-21T00:00:00+08:00">2023年 10月 21日 </time>
                </div>


                <div class="p-1">分类：
                <a class="category-link" href="https://a358003542.github.io/categories.html#posts-ref">posts</a>
                </div>
            </div>
        </div>

        <div class="col-sm-12 col-md-8 col-lg-8">
            <div class="article-content">
                
<h2 id="初识javascript">初识JavaScript</h2>
<p>javascript就历史起源来说似乎并不是一个主角命，更像是编程语言世界里面一个注定跑跑龙套的。1995年某个公司开发了某个浏览器，然后该公司需要为这个浏览器开发一个脚本语言，就把这个任务丢给了 Brendan Eich ，Brendan Eich很不情愿地接受了这个不喜欢的任务，大概花了10天时间仓促完成了Javascript的设计，而且javascript最开始名字不叫javascript，叫livescript，就连javascript这个名字后面改也有点蹭Java语言的热度的嫌疑。</p>
<p>后面javascript的流行和大热可能是其创始人也料想不到的，实际上就是javascript后面刚发展起来的那几年，大家也只是觉得其主要作为一个前端脚本语言，对其仍然是一种轻视的态度，觉得这个语言也就写写浏览器界面的动态效果之类的。随着node.js的出现和相关生态圈的日益成熟壮大，人们才惊讶地发现javascript已经是编程世界里面最大热的几门语言之一了，继而近几年，随着javascript生态的不断成熟和壮大，再也没有人去质疑javascript作为当今编程世界里面的编程语言的主角地位了，最多只是碎碎念说几句javascript这个语言的一些问题。</p>
<p>虽然JavaScript为人诟病的地方有一些，但其实那些很多都是历史遗留问题，JavaScript语言在不断完善中，最新的es6规范也解决了很多诸如此类的问题，新手学习JavaScript的时候建议及时阅读最新的文档和参考资料。这里就推荐权威文档MDN：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDN docs</a> ，有什么问题去那里搜索查看。</p>
<p>html5教程里面已经讲过JavaScript代码放在那里的，这块讨论就略过了。</p>
<h3 id="javascript代码repl环境">javascript代码REPL环境</h3>
<p>一般浏览器按键 <code>F12</code> 或者右键查看开发者工具可以看到debug控制台，你可以在浏览器的debug控制台上运行javascript代码。</p>
<p>假如你已经安装了node环境，那么输入node命令之后进入REPL环境也是可以的。。</p>
<h3 id="代码注释">代码注释</h3>
<p>多行注释如下：</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * make() returns a new element</span>
<span class="cm"> * based on the passed-in tag name</span>
<span class="cm"> */</span>
</code></pre></div>
<p>单行注释用 <code>//</code> ：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// This is a comment that the computer will ignore. </span>
</code></pre></div>
<h3 id="分号">分号</h3>
<p>分号在编程语言这里都是表示一行结束。其在一些编程语言中是强制性的，在python和javascript这样的高级编程语言是非强制性的，不过一些编码规范会认为JavaScript语言里面的分号是不推荐加上的。</p>
<p>这方面有一些讨论，都略过了，总之JavaScript语言用分号标记一行结束不是强制性的了，读者愿意加上就加上，不加也行。</p>
<h2 id="变量赋值">变量赋值</h2>
<p>javascript的变量是区分大小写的。</p>
<p>javascript可以利用关键词 <code>let</code> 和 <code>const</code> 来声明变量或常量，其中let是声明变量的，const是声明常量的，所谓常量的意思就是这个量后面不会变了，所以const声明的常量后面试着去修改它就会报错。</p>
<p>以前JavaScript大多用var来声明变量，<strong>现代JavaScript编码不推荐使用var了<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></strong> 。</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.14</span><span class="p">;</span>
</code></pre></div>
<p>变量声明的时候也可以不赋初始值，如下所示，稍后再进行变量赋值：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<span class="nx">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2</span><span class="p">;</span>
</code></pre></div>
<h3 id="全局变量">全局变量</h3>
<p>在网页端有个全局对象 <code>window</code> ，var声明的变量就是全局变量，其就是将这个变量作为属性挂载在window对象上的。上面说了已经不推荐使用var来声明变量了，如果读者确实需要声明一个全局变量，那么用var还是可以的。</p>
<p>在nodejs那边全局对象名字叫做 <code>global</code> ，现在有标准不管是什么环境，都应该支持 <code>globalThis</code> 这个名字来指向这个全局变量。</p>
<h3 id="变量命名风格">变量命名风格</h3>
<p>虽然有的语言会偏好小写字母加下划线风格，有的语言会偏好驼峰风格，具体这块个人认为规定很细是没有意义的，有点像是空格是四格还是两格，鸡蛋从大头吃还是小头吃，唯一的要求就是变量名，某一种类型的变量名应该尽可能保持一种命名风格，这里说的命名风格包括前面说的两种风格，还包括编码者自创的统一前缀，统一后缀风格等等。从而可以让编码者一看就知道这个变量是函数名还是类还是一般变量等等。</p>
<p>变量命名风格的那些讨论很多都是一些规范和建议，读者了解下即可。编程语言关于变量名的死规定就是那些：</p>
<ul>
<li>只允许字母，数字，<code>$</code> 和 下划线</li>
<li>不可以是本编程语言的关键词</li>
<li>数字开头不行</li>
</ul>
<h3 id="解构赋值">解构赋值</h3>
<p>解构赋值在现代吗JavaScript，比如react框架里面等，用的是越来越多了。读者如果是初学者，建议学习下数组和对象的概念再来阅读本小节。</p>
<p>解构赋值的用途不是说要同时赋多个值，而是说数组有多个值，或者对象里有多个属性的时候，你只需要其中的某几个，那个时候用解构赋值是很合适的。比如说模块导入的时候模块对象有多个属性，但是你只需要某几个，那么这个时候就需要用到解构赋值。</p>
<h4 id="数组的解构赋值">数组的解构赋值</h4>
<div class="highlight"><pre><span></span><code>&gt; let x;
&gt; let y;
&gt; [x, y] = [3,4,5]
&gt; x
&lt; 3
&gt; y
&lt; 4
</code></pre></div>
<p>注意上面我故意把变量的声明和解构赋值语句分开了，为的就是让这个概念更清晰，通常我们不会写的这么啰嗦：</p>
<div class="highlight"><pre><span></span><code>let [x, y] = [3, 4, 5]
</code></pre></div>
<p>上面还有一个注意的点就是右边的数组可以比左边的变量多，x和y分别只取数组的第零个和第一个。</p>
<h4 id="对象的解构赋值">对象的解构赋值</h4>
<div class="highlight"><pre><span></span><code>&gt; let a;
&gt; let b;
&gt; {a, b} = {a:1, b:2, c:3}
&gt; a
&lt; 1
&gt; b
&lt; 2
</code></pre></div>
<h2 id="javascript数据类型">JavaScript数据类型</h2>
<p>javascirpt的数据类型分为两类，一类是原始类型：数值、字符串和布尔值；另一类是对象类型。此外javascript还有两个特殊的值：<code>null</code> 和 <code>undefined</code> 。javascript除了数值、字符串、布尔值、null、undefined之外就都是对象了。比如后面提到的数组，函数也都是对象，只不过其是javascipt内部定义的对象。</p>
<h3 id="typeof操作符">typeof操作符</h3>
<p>查看某个对象的对象类型，typeof操作符只可能返回以下六种结果：</p>
<ul>
<li>number</li>
<li>string</li>
<li>object</li>
<li>function</li>
<li>array</li>
<li>date</li>
<li>regexp</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li>symbol (new in es6)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="nx">x</span>
<span class="o">&lt;</span><span class="w"> </span><span class="s2">"undefined"</span>
<span class="o">&gt;</span><span class="w"> </span><span class="ow">typeof</span><span class="w"> </span><span class="mf">1</span>
<span class="o">&lt;</span><span class="w"> </span><span class="s2">"number"</span>
</code></pre></div>
<h3 id="null和undefined">null和undefined</h3>
<p>如果一个变量声明了但还没有赋值，那么该变量目前的值是 <code>undefined</code> 。</p>
<p>如果一个函数没有明确定义return某个值那么会默认返回 <code>undefined</code> 。</p>
<p>javascript的 <code>null</code> 则表示空值的意思，意思是编码人员明确说明该变量是空值。</p>
<h2 id="数值number">数值(number)</h2>
<p><strong>javascript不区分整数值和浮点数值</strong>，javascript中所有数字都用浮点数值表示，这是javascript和其他编程语言的很大不同。然后数值型那些运算，比如加减乘除之类的就不用多说了。</p>
<p>此外还有 <code>%</code> 是求余或者说取模操作：</p>
<div class="highlight"><pre><span></span><code>&gt; 5 % 2
&lt; 1
</code></pre></div>
<h3 id="求商">求商</h3>
<p>看到上面说的求余运算可能有的读者好奇JavaScript的求商运算是什么：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="mf">5</span><span class="o">/</span><span class="mf">2</span><span class="p">)</span>
<span class="o">&lt;</span><span class="w"> </span><span class="mf">2</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nb">parseInt</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="o">&lt;</span><span class="w"> </span><span class="mf">2</span>
</code></pre></div>
<p>JavaScript并没有专门的求商运算符，这个parseInt函数只是一个去整操作。而且这个parseInt函数也不是为了去整而编写的，而是为了将字符串转成整数的。</p>
<div class="highlight"><pre><span></span><code>&gt; parseInt('2.5')
&lt; 2
</code></pre></div>
<p>这种转换甚至还支持不同的进制参数，parseInt第二个参数表示输入字符串的进制：</p>
<div class="highlight"><pre><span></span><code>&gt; parseInt('0xff', 16)
&lt; 255
</code></pre></div>
<p>那如果我们执行这样的语句呢： <code>parseInt('abc')</code> ，其将返回 <code>NaN</code> 。</p>
<h3 id="nan">NaN</h3>
<p>NaN表示不是有效数值。</p>
<p>判断是否是NaN如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="kc">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="kc">false</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span>
<span class="kc">true</span>
</code></pre></div>
<p>显然parseInt函数一开始会用Number.isNaN来判断下，只有输入字符串是有效数值才会继续执行parseInt后面的程序逻辑。</p>
<p>那么如果读者想要将某个字符串转成浮点数而不是整数，这个时候就可以用parseFloat函数。</p>
<h3 id="parsefloat">parseFloat</h3>
<p>将一个字符串转成浮点数。</p>
<div class="highlight"><pre><span></span><code>&gt; parseFloat('3.1415')
&lt; 3.1415
</code></pre></div>
<h2 id="布尔值boolean">布尔值(boolean)</h2>
<p>javascript的布尔值是 <code>true</code> 和 <code>false</code> 。</p>
<p>在进行比较判断操作时，如果读者希望判断值是否相等，<strong>现代JavaScript编码都推荐使用三个等号<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></strong>。</p>
<div class="highlight"><pre><span></span><code>=== Equal to
!== Not equal to
</code></pre></div>
<p>boolean值的判断遵循以下规则：</p>
<ol>
<li><code>false</code> <code>0</code>  空字符串 <code>""</code> <code>NaN</code> <code>null</code> <code>undefined</code> 都被视作false</li>
<li>其他都被视作true</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nb">Boolean</span><span class="p">({})</span>
<span class="kc">true</span>
</code></pre></div>
<h2 id="字符串string">字符串(string)</h2>
<p>javascript表示字符串 <strong>单引号和双引号都是可以的</strong>。</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Capt. Janeway'</span><span class="p">;</span>
</code></pre></div>
<p>你可以通过 <code>+</code> 来实现一些简单的字符串拼接工作，也可以如下进行字符串模板操作。</p>
<div class="highlight"><pre><span></span><code><span class="sb">`How are you, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">?`</span>
</code></pre></div>
<p>字符串可以这样 <code>string[0]</code> 来索引第一个字符，如果你要索引最后一个字符则可以： <code>string[string.length - 1]</code> 。</p>
<h3 id="length属性">length属性</h3>
<p>该字符串的长度</p>
<div class="highlight"><pre><span></span><code>&gt; "hello".length
&lt; 5
</code></pre></div>
<h3 id="字符串的其他方法">字符串的其他方法</h3>
<p>这里简单提一下，有需要则查下对应的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String">文档</a> 。</p>
<ul>
<li><strong>toUpperCase:</strong> 变成大写</li>
<li><strong>toLowerCase:</strong> 变成小写</li>
<li><strong>indexOf:</strong> 返回子字符串出现的索引位置，index索引编号规则和python相同。</li>
<li><strong>substring:</strong> 返回子字符串</li>
<li><strong>replace:</strong> 替换操作 </li>
<li><strong>split:</strong>  分割操作</li>
<li><strong>slice:</strong> 切片取子字符串</li>
</ul>
<h2 id="数组">数组</h2>
<p>如下构建一个数组：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">array1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">array2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Array</span><span class="p">()</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3.14</span><span class="p">,</span><span class="w"> </span><span class="s1">'Hello'</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">]</span>
</code></pre></div>
<p>数组也类似字符串一个可以索引取值，比如上面的items数组</p>
<div class="highlight"><pre><span></span><code>&gt; items[2]
&lt; 3.14
</code></pre></div>
<p>数组也类似字符串一样通过 <code>array.length</code> 来获得该数组的长度。</p>
<div class="highlight"><pre><span></span><code>&gt; items.length
&lt; 6
</code></pre></div>
<h3 id="push">push</h3>
<p>数组末尾添加一个<strong>或者多个</strong>元素</p>
<div class="highlight"><pre><span></span><code>&gt; let arr = [1];
&gt; arr.push(2, 3)
&gt; arr
&lt; [ 1, 2, 3 ]
</code></pre></div>
<h3 id="pop">pop</h3>
<p>数组末尾元素移除，方法返回被移除的那个元素。</p>
<div class="highlight"><pre><span></span><code>&gt; arr
&lt; [ 1, 2, 3 ]
&gt; let popItem = arr.pop()
&gt; popItem
&lt; 3
&gt; arr
&lt; [ 1, 2 ]
</code></pre></div>
<h3 id="shift">shift</h3>
<p>类似于pop方法，只是针对的是数组的首个元素。</p>
<div class="highlight"><pre><span></span><code>&gt; arr
&lt; [ 1, 2 ]
&gt; let shiftItem = arr.shift()
&gt; shiftItem
&lt; 1
&gt; arr
&lt; [ 2 ]
</code></pre></div>
<h3 id="unshift">unshift</h3>
<p>类似于append方法，只是针对的是数组的头部。</p>
<div class="highlight"><pre><span></span><code>&gt; arr
&lt; [ 2 ]
&gt; arr.unshift(3)
&gt; arr.unshift(4, 5)
&gt; arr
&lt; [ 4, 5, 3, 2 ]
</code></pre></div>
<h3 id="join">join</h3>
<p>对列表中的各元素执行字符串拼接操作，可以设置连接符。</p>
<div class="highlight"><pre><span></span><code>var arr = ['A', 'B', 'C', 1, 2, 3];
arr.join('-'); // 'A-B-C-1-2-3'
</code></pre></div>
<h3 id="includes">includes</h3>
<p>javascript的数组（array）其本质也是一个类似上面讨论的对象，只不过其key默认为 <code>"0","1"</code> ，从而保留了元素的次序。所以如果你使用语句：</p>
<div class="highlight"><pre><span></span><code>&gt; 0 in ["a"]
true
</code></pre></div>
<p>所以不要用in语句来判断array是否含有某个元素，那是错误的，而应该使用array的 <code>includes</code> 方法：</p>
<div class="highlight"><pre><span></span><code>&gt; ["a"].includes("a")
true
</code></pre></div>
<h3 id="数组的其他方法">数组的其他方法</h3>
<p>这里简单提一下，有需要则继续查阅 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array">相关文档</a> 。</p>
<ul>
<li><strong>indexOf:</strong> 返回数组某个子元素的索引位置</li>
<li><strong>slice:</strong> 切片操作，类似于python的 <code>lst[0:2]</code> 那种表达方法。slice方法不接受参数就默认返回该列表所有引用，也就是通常所说的 <em>浅拷贝</em> 。浅拷贝简单来说就是复制一个字典或者数组（或者其他复杂对象），根据第一层key赋值第一层value，如果第一层key是另外一个对象的引用，那么拷贝前对象和拷贝后对象都会指向统一对象，深拷贝就是进一步深入递归拷贝。</li>
<li><strong>sort:</strong> 排序，破坏型。值得一提的是对于数字排序并不是按照从大到小的顺序来的，不太清楚为何:</li>
</ul>
<div class="highlight"><pre><span></span><code>&gt; var lst = [1,5,2,3,51,4,45,545,541,48,77]
&gt; undefined
&gt; lst.sort()
&gt; [ 1,
&gt; 2,
&gt; 3,
&gt; 4,
&gt; 45,
&gt; 48,
&gt; 5,
&gt; 51,
&gt; 541,
&gt; 545,
&gt; 77 ]
</code></pre></div>
<p>在python中最多说字符串就这样，但这里是number类型啊。然后要正常排序，我们需要如下操作（参看 <a href="http://www.w3school.com.cn/jsref/jsref_sort.asp">这个网页</a> ）:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">lst</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">51</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">45</span><span class="p">,</span><span class="mf">545</span><span class="p">,</span><span class="mf">541</span><span class="p">,</span><span class="mf">48</span><span class="p">,</span><span class="mf">77</span><span class="p">]</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">sortNumber</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span>
<span class="k">return</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">b</span>
<span class="p">}</span>
<span class="nx">lst</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortNumber</span><span class="p">)</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">lst</span><span class="p">)</span>
</code></pre></div>
<p>这里sort方法接受一个函数参数，这个函数接受两个参量，用来判断a和b的值大小，如果返回值小于0，则a放在前面。如果返回值大于0，则a放在后面。这种排序方法也支持数字字符串的情况。javascript在处理这种 <code>字符串 - 字符串</code> 的情况是会尝试做转换成number类型的才做。</p>
<ul>
<li><strong>reverse:</strong> 反转，破坏型。</li>
<li><strong>splice:</strong> 从指定的索引删除某些元素，然后在此处添加某些元素，相当于update更新了。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'Microsoft'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Apple'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Yahoo'</span><span class="p">,</span><span class="w"> </span><span class="s1">'AOL'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Excite'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Oracle'</span><span class="p">];</span>
<span class="o">&gt;</span><span class="w"> </span><span class="kc">undefined</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">,</span><span class="w"> </span><span class="s1">'Google'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Facebook'</span><span class="p">);</span>
<span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="s2">"Yahoo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"AOL"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Excite"</span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">arr</span>
<span class="o">&gt;</span><span class="w"> </span><span class="p">[</span><span class="s2">"Microsoft"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Apple"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Google"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Facebook"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Oracle"</span><span class="p">]</span>
</code></pre></div>
<p>参数意思是从索引2开始删除3个元素，然后添加后面的元素。从上面的例子可以看出splice方法是破坏型的方法，然后其返回的是删除了的那是那个元素。</p>
<p>splice方法也可以用于只删除不添加也就是纯删除操作，或只添加不删除的纯添加操作。</p>
<div class="highlight"><pre><span></span><code>// 只删除,不添加:
arr.splice(2, 2);
// 只添加,不删除:
arr.splice(2, 0, 'Google', 'Facebook');
</code></pre></div>
<ul>
<li><strong>concat:</strong> 连接两个数组，非破坏型。</li>
</ul>
<div class="highlight"><pre><span></span><code>&gt; var lst1 = [1,2,3]
&gt; undefined
&gt; var lst2 = ['a','b','c']
&gt; undefined
&gt; lst1.concat(lst2)
&gt; [1, 2, 3, "a", "b", "c"]
</code></pre></div>
<h2 id="集合">集合</h2>
<p>javascript中的集合Set大体也和python中的集合概念相近。</p>
<p>var s1 = new Set(); // 空Set
var s2 = new Set([1, 2, 3]); // 含1, 2, 3</p>
<p>然后其也有 <code>add</code> 方法用于添加一个元素。用 <code>delete</code> 方法来删除某个元素。</p>
<h2 id="函数">函数</h2>
<p>一个简单的函数对象定义如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">greeting</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">.`</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">greeting</span><span class="p">(</span><span class="s1">'world'</span><span class="p">)</span>
</code></pre></div>
<h3 id="参数">参数</h3>
<p>下面定义了temperature函数，接受一个参数，同时还设置了这个参数的默认值。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">temperature</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"25"</span><span class="p">){</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">n</span><span class="si">}</span><span class="sb"> degree.`</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&gt; temperature()
25 degree.
</code></pre></div>
<h3 id="不定参数">不定参数</h3>
<p>提到不定参数就要讲到javascript的spread语法，比如：</p>
<div class="highlight"><pre><span></span><code>&gt; function sum(x, y, z) {
  return x + y + z;
}

&gt; const numbers = [1,2,3]

&gt; sum(...numbers)
6
</code></pre></div>
<p>javascript的不定参数就是用spread语法来是实现的：</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">func</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,...</span><span class="nx">rest</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rest</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>&gt; func(1,2,3,4,5)
[ 3, 4, 5 ]
</code></pre></div>
<p>这个rest名字是随意的。</p>
<h3 id="函数内变量的作用域">函数内变量的作用域</h3>
<p>在es6引入let和const之后，JavaScript的函数内变量的作用域规则和其他编程语言是一致的了，就是所谓的块作用域。如果读者还没有学习过任何一门编程语言，那么请学习了解编程语言中变量作用域的相关概念。这块内容讨论我暂时省略了。</p>
<h3 id="arguments">arguments</h3>
<p>javascript的函数内部可以直接使用 <code>arguments</code> 这个变量，其不是一个数组，会有一些区别，但一般类似数组那样使用是没有问题的:</p>
<div class="highlight"><pre><span></span><code>arguments[0]
arguments.length
</code></pre></div>
<p>其会接受传入函数的所有参量。</p>
<h3 id="箭头函数">箭头函数</h3>
<p>简单来说箭头函数就是 lambda 表达式的更简洁写法，只是说在javascript语境下其和一般function的区别是：<u>其没有this绑定</u>。</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">param1</span><span class="p">,</span><span class="w"> </span><span class="nx">param2</span><span class="p">,</span><span class="w"> </span><span class="err">…</span><span class="p">,</span><span class="w"> </span><span class="nx">paramN</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">statements</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="闭包">闭包</h3>
<p>所谓闭包就是函数里面再嵌套一个函数，内层函数是可以调用外层函数中定义的变量的。</p>
<p>请看下面这个例子：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">report</span><span class="p">(){</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">add1</span><span class="p">()</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">count</span><span class="o">++</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">3</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">add1</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span>
<span class="p">}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">report</span><span class="p">()</span>
<span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span>
</code></pre></div>
<p>上面这个例子将会打印数字3，因为内层函数调用count一直是外层函数定义的那个count。</p>
<h2 id="程序中的逻辑">程序中的逻辑</h2>
<h3 id="条件判断">条件判断</h3>
<p>条件判断结构：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">feedback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">feedback</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Thank you! We should race at the next concert!"</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"I'll keep practicing coding and racing."</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="switch">switch</h3>
<p>如下所示是一个switch的例子，下面也演示了默认选项的写法。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span><span class="w"> </span><span class="nx">set_choice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'second'</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">choice</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'first'</span><span class="o">:</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'first'</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">'second'</span><span class="o">:</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'second'</span><span class="p">);</span>
<span class="w">      </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'default'</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>如果有多个选项共用相同的行为则可以如下写：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">;</span>
<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mf">1</span><span class="o">:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mf">2</span><span class="o">:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mf">3</span><span class="o">:</span>
<span class="w">    </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"1, 2, or 3"</span><span class="p">;</span>
<span class="w">    </span><span class="k">break</span><span class="p">;</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mf">4</span><span class="o">:</span>
<span class="w">    </span><span class="nx">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"4 alone"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="三元运算符">三元运算符</h3>
<p>如下所示：</p>
<div class="highlight"><pre><span></span><code>&gt; true ? 1 : 2
&lt; 1
&gt; false ? 1 : 2
&lt; 2
</code></pre></div>
<p>第一个表达式运算得布尔值，如果为true则返回第二个表达式的值，如果为false则返回第三个表达式的值。</p>
<h3 id="while循环">while循环</h3>
<p>下面语句从数字0打印到数字4，共打印5次。语句用花括号包围起来让整个片段语句总不会影响外围，自身运行逻辑也总不受影响。</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="w">  </span><span class="nx">i</span><span class="o">++</span>
<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>还有do while 语句</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">5</span>
<span class="w">  </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="w">    </span><span class="nx">i</span><span class="o">++</span>
<span class="w">  </span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">count</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="for循环">for循环</h3>
<p>一般来说很多循环语句任务while语句和for语句彼此都是能做的。不过在很多应用场景下，比如一些短小的循环任务、遍历任务等，是推荐使用for语句的，因为for语句在那些应用场景下编程语句会更简练一些。</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">count</span><span class="o">=</span><span class="mf">5</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">count</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">   </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="for遍历数组">for遍历数组</h4>
<p>如下利用for语句来遍历数组的值：</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span><span class="s1">'b'</span><span class="p">,</span><span class="s1">'c'</span><span class="p">])</span><span class="w"> </span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">v</span>
<span class="w">    </span><span class="nx">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">','</span><span class="w">  </span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>因为字符串类似于数组，也可以这样来遍历字符串：</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="s2">"abc"</span><span class="p">){</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>a
b
c
</code></pre></div>
<p>此外遍历数组还可以使用forEach方法，了解下：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span><span class="w"> </span><span class="s1">'b'</span><span class="p">,</span><span class="w"> </span><span class="s1">'c'</span><span class="p">]</span>
<span class="o">&lt;</span><span class="w"> </span><span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="p">){</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="p">);</span>
<span class="p">})</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="mf">0</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="mf">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="mf">2</span>
</code></pre></div>
<p>当然你也可以使用传统的for循环写法，某些情况下可能需要：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">arr</span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">]</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">&lt;</span><span class="w"> </span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="for遍历对象">for遍历对象</h4>
<p>如下用for语句来递归遍历对象的key:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="p">{</span><span class="s1">'a'</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span><span class="s1">'b'</span><span class="o">:</span><span class="mf">2</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>a
b
</code></pre></div>
<h3 id="break和continue">break和continue</h3>
<p>大体类似于python里面的break和continue语句逻辑，break语句是跳出外围循环，continue是结束本轮循环，然后开始下一轮循环。</p>
<h2 id="对象">对象</h2>
<p>对象是一个存储key-value键值对的数据类型。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'a'</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">23</span><span class="p">]}</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">a</span>
<span class="o">&lt;</span><span class="w"> </span><span class="mf">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">[</span><span class="s1">'c'</span><span class="p">]</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">]</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">b</span><span class="o">=</span><span class="mf">5</span>
<span class="o">&lt;</span><span class="w"> </span><span class="mf">5</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>上面例子演示了如何初始化声明一个对象，如果索引对象的值和如何修改对象的值。</p>
<p>用如上修改对象的属性，如果该属性名不存在，那么该属性会自动添加：</p>
<div class="highlight"><pre><span></span><code>&gt; data.e = 6
&lt; 6
&gt; data
&lt; { a: 1, b: 5, c: [ 23 ], e: 6 }
</code></pre></div>
<p>要删除一个属性则使用delete语句，如下所示，我们看到delete语句删除不存在的键是不会报错的。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="nx">e</span><span class="o">:</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="p">}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">e</span>
<span class="o">&lt;</span><span class="w"> </span><span class="kc">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="ow">delete</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">e</span>
<span class="o">&lt;</span><span class="w"> </span><span class="kc">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span>
<span class="o">&lt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">a</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="o">:</span><span class="w"> </span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="nx">c</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">23</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<h3 id="判断键是否存在">判断键是否存在</h3>
<p>判断某个对象时候有某个键可以如下使用in语句或者调用对象的hasOwnProperty方法。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1</span>
<span class="o">&gt;</span><span class="w"> </span><span class="s1">'a'</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">data</span>
<span class="o">&lt;</span><span class="w"> </span><span class="kc">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="o">&lt;</span><span class="w"> </span><span class="kc">true</span>
<span class="o">&gt;</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">'b'</span><span class="p">)</span>
<span class="o">&lt;</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div>
<p>和in语句的区别是 <code>hasOwnProperty</code> 只会处理自身属性，不会处理那些继承过来的属性，到了class类那里才可能有继承问题，所以这里认为基本上是没有区别的。</p>
<h3 id="keys">keys</h3>
<div class="highlight"><pre><span></span><code>&gt; Object.keys({"a":1,"b":2})
[ 'a', 'b' ]
</code></pre></div>
<h3 id="values">values</h3>
<div class="highlight"><pre><span></span><code>&gt; Object.values({"a":1,"b":2})
[ 1, 2 ]
</code></pre></div>
<h3 id="entries">entries</h3>
<div class="highlight"><pre><span></span><code>&gt; Object.entries({"a":1,"b":2})
[ [ 'a', 1 ], [ 'b', 2 ] ]
</code></pre></div>
<h3 id="对象方法">对象方法</h3>
<p>下面演示了对象如何定义自己的方法：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">x</span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">'data'</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">],</span>
<span class="w">  </span><span class="s1">'length'</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">())</span>
</code></pre></div>
<h3 id="计算属性">计算属性</h3>
<p>如果对象的属性用方括号括起来，这个叫做计算属性：</p>
<div class="highlight"><pre><span></span><code>&gt; let x = "a"

&gt; let obj = {
    [x] : 1
}

&gt; obj
{a: 1}
</code></pre></div>
<p>意思是这个属性的属性名是由方括号其内的变量计算得到的。对象初始化之后该属性名就不会变动了，即使你后面再去修改那个变量的值。可以看到计算属性在某些情况下是一个很有用的属性名定义方法，在那些情况下恰当地使用即可。</p>
<h2 id="异常">异常</h2>
<p>类似于python的 <code>try...except...</code> ，javascript有：</p>
<div class="highlight"><pre><span></span><code><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="err">（</span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s2">"Invalid Parameters"</span><span class="p">));</span>
<span class="p">}</span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="p">}</span><span class="k">finally</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">//always do something.</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="模块">模块</h2>
<p>一个模块就是一个js文件，下面就es6模块系统的基本导入导出语句进行说明：</p>
<p>模块js文件通过 <code>export</code> 来到处待使用的变量。</p>
<div class="highlight"><pre><span></span><code>export function what(){

}
</code></pre></div>
<p>要使用这个变量则是：</p>
<div class="highlight"><pre><span></span><code>import {what} from './where.js'
</code></pre></div>
<p>不是本地的js文件，而是安装的第三方js模块，比如安装在node_modules文件夹下的，可以直接使用模块名：</p>
<div class="highlight"><pre><span></span><code>import {what} from 'module_name'
</code></pre></div>
<p>一个模块可以设置一个默认的导出变量：</p>
<div class="highlight"><pre><span></span><code>export default what;
</code></pre></div>
<p>对于默认的导出变量可以直接import：</p>
<div class="highlight"><pre><span></span><code>import what from './where.js'
</code></pre></div>
<h2 id="网页端">网页端</h2>
<p>所谓DOM操作就是用Javascript来操作修改页面内容，这基本上是client端javascript的主要工作内容。</p>
<p>如果熟悉python的beautifulsoup或者lxml之类的分析网页的模块，那么对Javascript的这些DOM操作概念都不会太陌生。我这里就不做太多抽象的术语上的讨论了，下面的讨论会更加注重实践方面的东西。</p>
<p>document就是html文档的主对象，document.body就是对应着body这个标签对象。这里所说的标签对象在javascript的DOM这边对应的是Element类。在Javascript的实现中Element类并不是最底层的类，Element类继承自Node类。一般在html文档这边我们能看到的标签都是Element类，实际上通过Element类和它提供的便捷方法一般就能够完成DOM的大部分操作任务。</p>
<h3 id="新建一个标签对象">新建一个标签对象</h3>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'li'</span><span class="p">)</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">'this is text.'</span><span class="p">)</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span>
</code></pre></div>
<p>读者可以试一下，从这些方法的名字可以直接看出来，第一行就是创建了一个Element对象，具体就是创建了一个li标签。第二行是创建了一个文本节点。第三行是在Element最后一个子节点之后插入一个Node对象或DOMString对象【这就是MDN文档的原话】。最终结果就是：</p>
<div class="highlight"><pre><span></span><code>'&lt;li&gt;this is text.&lt;/li&gt;'
</code></pre></div>
<p>但具体获得上面这个字符串要使用 <code>e.outerHTML</code> 。</p>
<p>这个例子只是演示目的，实际操作只需要：</p>
<div class="highlight"><pre><span></span><code>e.textContent = 'new text'
</code></pre></div>
<p>根本不需要了解文本节点这个概念，当然Element类的 <code>textContent</code> 这个属性调用的底层实现肯定是基于文本节点来的。再比如属性有一个属性节点的概念，同样类似上面文本节点的讨论，一般通过Element类及其提供的方法就能完成DOM的绝大部分操作，如果有代码出现了文本节点或者属性节点等概念，但是代码的具体工作通过Element类的某个方法就能够完成，那么我们应该说这个代码是有问题的，是故意写的晦涩难懂。</p>
<h3 id="定位目标标签对象">定位目标标签对象</h3>
<p>如果目标标签有id那么自然就直接根据id来。 </p>
<div class="highlight"><pre><span></span><code>let e = document.getElementById('test')
</code></pre></div>
<p>返回的是找到的目标标签或者说Element对象。不用带 <code>#</code> 符号。</p>
<p>现在已经不推荐使用getElementsByTagName之类的方法了，querySelector和querySelectorAll已经足够强大和好用，不需要那些杂七杂八的方法了。</p>
<p>querySelectorAll和querySelector的区别是其返回的是所有匹配的结果而不是第一个匹配项，所以返回的是一个类似Array的对象。虽然不是数组但一般方法操作length，for语句之类的都有。</p>
<p>querySelector的语法使用如果熟悉css那种匹配规则的话那么立马就可以写出对应标签的匹配语句了：</p>
<div class="highlight"><pre><span></span><code>let e = document.querySelector('.class')
</code></pre></div>
<p>具体MDN的官方文档直接说明了其是一个 <strong>CSS选择器字符串</strong> ，所有有匹配问题实在不清楚的查阅css选择器书写规则即可。</p>
<p>匹配到的Element对象如果还想继续查找的话可以继续调用该Element对象的 <code>querySelector</code> 和 <code>querySelectorAll</code> 方法。注意上面的表述里面 **没有 <code>getElementById</code> ** 。</p>
<p>因为querySelector和querySelectorAll最常用，现代Javascript教程里有一段指出，querySelector和querySelectorAll其返回的是 <strong>静态的集合</strong>。也就是这两个方法是立即调用立即查找，结果封存不变，这个了解一下。</p>
<h3 id="标签之间的关系">标签之间的关系</h3>
<p>document不是Element对象，<code>document.documentElement</code> 才是Element对象，其对应的是html这个标签。</p>
<p>再实践中推荐采用下面的属性来实现纯元素导航。</p>
<ul>
<li>children 返回本标签下面的子标签 【没有并不是返回的null，用childElementCount来判断。】</li>
<li>parentElement  返回本标签上面的父标签 【没有则返回null】</li>
<li>firstElementChild 本标签下面的第一个子标签 【没有则返回null】</li>
<li>lastElementChild  本标签下面的最后一个子标签 【没有则返回null】</li>
<li>previousElementSibling 本标签上面的兄弟标签 【没有则返回null】</li>
<li>nextElementSibling 本标签下面的兄弟标签 【没有则返回null】</li>
</ul>
<h3 id="matches">matches</h3>
<div class="highlight"><pre><span></span><code>Element.matches(css)
</code></pre></div>
<p>返回布尔值，该标签是否匹配给定的css选择器。</p>
<h3 id="setattribute">setAttribute</h3>
<p><code>Element</code> 对象可以调用这个 <code>setAttribute</code> 方法来设置标签内的属性值。</p>
<div class="highlight"><pre><span></span><code>element.setAttribute(name, value);
</code></pre></div>
<h3 id="dataset">dataset</h3>
<p>查询到的元素如果div则是更具体的HTMLdivElement等等，其继承自HTMLElement，HTMLElement有一些专门的方法。比如这个dataset，其是可以只读属性，对应html中的<code>data-*</code> 这样的属性值，比如说 <code>data-name</code> 将变成dataset的<code>{'name': 'what'}</code> 。</p>
<h3 id="classlist">classList</h3>
<p>类似上面的讨论也是HTMLElement的一个属性，表示class属性数组。</p>
<h3 id="textcontent">textContent</h3>
<p>之前提到querySelector查到某个Element之后想要取出其文本内容可以调用 <code>textContent</code> 属性，document和Element都能这样做只是因为它们继承自Node对象，具体textContent这个属性的定义是在Node对象这里。</p>
<h3 id="parentelement">parentElement</h3>
<p>返回本节点的父节点</p>
<div class="highlight"><pre><span></span><code>parentElement = node.parentElement
</code></pre></div>
<h3 id="removechild">removeChild</h3>
<p>移除本节点的某个子节点</p>
<div class="highlight"><pre><span></span><code>node.removeChild(child);
</code></pre></div>
<h3 id="setinterval">setInterval</h3>
<div class="highlight"><pre><span></span><code>setInterval(func, 1000)
</code></pre></div>
<p>启动一个计时器，第二个参数是时间间隔，每个那个时间间隔将会执行一次目标函数，默认单位是ms。</p>
<h3 id="settimeout">setTimeout</h3>
<p>类似setInterval，启动一次性任务。</p>
<h3 id="addeventlistener">addEventListener</h3>
<p>给某个元素增加一个事件监听</p>
<h3 id="removeeventlistener">removeEventListener</h3>
<p>移除某个元素上的事件监听</p>
<h3 id="eventtarget和eventcurrenttarget的区别">event.target和event.currentTarget的区别</h3>
<p>事件响应到调用函数那边，通过event.target或者event.currentTarget可以引用触发事件的浏览器对象，不过它们是有一点区别的。</p>
<p>首先说一下事件的冒泡机制，当某个元素触发了某个事件，其会触发本元素上事件响应处理程序，然后该事件会继续冒泡到本元素的父元素之上，再触发父元素的事件响应处理程序。</p>
<p>event.target是引用那个最开始触发事件的那个目标元素，而event.currentTarget是引用那个实际处理事件的元素。比如说某个div里面有一个button，你给div绑定了事件监听处理函数，然后那个事件监听处理函数里面调用 <code>event.currentTarget</code> 则会指向那个div，而如果你调用 <code>event.target</code> 则会引用最开始触发click事件的那个元素，也就是button。</p>
<p>在一个目标button里面处理click事件使用event.target或者event.currentTarget是没有区别的。</p>
<h3 id="fetch">fetch</h3>
<p>更多信息请查看mozilla关于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch">fetch函数的介绍</a> 。</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"http://localhost:8080"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"请求状态: "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">){</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"返回文本："</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">text</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>
<p>fetch将请求一个URL，然后调用后面的函数。其中<code>response.text()</code> 返回的是一个Promise对象，什么是Promise对象，可以类比作python异步编程里面的协程，继续调用then才能获得内容。</p>
<p>如果你请求的是JSON api接口，那么可以直接调用 response.json来处理返回结果：</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"http://localhost:8080"</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
<span class="w">  </span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>
<h2 id="nodejs">nodejs</h2>
<p>详细讨论请参阅 <a href="https://a358003542.github.io/articles/javascript-nodejs.html">这篇文章</a> 。</p>
<h2 id="npm服务">npm服务</h2>
<p>详细讨论请参阅 <a href="https://a358003542.github.io/articles/javascript-npm.html">这篇文章</a> 。</p>
<h2 id="附录">附录</h2>
<h3 id="no-jquery">no-jquery</h3>
<p>更多相关知识请参阅参考资料四，即 <a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md">这个Github项目</a> 。下面就一些重点知识做出一些整理。</p>
<h4 id="选择某个标签">选择某个标签</h4>
<p>jquery的选择是该库很核心的一个功能，现代JavaScript提供了 <code>document.querySelector()</code> 和 <code>document.querySelectorAll()</code> 来作为替代。然后原来的 <code>document.getElementById()</code>  ， <code>document.getElementByClassName()</code> 或 <code>document.getElementByTagName()</code> 性能更好。</p>
<div class="highlight"><pre><span></span><code>// jQuery
$('selector');

// Native
document.querySelectorAll('selector');
</code></pre></div>
<div class="highlight"><pre><span></span><code>// jQuery
$('.class');

// Native
document.querySelectorAll('.class');

// or
document.getElementsByClassName('class');
</code></pre></div>
<div class="highlight"><pre><span></span><code>// jQuery
$('#id');

// Native
document.querySelector('#id');

// or
document.getElementById('id');
</code></pre></div>
<h4 id="设置html内容">设置html内容</h4>
<div class="highlight"><pre><span></span><code>// jQuery
$el.html();

// Native
el.innerHTML;
</code></pre></div>
<div class="highlight"><pre><span></span><code>// jQuery
$el.html(htmlString);

// Native
el.innerHTML = htmlString;
</code></pre></div>
<h4 id="ajax请求">AJAX请求</h4>
<p>推荐使用fetch。</p>
<div class="highlight"><pre><span></span><code>$.getJSON("./yaogua.json", laterProcess);
</code></pre></div>
<div class="highlight"><pre><span></span><code>fetch("./yaogua.json")
  .then((response) =&gt; response.json())
  .then(laterProcess);

function laterProcess(data){
  console.log(data)
}
</code></pre></div>
<h3 id="javascript编码规范">javascript编码规范</h3>
<h3 id="参考资料">参考资料</h3>
<ol>
<li>Javascript权威指南 David Flanagan著.</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">mozilla docs</a></li>
<li><a href="https://zh.javascript.info/">现代javascript教程</a></li>
<li><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md">you donot need jquery</a></li>
<li><a href="https://wangdoc.com/javascript/index.html">Javascript教程</a></li>
<li>node.js实战 图灵设计丛书 Node.js in action</li>
<li><a href="http://javascript.ruanyifeng.com/nodejs/npm.html">阮一峰的npm文章</a> </li>
<li><a href="https://www.sitepoint.com/understanding-module-exports-exports-node-js/">理解exports这篇文章</a> </li>
<li><a href="https://www.ruanyifeng.com/blog/2019/02/npx.html">npx使用教程</a></li>
</ol>
<h3 id="脚注">脚注</h3>
<div class="footnote">
<hr/>
<ol>
<li id="fn:1">
<p>var声明的变量的作用域很不同于其他编程语言，叫做 <strong>函数作用域</strong> ，即你在函数区块内声明的变量整个函数体都是可以使用的，包括哪些花括号结构或任意的嵌套函数。因为程序员对于变量的作用域习惯了块作用域，这常常造成一些代码的bug。此外var声明变量语句可以随意放置，这也会造成代码变得混乱和难以理解。 <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:2">
<p>三个等号，这不是什么别出心裁，也没有任何实际的好处，就是javascript的历史遗留问题罢了。因为之前JavaScript的两个等于在比较的时候会进行额外的类型转换，结果是这并不合乎大多数程序语言的习惯，因此后面引入了三个等号的严格值相等判断。一个典型的例子就是 <code>null == undefined</code> 会返回true 。 <a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
        </div>

    </div>
</div>
        </main>
        
        <footer class="footer">
            <ul class="nav justify-content-center">
                <li class="nav-item">
                    <span class="nav-link text-muted px-2">Created by Wanze & Companion with</span></li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="https://python.org/">Python</a></li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="http://getpelican.com/">Pelican</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="https://github.com/Python-Markdown/markdown">Markdown</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="http://oncrashreboot.com/pelican-elegant">Elegant</a></li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="https://www.javascript.com/">Javascript</a></li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="https://www.npmjs.com/">Npm</a></li>
                <li class="nav-item">
                    <a class="nav-link text-muted px-2" href="https://www.mathjax.org/">Mathjax</a>
                </li>
                <li class="nav-item">
                    <span class="nav-link text-muted px-2">etc...</span></li>
            </ul>
        </footer>
    </div>

    <script src="https://a358003542.github.io/theme/lodash/js/lodash.min.js"></script>
    <script src="https://a358003542.github.io/theme/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/base.js"></script>

<script src="https://a358003542.github.io/theme/js/article.js"></script>


</body>

</html>