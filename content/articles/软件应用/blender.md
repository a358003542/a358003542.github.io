[TOC]

## 前言

本文基于blender版本 **2.8** 。本文描述按键有时用大写字母有时用小写字母，具体来说只是指明键盘上的某个按键，并没有特别的含义。

### 初识blender

![img]({static}/images/2021/blender_terminology.png)

最左上角的菜单栏是最常见的GUI应用程序元素，然后接下来就是blender特有的概念了。blender最大的一个概念是workspace工作空间，上图编号1就是不同的workspace工作空间的切换Tab条。需要指出的是不同的workspace操作针对的都是同一blender实体对象，只是针对的是该实体对象的不同属性层面。

然后看到编号4那里，blender将它们放在最上面也是有原因的，因为这个scene场景和layer层也是很大的一个概念。你可以同时编辑多个场景，同一场景下还有不同layer层的概念，这个应该类似会2d数字绘画的图层概念。

在一个工作空间下会分成很多布局小窗体，这些小窗体称之为编辑器。比如最大的那个叫做3d视图编辑器，右上角那个是大纲视图编辑器，下面是属性编辑器。blender软件设计得非常灵活，每个编辑器窗体左上角比如看编号6那里，是可以更改本编辑器的类型的。然后各个编辑器之间边界也是可以拖动的，还可以分出新的布局窗口等等，这个读者有时间可以进一步了解下。

在3d视图编辑器那里，编号2内容很多，实际上它可以称之为3d视图编辑器的菜单栏。比如视图操作，选择操作，添加动作和针对物体的各个操作大部分都会在这里列出来。编号3后面我一般称之为中间那个工具栏，并没特别好的名字，这一工具栏很重要，比如第一个是设置你进行移动旋转所选中的坐标系，默认是全局坐标系，也可以选择相对于物体自身的局部坐标系等等。再比如说吸附设置，有的时候你希望某个物体刚好落在地面上，则在移动该物体的时候可以通过设置吸附来实现这点。再比如衰减编辑，这也是很重要的功能，比如当你在编辑模式下拖拽一个或几个点的时候，一般要加上衰减编辑来让这几个突出点不那么突兀。

编号5右边那一工具栏主要是一些视图上的设置了，虽然不直接和编辑动作相关，但在某些情况下也是很重要的。比如设置某一类物体的可见性，设置游标或原点等的可见性，透视模式和线框模式等也是很重要的视图查看模式，某些情况下你只能通过线框和透视来选择物体内部的某些点。

一般GUI应用程序最小的元素是标签，输入框之类的东西，我们看到blender编辑器下面距离这些最小的元素中间还有一层封装，我们一般将这些元素称之为面板Panel，只是前面提及的那些看上面大多像工具栏，就单独以工具栏来称呼了。再以3d视图编辑器为例，左边勾画出来的是工具面板，按 `T` 弹出工具面板或者隐藏，右边是属性面板，按 `N` 弹出属性面板或者隐藏。于是现在我们有两个称谓了，一个是属性编辑器，一个是属性面板，这是完全不同的两个东西。这里再扩展讲一点，blender具有灵活的插件机制，可以通过python语言很容易就编写出一个自己的插件，一般这些自定义插件的属性设置和按钮之类的大多喜欢放在属性面板这里。如果你看那个插件的位置那里写着：`View3d->Properties->what` ，假设有个what插件，你安装了，然后激活了，却发现好像没什么变化，那么你可以在view3d视图编辑器的Properties属性面板那里可以看到有个what面板【从桌面程序的角度严格来说应该称之为What Tab，但这不是重点了，比如说属性编辑器下面那么多Tab栏都简单称之为修改器属性面板或者什么面板问题不大。】。



## 3d视图基本操作

### 视图导航

`鼠标滚轮` 按住是视角旋转，`鼠标滚轮` 滚动是视角缩放。

鼠标左键选中一个物体，如果点到某个空白位置就是去选择。

视图正面平移blender是 `Shift+鼠标中键` 。

更多的视图导航推荐通过按下按键 <code>`</code> ，也就是反单引号来调用，非常方便。以聚焦选中物体操作来说，你可以点击小键盘的 <code>.</code> 来聚焦选中的物体，也可以通过这个Pie面板来聚焦选中的物体。通过这个Pie面板聚焦选中的物体对于在大纲视图中的选中一样有效。你可以点击小键盘的 <code>0</code>  来切换到摄像头视图，而这个摄像头视图也可以通过这个Pie面板获得。不过透视视图和正交视图的切换仍要继续通过小数字键盘的5来切换。

视图漫游模式：按键 <code>shift+`</code>即可进入视图漫游模式，也就是我们常常在玩游戏的那种移动风格，WASD移动EQ升降。鼠标左键确认漫游移动，鼠标右键取消漫游移动。个人挺喜欢这个模式的，你可以在编辑->首选项->视图切换那里选择默认是飞行漫游还是行走漫游，此外那里还有其他一些设置。

### 选择操作

多选是按住 `shift` 然后点击多个物体。

按下 `A` 是选择所有，按下 `Alt+A` 是去选择所有，通过点击空白位置也可以做到去选择。

按下 `B` 进入矩形选择，如果是鼠标左键移动，则执行正常矩形选择，如果按下鼠标中键移动，则执行去选择操作。选择完了鼠标右键退出选择模式。

按下 `C` 进入圆圈选择，如果是鼠标左键移动，则执行正常圆圈选择，如果按下鼠标中键移动，则执行去选择操作。选择完了鼠标右键退出选择模式。圆圈选择时可用鼠标滚轮来进行缩放圆圈动作。

### 移动旋转和缩放

选择物体，按下 `G` 则进入随意物体移动模式，物体会随着鼠标随意移动，如果按下 `G` ，然后按下 `X` ，则将按照X轴移动，其他轴类似。如果移动的过程中按下鼠标右键，则移动取消，点击鼠标左键则移动确认。

如果按下 `G` 然后按 `Shift+z` 则将进入z轴锁定移动模式，也就是z轴不变其他随意，将在一个垂直于z轴的平面移动。

如果按下 `G` 然后点击鼠标中键移动，则将进入三轴吸附移动模式，具体要看你鼠标往哪个方向移动。

按下 `R` 将进入随意旋转模式，如果按下 `R` ，再按下 `X` 则将按照X轴旋转，其他类似上面移动操作的讨论，就不赘述了。

按下 `S` 将进入保持物体比例的整体缩放，如果按下 `S` ，再按下 `X` 那么物体将沿着X轴缩放。如果按下 `Shift+z` 则会沿着z面缩放。

### 快捷复制物体

按下`Shift+D` 将快捷复制物体，需要注意的是此时你哪怕点击鼠标右键的那也只是取消了移动过程，但物体仍然已经复制了。

### 快捷添加物体

按下 `Shift+A` 将打开快捷添加物体菜单。

### 删除某个对象

这里说的是某个对象而不是某个物体，因为删除动作在很多地方都是通用的。按下 `X` 或者 `Delete` ，推荐使用 `X` ，在某些情景下有更方便的选项。

### 当前操作编辑器最大化

blender任何当前操作面板通过按下 `Ctrl+space` 可以获得最大化效果。

### 打开物体渲染方式Pie面板

选择物体然后按下 `z` 将打开物体的多种渲染方式面板，比如有线框、实体、渲染和材质预览。其中线框查看模式很方便选择某些之前在实体下难以选择的物体。

### 撤销和重做

大家熟悉的 `Ctrl+z` 在这里也是编辑器撤销动作，然后 `Ctrl+Shift+z` 是编辑器重做动作。

### 练习题1

1. 从零开始新建一个场景
2. 新添加一个立方体，并将其按照X轴移动到某个位置
3. 根据原中心立方体复制一个新的立方体，并将其按照Y轴移动到某个位置
4. 删除原中心立方体
5. 新建一个猴头，将其按照Z轴移动到某个位置，然后绕着Z轴旋转到一个你喜欢的角度。
6. 试着切换各个视角来查看猴头的顶部，底部，聚焦左部【先左部再聚焦视图】。



## 利用MakeHuman快速建模人体

本小节我们将利用MakeHuman快速建模一个人体并导入到blender里面去，模型还有骨架还有其他相关我们暂时不太懂都没关系，本小节主要是熟悉这个有用的工具然后对blender的导入导出文件保存和插件之类的有个大体上的了解。

首先我们在 [MakeHuman官网上](http://www.makehumancommunity.org/) 上下载这个工具，下载之后将这个软件安装好，然后然后看到一个blender的插件文件夹。这个稍后再说，读者先玩一下这个MakeHuman软件，折腾出一个你喜欢的人体模型。以前的话是这个工具导出dae格式，然后利用blender的文件导入功能来导入模型的，现在是推荐使用官方提供的那个blender插件自动导入到blender那边来。

我们打开编辑->首选项->插件，选择安装插件，把`makehuman-plugin-for-blender.zip` 这个插件安装上，其他那几个插件和这里讨论的导入关系不大。blender的插件安装上之后还需要勾选上才是正式启用了。

blender的插件就是一些python脚本，具体功能各异，就这个插件我们要在 View3d编辑器的属性面板栏那里，读者请记住这里的术语，blender最大的一些套件是workspace，然后一个workspace下面有很多编辑器，每个编辑器最左上角那里都是可以切换的。然后每个编辑器里面又有不同的Panel面板栏，这里是属性那个面板栏。这个view3d编辑器就是刚开始最大的那个查看模型的编辑器，然后属性面板栏是你按N之后右边弹出来的那个面板栏。

这个插件和MakeHuman软件是通过套接字交流的，你还需要在MakeHuman那边Community->Socket那里把接受连接勾选上，然后在属性面板栏那里的MakeHuman插件那里点击import human。

我测试的是V0.7.0版本，衣服导入有点问题，在设置那里勾选只导入body和bodyparts则不会再报错了。骨架姿态模型包括头发的模型都正常导入进来了，可以想象后面利用这些骨架可以很方便就能做出人体移动攻击等动画了。

读者请将该模型文件以blender文件格式的形式保存起来，然后还可以试着导出fbx文件格式，一般unity或者unreal都对fbx格式支持较好。



## 3d视图进阶

本文毕竟不是blender的参考手册，不会对太多细节面面俱到，参考手册是必须将100%所有可能的内容包含进去，而学习tutorial要做的就是将所谓日常80%时间在用的那20%知识说明清楚。前面关于3d视图基本操作已经说了一些了，下面继续就3d视图编辑器的一些重要内容做出说明。



### 3d游标

在3d视图右边的工具栏那里，视图叠加层可以控制某些元素是否显示，读者可以试一下这里的3d游标和原点。默认情况下3d游标是位于坐标系的原点的，但这个3d游标是可以移动的。点击左边的工具面板第二个选项，然后可以通过鼠标左键来随意更改3d游标的位置。推荐使用快捷键 `shift+鼠标右键` 来快速更改3d游标的位置。那么这个3d游标有什么用呢：

1. 默认新增物体根据这个3d游标来的，而不是默认的原点。
2. 看到3d视图中间的工具栏，第二个选项点击会看到一个3d游标选项，如果选择这个，那么之前描述的对物体的旋转移动操作都是相对于这个3d游标来进行的，这其中以旋转操作差异最大。有时你会感到旋转视角很不方便，那是因为你的3d游标位置没有设置好，比如按下 `Shift+S` 选择游标到选中项。



#### 快速吸附移动Pi面板

按下 `Shift+S` 将打开快速移动吸附pie面板，你可以选择游标到选中项，游标到世界原点或移动物体到游标位置等。

比如你随便设置一个3d游标位置，然后选择选中项到游标，则将快速移动该物体到目标位置。



### 操作后修改面板

3d视图编辑器下很多操作操作完确认之后左下角会弹出一个参数后修改面板，以添加物体为例，下面的面板可以修改新建物体的尺寸等属性。

这些属性修改有些可能你并不关心，有些可能之后也可以修改，但有些可能过了就没地方修改了的，这时只好将之前的操作撤销然后再做一次。

### 平滑着色

shade smooth，选择物体然后点击鼠标右键弹出物体上下文菜单，你会看到平滑着色这个选项，如果你新建的是一个UV球的话，那么将会很明显地看到球体变得更平滑了。这个过程更确切地来说是将该物体的每个表面都进行了shade smooth处理。

平滑着色让两个平面的过渡变得不那么生硬，但并没有改变具体模型的点线面数据，不过确实改变了该物体的最终渲染效果。

## 大纲视图编辑器

### collections

collection是blender用来管理各个对象的类似于文件夹的概念，blender默认最大的collection是场景集合。

你可以选中物体然后按下 `M` 移动物体到某个新的collection，你可以直接在大纲面板那里创建collection。

公用物体最好在相关的collection外围。

在大纲里面删除collection并不会删除里面的物体。

collections那边勾选或去勾选会同时影响视图操作和渲染画面，而那个眼睛图标的打开和关闭则只影响视图操作，不影响渲染画面。



## 编辑模式入门

最开始那个视图现在称之为物体模式，然后你可以通过按 `Tab` 来切换物体的 `物体模式` 和 `编辑模式` 。

在编辑模式下视图导航操作是一模一样的，不过选择操作略有所不同了。编辑模式默认的是点选择模式，也就是选择是某个顶点，此外在左上角菜单那里还可以选择模式为边选择模式和面选择模式。

在物体模式下的一些选择操作在这里同样是适用的，比如：

- 多选是按住 `shift` 然后点击多个
- 按下 `A` 是选择所有，按下 `Alt+A` 是去选择所有，通过点击空白位置也可以做到去选择。
- 按下 `B` 进入矩形选择，如果是鼠标左键移动，则执行正常矩形选择，如果按下鼠标中键移动，则执行去选择操作。选择完了鼠标右键退出选择模式。
- 按下 `C` 进入圆圈选择，如果是鼠标左键移动，则执行正常圆圈选择，如果按下鼠标中键移动，则执行去选择操作。选择完了鼠标右键退出选择模式。圆圈选择时可用鼠标滚轮来进行缩放圆圈动作。

对于上面你选中的对象，同样类似之前介绍的G移动，R旋转，S缩放等操作都和物体模式下一样的，这里就不赘述了。

删除动作都是选中对象然后按键`X` 。

### 衰减编辑

对于多个点的生拉硬拖选中衰减编辑会更好一些。衰减编辑在中间那个工具栏那里。可用鼠标滚轮来调节衰减的影响范围。

### 细分

【subdivide】选中一些边，鼠标右键菜单会看到细分选项，这会将你选中的那些边额外细分出一些顶点，默认是一个。

### 新建一个顶点

 按住Ctrl然后在目标位置点击鼠标右键，则会在目标位置额外生成一个点，如果你之前没有选中某个顶点，则这个新的顶点是游离在原物体之外的；如果你之前选中了某个顶点然后再新建一个则会将它们连接起来。对于游离之外的情况，你再选中两个目标顶点，按键 `F` 则会将这两个顶点会连接起来。

可以多次 `Ctrl + 鼠标右键` 来新建多个顶点。对于三个顶点的按键 `F` 操作是生成一个面。

如果你之前选中的是边，再Ctrl+鼠标右键则会扩展出一个面。如果你之前选中的是面，则相当于一次自由挤出动作。

一般这样的自由扩展对目的地要求并不需要特别精确，但也不能太离谱，如果在透视视图具体距离把控会有点麻烦，推荐在正交视图下来做这个事情。对目的地要求更精细一点的则推荐使用 <code>`</code> 调出来的快速视图切换面板来切换到顶正交视图，左正交视图等来进行，这会控制你新加入的点一定是在某个平面之上。

### 连接顶点路径

基于两个顶点连接成为边，上面提到的按键 `F` 更多的是针对游离顶点的情况，于面内连接两个顶点成边推荐按键 `J` ，叫做连接顶点的路径。

### 线框模式和透视模式

在3dview右边那一栏工具那里，可能之前你看到过这个线框模式和透视模式了。那么这里再强调一下，因为对于这里模型的某些点边面的选择，有时是必须上线框模式或者透视模式才可行的。



### 连接

如果你的场景有多个物体，只选择某一个物体再进入编辑模式则再编辑模式下你只能编辑该物体。你也可以在物体模式下选择多个物体然后再进入编辑模式，这些物体都是可以编辑的，不过这些物体之间的顶点连接操作不能直接进行，因为这两个物体仍然是单独的两个物体，你需要将它们合并为一个物体才能进行顶点连接操作。

你可以在物体模式下选择这两个物体之后，然后按 `Ctrl+J` 来合并这两个物体。需要注意的是你的选择顺序决定了合并过程中的主物体，具体来说就是后选择的物体为合并主物体，合并主物体决定了新物体的默认中心点所在。

如果你是在编辑模式下又新加入了一个物体，则会自动合并入原主物体。

### 分离

选中一些顶点，然后按键 `P` ，选择分离选中项，则会将原网格体的部分顶点组分离出来。分离动作可以看作上面连接动作的反向操作，分离出来之后就是两个单独的物体了。



### 顶点组选择方案备份

以一个圆球为例，在透视视图下通过圆圈选择可以很方便选择出两个上下对称的顶点选择，你可以去选择下面的，然后操作上面的，但之后你想再去选择上面的，操作下面的就不行了，因为你已经丢失了之前的定点组选择方案了。

这可以通过顶点组选择方案备份来实现：

- 选中目标顶点
- 在属性面板的物体数据属性那一栏里面，有一个顶点组一栏。选择加号新增一个顶点组。
- 还需要在下面点击指定，然后以后都可以通过这里的选择和弃选按钮来重现这个选择方案了。



### 内插面

选择一个或多个面，在面之内再插入一个面。具体就是选择面之后按键 `I` ，可以拖动选择面的厚度和按键Ctrl来控制面的高度，不过也可以通过弹出来的后参数面板来进行微调。

以一个立方体来说，选择所有面之后，可以通过这里后参数面板勾选各面来对所有面执行内插面动作。

### 挤出

【extrude】选择一个或多个面，然后将这些面挤出。具体就是选择面之后按键 `E` ，默认是按照原面的法线方向挤出。后参数面板也可以微调挤出的方向。前面介绍新建一个顶点那里提到过如果你选择的是面的话，那么`Ctrl+鼠标右键` 就是任意位置的挤出动作。

挤出动作工具栏那里还有几个额外的选项，以一个正方体来说，对所有面执行内插面动作之后，选择这些新增的内插面然后执行默认的挤出动作是不行的，如果选择那个挤出各个面的选项，则各个面就会按着各自的法线方向挤出。需要注意的是工具栏操作是需要点击那个小图标来执行的。

### parenting

parenting会让某个子物体依赖于某个父物体，具体来说就是子物体会跟随父物体的移动旋转缩放等动作，然后值得一提的是单独操作子物体父物体不会发生属性变动。

具体操作就是选择两个物体，然后按键 `Ctrl+P`  ，后选择的物体为父物体。

连接和parenting的区别是连接之后的两个物体已经合并为一个物体了，而parenting之后两个物体仍然是独立的两个物体，只是说子物体在移动等操作上会跟随父物体。

按键 `Alt + P` 可以清除某个物体和其他物体的parenting关系。 

### 倒角

【Bevel】倒角，使某一个边或者多个边成斜角。快捷键是 `Ctrl+B` 。

倒角是让你的物体的顶点显得不是那么尖尖的，让其具有一定的斜面。此外你还可以在修改器那里添加倒角修改器。倒角修改器还可以修改材质等其他参数，此外还有限定方式等额外的参数（和编辑模式下倒角操作下的参数相比较）。因为修改器的特性都是及时预览可以回滚的，所以用倒角修改器也是个不错的选择。

### 选择循环

【select loop】编辑模式下按键 `Alt+鼠标左键` 会执行选择循环，你要点击的位置是某个边，然后blender会试着根据这个边来选成一个环。在不能循成一个环的情况下，就是简单选成一条边。

如果是在编辑模式下的面选择执行选择循环，则是试着循成一个面环。

### 环切

【loop cut】环切会新切出一个面。快捷键是 `Ctrl+R` 。点击工具栏那边的环切按钮操作会略有不同，但最后都会弹出后参数修改面板，在那里有切割次数，还有系数来控制环切的位置等。

### 切割

【Knife】切割工具像一把小刀在你的物体模型上随意切割出一些节点，切割动作就是鼠标点击，然后按下 `E` 表示本此切割临时生效，所有临时生效的切割动作要生效需要按下 `Enter`  【spacebar空格键也可以】。鼠标右键是取消之前的切割，这里需要注意的是前面提到的 `E` 临时本次切割，还没有 `Enter` 的话你按下鼠标右键所有的临时切割动作都会取消。

### 多边形建形

【poly build】假设新建一个平面，然后点击工具栏的多边形建形。鼠标移动到一个边，会看到某个边高亮了，如果再外外面移动一点，按住Ctrl，再点击则会拓扑出一个新的点和由此而来的三角面。按住Shift再点击该点会删除该点和由此拓扑而来的面。然后你这个多边形建形模式下你可以很方便地拖动某个点或者拖动某个边，注意吸附在这里也会有效。

这个工具了解下，看上去可能在某个地方会很有用。

### 旋绕

【Spin】说明旋绕操作最好用制作一个杯子这个例子来说明。读者如果和我一样没什么美术底子，画什么东西没什么空间感，可以先试着照着图片来临摹，先添加一个图片作为参考，再进入编辑模式之后照着图片来画杯子的点。然后进入顶正交视图，进行旋绕操作，旋绕角度360度，适当增加步数。

后面的修改可以自由发挥，我这边是先把杯子多余的点去除然后只剩下杯子的外表面，然后加入solid实体化修改器，然后平滑着色。然后从网上找了一个glass的材质，效果还行。【blenderkit插件下载材质很有用，这里推荐下。】

### 平滑

【Smooth】展平各个顶点的夹角。

样例：制作一个子弹：新建一个圆柱体，旋转，选择一面，挤出，再缩放，再挤出，再缩放等等。选择那些挤出的顶点进行平滑操作。

制作一个水滴：选择一个正方体，选择一面，挤出，再缩放，再挤出等等。选择所有顶点然后进行平滑操作，然后你会发现慢慢物体变得似乎是一个水滴的形状了。

### 滑移边线

【Edge Slide】新建一个正方体，选择一边，然后选择工具进行拖动，该边将沿着物体原有的边进行滑移。这个实际操作下就马上知道怎么回事了。这个操作很有用，快捷键是按 `G` 两次。

### 法线缩放

快捷键是 `Alt + S` 。和普通缩放的区别是各个面在缩放过程中方向仍然在原面的法线上，这显得该物体在缩放过程中这部分变胖了或变瘦了。即使是很简单的一个正方体，经过两次细分之后缩放某一环的面，普通缩放也会让上面那个平面变形，而法线缩放仍然会保证上面那个平面是平坦的。

### 反向选择

按键 `Ctrl+I` 会反向选择顶点组。

### 隐藏选择的顶点组

临时隐藏某些节点，按下 `H` 会临时隐藏选择的节点。

按下`Alt+H` 会显示隐藏的节点。 

### 吸附编辑

移动节点，你希望节点移动之后吸附在其他物体的某个面上，则可以选择吸附编辑的吸附到面选项。

如果你勾选下面的 `项目中的独立元素` ，则衰减编辑模式下移动中受影响的节点也会进行吸附动作。

然后按下 `Ctrl+L` 会执行关联节点的全选动作。

### 练习题

1. 新建一个圆球体
2. 将这个圆球体变成一个橄榄球的类似动物肚子的形状。
3. 在这个橄榄球前面加上两个角
4. 在这个橄榄球下面加上四条腿
5. 在这个橄榄球后面加上一条尾巴

## 编辑模式进阶

### 选择所有相连顶点

编辑一个复杂模型常常会分为好几个基本网格体衍生再组合，各个网格体之间顶点是不相连的，只要在编辑模式下添加这些网格体，这些网格体在物体模式下是不区分的。

这个时候你会经常有这个需要，那就是选择由某个基本网格体衍生出来的网格部分，按键 `L` 即可以实现这点，具体叫做选择所有相连的顶点。



### 融并顶点

选择你想要融并的那些顶点，然后按键是 `M` 。

### 重置蒙皮尺寸

选择你想要调整蒙皮尺寸的那些相关点，然后按键 `Ctrl+a` ，就可以调整这些点相关的蒙皮尺寸了。



## 修改器

如果是多个修改器的话，则最上面的修改器具有最高优先级，也就是最先执行。一个例子就是新建一个平面，然后对这个平面添加两个修改器，一个是表面细分修改器，一个是实体化修改器。如果实体化修改器先执行则出来的模型样子会更平滑些，而如果表面细分先执行则出来的模型样子会更陡峭些。

blender修改器很多，有时间慢慢熟悉，不着急一下就学会它们。

### 表面细分修改器

【Subdivision surface 】表面细分修改器用来进一步细分模型的各个面。修饰器是临时的，是可以回滚的，这是和直接在网格节点上细分的最大不同。

### 实体化修改器

【Solidify】实体化修饰器给网格体的表面增加厚度。

### 阵列修改器

【Array】非常有用的一个修改器，重复生成某个物体。

### 倒角修改器

【Bevel】编辑模式下是对物体的某一部分执行倒角操作，这里的倒角修改器是对整个物体执行倒角操作。

### 布尔修改器

【Boolean】两个网格体之间的交集，并集和差集组合。

### 镜像修改器

【Mirror】样例：新建一个UV球，然后顶部透视打开X Ray将一边删掉，再新增一个镜像修改器，我们就会看到这个圆球仍然是一个圆球，只是节点只有一半了。现在你拖动一边的顶点，另一边也会有同样的拖动效果，看上去像长了一对耳朵。

一般推荐的配置是选择整个物体然后按下 `Shift+S` ，选择游标到选中项。然后在物体模式下选择物体->设置原点->原点到3d游标。这样镜像的对称点才和物体中心匹配。

下面的clipping范围限制这个选项很有用，经常会勾选上，这样你在编辑的时候会阻止你将顶点移动到镜像那边。

### 蒙皮修改器

【Skin】解释蒙皮修改器以建模一个树来做出说明，先用 `Ctrl+鼠标右键` 绘制一些点，用这些点来勾勒出树的大体形状，然后选择蒙皮修改器，于是我们会看到一个大概树干树枝的大体形状。【如果树干树枝太粗了可以按键 `Ctrl+a` 来重置蒙皮尺寸来调整这些树干树枝的粗细。】

### 精简修改器

【decimate】精简修改器允许你在尽量不改变网格体的形状的情况下，减少其顶点和面的数量。下面摘自Unity2018官方文档的一段文字：

> 您应该使用的多边形数量取决于您需要达到的质量，以及您的目标平台。对于移动设备而言，每个网格 300 到 1500 个多边形就可以取得良好的效果，而对于桌面平台，理想的数量范围大约为 1500 到 4000。如果游戏经常会同屏内出现大量角色，那么您可能需要减少每个网格的多边形数量。

在最新的Unity2020官方文档的 [Unity - Manual: Modeling characters for optimal performance (unity3d.com)](https://docs.unity3d.com/2020.3/Documentation/Manual/ModelingOptimizedCharacters.html) 中已经略去了具体多边形的推荐数目，而只是在讨论要尽可能减小模型的多边形数目。



## 曲线

曲线在blender中并不渲染而是一种辅助创建mesh网格体的工具，比如你可以先绘制一个贝塞尔曲线，然后调整该曲线的走向，然后根据这个曲线来生成一个管道形状的网格体。





## Shading工作空间

Shading工作空间是用来进行物体阴影相关设计的。

连接两个面板之间的节点用鼠标左键点击连接即可，而断开某个连接按下Ctrl选择某个节点即可。



## Sculpting工作空间

按键 `F` 来调整影响区域大小。Shift+F调整力道。

### 雕刻模式

雕刻模式一般来说还是推荐购买一个手绘板

手绘板在设置上下面那个按键推荐换成鼠标中键，这样按着方便浏览物体。



### 一般自由线

画线是凸起来的线，按住 `Ctrl`  画线则是凹进去的线。

### 光滑

区域光滑处理



### 膨胀

区域膨胀处理

## UV 编辑工作空间

选择缝合边，然后按键 `Ctrl+E` ，选择标记缝合边。所谓缝合边就是比如桌子腿和桌子面交接的那个边，缝合边seam是UV unwrap里面很重要的一个概念。

选择新建图像，这个图像就是Texture图像文件，可以设置Texture grid属性这样看得更清楚些。然后在材质那边把Texture图像文件设置好。

标记缝合边是很重要的一环，如果发现Texture图像打上之后那一块没有出现方块图案那么那一块是需要缝合边修正的。

缝合边标记的一个推荐做法是 `选择 -> 选择锐边` 。 参考了 [这个视频](https://www.youtube.com/watch?v=IQeOEEI8FWE&ab_channel=JoshGambrell)。

此外下面还有一个智能UV unwrap选项似乎有不错。

## 灯光

灯光三点：

- key light 主光源 看到这个物体能够明显感觉到主光源来自哪里，一般物体的主光源来自场景的光源
- fill light 很弱的副光源，正面打光 
- rim light 很强的背对摄像头的光源。



## 渲染

在**渲染属性**那里可以设置渲染引擎，默认是eve渲染引擎，更好的渲染引擎是cycles引擎，其开销会更大。

渲染需要调配好光源的各个参数。

按下 `F12` 快捷键来渲染图像。按下 `Ctrl+F12` 快捷键来渲染动画。

`Ctrl+Alt+0` 【这里是数字0】 移动摄像头到你当前的观察位置 摄像头飞行员模式

此外你可以在视图那里设置锁定相机到视图方位，这样你按0切换到相机视图下进行移动操作然后摄像头也会跟着调整保持和当前相机视图看到的是一致的。



### 输出图像

输出图像的一些设置可以在**输出属性**那里设置。



### 输出到unreal

输出到unreal如果出现错误，试着运行下重新计算内侧。



## 其他

### 增加redo的次数

编辑->首选项->系统->撤销次数。

### 自动合并距离过近的顶点

在属性编辑器的活动工具和工作区设置面板那里，选项里面会有一个自动合并勾选项，这个就是用来控制如果顶点之间距离过近则会自动合并这些顶点。一般来说建模里面顶点的重合或者边面的重合等都是很不好的实践。

### 数字键123

数字键123是点选择，边选择，面选择的切换。

### 将几个顶点z轴对齐

依次按键： `S z 0` ，这在建模是希望做出平坦的脚面或者椅子腿面等是很有用的。类似的有 `s x 0` ，也就是执行缩放动作，缩放值为0。

这里的s是缩放，除了0有特殊含义，-1也有特殊含义，比如选择一个物体，然后执行 `s x -1` ，该物体就会沿着x轴翻转。

### 挤出和简单拖动的区别

挤出面是新增一些顶点，而原顶点和其余顶点的连接不会随着拖动而发生改变，这在某些情况下即使表面看起来区别不是太大也是有区别的。

### screencast

blender screencast 插件，方便向别人展示你的操作按键。

https://github.com/nutti/Screencast-Keys/releases



### blender桥接循环边

将两个面连接起来，先删除原两个面保留顶点和边，然后选择两个边，然后选择边->桥接循环边。

### blender 边线折痕

手工控制边线的陡峭程度，值是从0到1，本来这个值是表面细分修饰器自动控制的，现在手工控制。

### blender 融并边

某些边不再需要则可以删除，按键X然后选择融并边。

### blender 重新计算法向

网格->法向->重新计算外侧。 查看面朝向，蓝色表示面朝外，红色面。某些原本不是封闭的网格体后面经过某些操作变为封闭的网格体可能会有面朝向的法向错误问题。

### blender cycle渲染优化

GPU渲染

降低光程的反弹次数

### 权重绘制

权重绘制选择顶点组在物体数据属性Tab那里，比如假设你的骨架和网格体已经自动绑定了，那么对应的骨架顶点组就在那里。

### 模式切换快速面板

`Ctrl+Tab` 后面多个模式之间快速切换也将经常用到了。



### 应用

按键 `Ctrl+a` 会弹出一些应用选项，这个应用不会改变你当前看到的模型，但对于导出模型到fbx最好是先执行各个应用。具体来说应用将物体的location会将你的物体原点移动到全局原点也就是3d游标所在，rotation的值将会清空，scale的值将会应用之后归值为1。

### 骨架的mirror extruding

骨架一般是按键 `E` 进行挤出动作从而完成新增骨骼，你还可以在设置X轴镜像之后按键 `shift+E` 进行mirror镜像挤出动作，具体就是从一个骨骼末端镜像挤出两个骨骼。





## 石头建模

石头的建模非常简单，基于最开始的立方体做一些简单的修改调整即可。

1. 最开始的立方体进入编辑模式拖动各个顶点调整你想要的石头的大概形状
2. 加入表面细分修改器，稍微提高点细分程度。
3. 再添加一个置换修改器。纹理那里新增一个纹理，然后纹理设置那里选择类型沃罗诺伊图。稍微调整下强度参数和尺寸参数，到你大概满意的石头形状。然后可以进入编辑模式通过拖动各个顶点继续调整石头的形状。
4. 从网上找一个石头的材质应用则一个不错的石头模型就出来了。

这种石头建模方法又简单表现效果也很不错，节点也很少很适合游戏引擎。就确定以后用这个方法来进行石头和地面等形状的建模。

当然如果是人造的完全规则形状的石块或地板，那么就更加简单了。



## 粒子系统到Unity

一般来说是不推荐使用blender的粒子系统来进行游戏模型的建模的，表现效果不易控制而且常常节点过多开销过大。

如果一定要使用粒子系统，那么导入到Unity的时候记得先要将粒子系统实例化：

```
Object -> Apply -> Make Instances Real
```



## 树建模

在参考了多个树的建模视频之后，确定树干建模最好的方式就是先绘制树干线，然后加入蒙皮修改器，经过适当的末端和根部的衰减编辑的缩放操作，然后再加上精简修改器，得到的树干表现效果不错，而且节点数也是适合游戏引擎的。直到我看了 [这个视频](https://www.youtube.com/watch?v=wPBX9kqcHzE) 知道了sapling tree gen插件。

推荐的blender树干建模方法如下：

1. 激活blender的sapling tree gen 插件，在blender上搜索tree既可以看到。
2. `Shift+A` 在曲线那里可以看到sapling tree gen。
3. 调整各个参数，默认的参数节点数还是较多的，需要下调一些参数。
4. 然后选择 `物体 -> 转换为 -> 曲线转网格` 

继续了解sapling tree gen插件发现这个插件是可以生成树叶的，甚至还可以模拟风吹动时候的动画。之前提到的那个视频采用的是球体积内的粒子系统发射小型树叶模型的方式，这种方法远看还行，但近看各个树叶歪七倒八表现效果不是很令人满意的。所以强烈推荐 sapling tree gen 这个插件来进行树的基础建模，如果各个参数调整之后对于树的模型你还有哪些地方不满意的，再利用blender的功能微调整就是了。

这个插件树干应该也是用的蒙皮修改器，我看到有个参数和蒙皮相关，不过树叶的生成就不清楚了，这个插件的树叶生成表现效果非常好，而且树叶的网格节点数也非常的低，如果是自己用粒子系统发射，估计要调配半天效果还不好，不是树叶节点数过多就是粒子系统发射表现效果不好。强烈推荐这个插件。



## 人体建模

利用MakeHuman插件进行基础人体建模是很方便的，笔者没有绘画功底，3d建模经验也不是丰富，短时间内来看是不可能驾驭得了人体建模的，先利用MakeHuman插件人体建模救救急，后面有点功底了再可以考虑进一步的深加工和修改。

出来的人体模型各个部分可以考虑再加上精简修改器试着再减小下多边形的数目。

模型和衣服材质等表现效果甚至都可以导出到fbx模型中再导入到unity而得到保留，只是材质表现上可能会出现一些小问题。我遇到的一个问题就是眼睛的材质表现，参考了这个网页： [Documentation:Saving models for Unity and how to import them there - MakeHuman Community Wiki](http://www.makehumancommunity.org/wiki/Documentation:Saving_models_for_Unity_and_how_to_import_them_there) 的这段文字：

> For each material that has a transparent component, you will need to set the material type to "legacy shaders" -> "transparent" -> "diffuse". 

对眼睛的shader进行一下修改即可。



## 参考资料

1. [Blender Beginner Tutorial Series](https://www.youtube.com/playlist?list=PLjEaoINr3zgEq0u2MzVgAaHEBt--xLB6U)
2. [Blender Fundamentals 2.8](https://www.youtube.com/playlist?list=PLa1F2ddGya_-UvuAqHAksYnB0qL9yWDO6)
