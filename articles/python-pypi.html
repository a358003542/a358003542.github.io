<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>
    <meta name="google-site-verification" content="r5HyVvY-ZSgf7ctpcpK1aWIaEfKJ0dvAE3E9kW3vXgI" />
    <script data-ad-client="ca-pub-5644206261254049" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="setup.py配置 本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。 请结合Github上的 pyskeleton项目 来阅读本章。 虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 官方文档 。 安装就是先安装pip3： sudo apt-get install python3-pip 然后通过pip3来安装setuptools： sudo pip3 install setuptools 最简单的&#34;setup.py&#34;文件如下所示： from setuptools import setup, find_packages setup( name = &#34;HelloWorld&#34;, version = &#34;0.1&#34;, packages = find_packages(), ) 第一行是从setuptools模块中引入setup函数和 find_packages 函数。 setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来： name 本软件的名字 version 本软件的版本号 author …
"/>

        <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", python_language, " />

<meta property="og:title" content="python语言学习教程四pypi生态圈 "/>
<meta property="og:url" content="https://a358003542.github.io/articles/python-pypi.html" />
<meta property="og:description" content="setup.py配置 本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。 请结合Github上的 pyskeleton项目 来阅读本章。 虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 官方文档 。 安装就是先安装pip3： sudo apt-get install python3-pip 然后通过pip3来安装setuptools： sudo pip3 install setuptools 最简单的&#34;setup.py&#34;文件如下所示： from setuptools import setup, find_packages setup( name = &#34;HelloWorld&#34;, version = &#34;0.1&#34;, packages = find_packages(), ) 第一行是从setuptools模块中引入setup函数和 find_packages 函数。 setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来： name 本软件的名字 version 本软件的版本号 author …" />
<meta property="og:site_name" content="万泽的博客" />
<meta property="og:article:author" content="wanze" />
<meta property="og:article:published_time" content="2019-09-21T00:00:00+08:00" />
<meta name="twitter:title" content="python语言学习教程四pypi生态圈 ">
<meta name="twitter:description" content="setup.py配置 本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。 请结合Github上的 pyskeleton项目 来阅读本章。 虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 官方文档 。 安装就是先安装pip3： sudo apt-get install python3-pip 然后通过pip3来安装setuptools： sudo pip3 install setuptools 最简单的&#34;setup.py&#34;文件如下所示： from setuptools import setup, find_packages setup( name = &#34;HelloWorld&#34;, version = &#34;0.1&#34;, packages = find_packages(), ) 第一行是从setuptools模块中引入setup函数和 find_packages 函数。 setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来： name 本软件的名字 version 本软件的版本号 author …">


    <title>python语言学习教程四pypi生态圈  · 万泽的博客
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li >
                    <a  href="/archives.html">所有文章</a></li>

                <li ><a href="/categories.html">文章分类</a></li>
                <li ><a href="/tags.html">文章标签</a></li>


                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://a358003542.github.io/articles/python-pypi.html"> python语言学习教程四pypi生态圈  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#setuppy">setup.py配置</a></li>
<li><a href="#pipdevelop">pip的develop模式</a></li>
<li><a href="#pkg_resources">pkg_resources模块来管理读取资源文件</a></li>
<li><a href="#pypi">在pypi上传你的软件</a><ul>
<li><a href="#readme">正确处理README文档</a></li>
<li><a href="#twine">推荐使用twine上传</a></li>
</ul>
</li>
<li><a href="#pypi_1">pypi下载使用国内源</a></li>
<li><a href="#pypi_2">pypi只下载软件源文件</a></li>
<li><a href="#python">python虚拟环境管理</a><ul>
<li><a href="#_1">新建一个项目</a></li>
<li><a href="#_2">激活本地虚拟环境</a></li>
<li><a href="#_3">退出本地虚拟环境</a></li>
</ul>
</li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
<h2 id="setuppy">setup.py配置</h2>
<p>本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。</p>
<p>请结合Github上的 <a href="https://github.com/a358003542/pyskeleton">pyskeleton项目</a> 来阅读本章。</p>
<p>虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 <a href="https://setuptools.readthedocs.io/en/latest/">官方文档</a> 。</p>
<p>安装就是先安装pip3：</p>
<div class="highlight"><pre><span></span>sudo apt-get install python3-pip
</pre></div>
<p>然后通过pip3来安装setuptools：</p>
<div class="highlight"><pre><span></span>sudo pip3 install setuptools
</pre></div>
<p>最简单的"setup.py"文件如下所示：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>
<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">"HelloWorld"</span><span class="p">,</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">"0.1"</span><span class="p">,</span>
    <span class="n">packages</span> <span class="o">=</span> <span class="n">find_packages</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
<p>第一行是从setuptools模块中引入setup函数和 <code>find_packages</code> 函数。</p>
<p>setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来：</p>
<dl>
<dt>name</dt>
<dd>
<p>本软件的名字</p>
</dd>
<dt>version</dt>
<dd>
<p>本软件的版本号</p>
</dd>
<dt>author</dt>
<dd>
<p>本软件的作者</p>
</dd>
<dt>author_email</dt>
<dd>
<p>本软件作者的邮箱</p>
</dd>
<dt>maintainer</dt>
<dd>
<p>本软件的维护者</p>
</dd>
<dt>maintainer_email</dt>
<dd>
<p>本软件维护者的邮箱</p>
</dd>
<dt>contact</dt>
<dd>
<p>本软件的联系人。可以不写，则是维护者的名字，如果没有则是作者的名字。</p>
</dd>
<dt>contact_email</dt>
<dd>
<p>本软件的联系人的邮箱，可以不写，则是维护者的邮箱，如果没有则是作者的邮箱。</p>
</dd>
<dt>license</dt>
<dd>
<p>本软件的license</p>
</dd>
<dt>url</dt>
<dd>
<p>本软件项目主页地址</p>
</dd>
<dt>description</dt>
<dd>
<p>本软件的简要描述
long_description</p>
</dd>
<dd>
<p>本软件的完整描述</p>
</dd>
<dt>platforms</dt>
<dd>
<p>本软件经过测试可运行的平台</p>
</dd>
<dt>classifiers</dt>
<dd>
<p>本软件的分类，请参考 <a href="https://pypi.org/classifiers/">这个网页</a> 给出一些值。是字符串的列表。</p>
</dd>
<dt>keywords</dt>
<dd>
<p>本软件在pypi上搜索的关键词，字符串的列表。</p>
</dd>
<dt>packages</dt>
<dd>
<p>你的软件依赖的模块。一般如下使用： </p>
</dd>
</dl>
<div class="highlight"><pre><span></span>packages = find_packages()
</pre></div>
<p>则文件夹下有 <code>__init__.py</code> 文件的，都将视作python模块包，其内的py文件都将加入进去。</p>
<p>除此之外你也可以直接手工输入你的模块名字，具体就是字符串的列表。</p>
<dl>
<dt>entry_point</dt>
<dd></dd>
</dl>
<div class="highlight"><pre><span></span>entry_points = {
'console_scripts' :[ 'zwc=zwc.zwc:main',],
}
</pre></div>
<p>其中zwc是你的shell调用的名字，然后zwc是你的模块，另外一个zwc是你的主模块的子模块，然后main是其中的main函数。这就是你的shell调用程序的接口了。类似的还有gui_script可以控制你调用GUI图形的命令入口。</p>
<dl>
<dt>install_requires</dt>
<dd>接受字符串的列表值，将你依赖的可以通过pip安装的模块名放入进去，然后你的软件安装会自动检测并安装这些依赖模块。</dd>
<dt>package_data</dt>
<dd>
<p>你的软件的模块额外附加的（除了py文件的）其他文件，具体设置类似这样 <code>{"skeleton":['*.txt'],}</code> 其中skeleton这里就是具体的你的软件的模块（对应的文件夹名），然后后面跟着的就是一系列的文件名列表，可以接受glob语法。注意这里只能包含你的模块文件夹也就是前面通过packages控制的文件夹下面的内容。</p>
</dd>
<dt>include_package_data</dt>
<dd>
<p>这个一般设置为True</p>
</dd>
</dl>
<p>其他不常用的属性值列在下面：</p>
<ul>
<li>scripts 不推荐使用，推荐通过entry_point来生成脚本。</li>
<li>setup_requires 不推荐使用，基于PEP-518 。</li>
<li>py_modules 不推荐使用，推荐使用packages来管理模块。</li>
<li>data_files 前面的package_data是只能在你的模块文件夹里面的其他数据文件等，然后可能还有一些数据文件你需要包含的，用data_files来控制，具体后面跟着的参数格式如下面例子所示：</li>
</ul>
<div class="highlight"><pre><span></span>data_files = [('icos',['icos/wise.ico'])],
#这是添加的icos文件夹下面的wise.ico文件
data_files = [('',['skeleton.tar.gz'])],
#这是添加的主目录下的skeleton.tar.gz文件
</pre></div>
<p>值得一提的是data_files不能接受glob语法。</p>
<p>data_files已经不推荐使用了，推荐用package_data来管理，可以方便用pkg_resources里面的方法来引用其中的资源文件。具体说明请看后面。</p>
<h2 id="pipdevelop">pip的develop模式</h2>
<p>本小节参考了 <a href="https://stackoverflow.com/questions/19048732/python-setup-py-develop-vs-install">这个问题</a> 。</p>
<p>对于其他第三方包你不需要修改的，就直接 python setup.py install 就是了，而对于你自己写的包，可能需要频繁变动，最好是加载引用于本地某个文件夹，那么推荐是采用 python setup.py develop 命令来安装。</p>
<p>其对应于 <code>pip install -e .</code> 这个命令，或者直接安装本地文件夹不是develop模式 <code>python install .</code> 。</p>
<p>pipenv的 <code>pipenv install -e .</code> 也是这个develop模式，你修改的代码会实时生效。</p>
<h2 id="pkg_resources">pkg_resources模块来管理读取资源文件</h2>
<p>如下所示：</p>
<div class="highlight"><pre><span></span>    from pkg_resources import resource_filename
    resource_stream('wise','icos/Folder-Documents.ico')
</pre></div>
<p>第一个参数是模块名字，第二个参数是模块中的文件的相对路径表达。</p>
<p>上面的例子是resource_filename，返回的是引用的文件名。此外还有命令：resource_string，参数和resource_filename一样，除了它返回的是字节流。这个字节流可以赋值给某个变量从而直接使用，或者存储在某个文件里面。</p>
<h2 id="pypi">在pypi上传你的软件</h2>
<h3 id="readme">正确处理README文档</h3>
<p>现在pypi已经支持markdow文档格式了。推荐按照官方文档 <a href="https://packaging.python.org/guides/making-a-pypi-friendly-readme/">这里</a> 来处理：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>

<span class="c1"># read the contents of your README file</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="n">this_directory</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">))</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">this_directory</span><span class="p">,</span> <span class="s1">'README.md'</span><span class="p">),</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">long_description</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">'an_example_package'</span><span class="p">,</span>
    <span class="c1"># other arguments omitted</span>
    <span class="n">long_description</span><span class="o">=</span><span class="n">long_description</span><span class="p">,</span>
    <span class="n">long_description_content_type</span><span class="o">=</span><span class="s1">'text/markdown'</span>
<span class="p">)</span>
</pre></div>
<p>有段时间我用 <code>codecs</code> 来读取README文件一直出现一切奇怪的问题，原因不明。就如同上面这样直接读取即可。</p>
<p>注意上面配置的 <code>long_description_content_type</code> ，如果你喜欢 <code>reStructuredText</code> 格式，那么设置为 <code>text/x-rst</code> 即可。</p>
<p>首先推荐升级最新的setuptools，wheel和twine模块。</p>
<p>然后直接用下面这句：</p>
<div class="highlight"><pre><span></span>python setup.py sdist bdist_wheel
</pre></div>
<p>这样将直接dist文件夹下面生成源码tar包和wheel包。</p>
<p>然后推荐运行下：</p>
<div class="highlight"><pre><span></span>twine check dist/*
</pre></div>
<p>来确保你的文档格式没问题。</p>
<h3 id="twine">推荐使用twine上传</h3>
<p>使用twine上传到pypi很简单：</p>
<div class="highlight"><pre><span></span>twine upload dist/*
</pre></div>
<p>你每次都需要输入用户名和密码，你可以安装 <code>keyring</code> 模块，然后运行：</p>
<div class="highlight"><pre><span></span>keyring set https://upload.pypi.org/legacy/ your-username
</pre></div>
<p>来本地安全保存你的用户名和密码。</p>
<h2 id="pypi_1">pypi下载使用国内源</h2>
<p>豆瓣的pypi源 <code>https://pypi.douban.com/simple</code>  或者 清华的pypi源 <code>https://pypi.tuna.tsinghua.edu.cn/simple</code> 都可以吧。</p>
<p>临时使用用 <code>-i</code> 或者 <code>--index</code> 选项： </p>
<div class="highlight"><pre><span></span>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</pre></div>
<p>永久更改本地配置：</p>
<div class="highlight"><pre><span></span>pip install pip -U
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</pre></div>
<h2 id="pypi_2">pypi只下载软件源文件</h2>
<p>下载pypi上的目标软件源文件而不是安装。参考了 <a href="http://stackoverflow.com/questions/7300321/how-to-use-pythons-pip-to-download-and-keep-the-zipped-files-for-a-package">这个网页</a> 。</p>
<div class="highlight"><pre><span></span>pip install --download="/pth/to/downloaded/files" package_name
</pre></div>
<h2 id="python">python虚拟环境管理</h2>
<p>Virtualenv模块的主要作用就是建立一个封闭独立的python开发环境，因为一个python项目的开发通常会涉及到多个模块，而你激活virtualenv环境之后，通过pip命令安装的模块是安装在本项目文件夹内的，这样就建立了单独的固定某个模块版本的开发环境。通过python虚拟环境，一方面控制了python的版本，另一方面控制了python模块的版本，同时使得整个项目类似于绿色安装版具有可移植性。</p>
<p>安装就是用pip来安装常规安装即可。</p>
<div class="highlight"><pre><span></span>sudo pip install virtualenv
</pre></div>
<h3 id="_1">新建一个项目</h3>
<p>新建一个项目就是使用virutalenv命令，然后后面跟一个文件夹名字，等下要新建的文件夹名字。</p>
<div class="highlight"><pre><span></span>virutalenv [path]
</pre></div>
<p>这里的path就是你的项目的名字，等下会创建该名字的文件夹，你也可以设定为 "." ，这样就是在当前文件夹下创建。 然后常用的选项有：</p>
<ul>
<li>
<p><code>--python=python2</code> 或者 <code>--python=python3</code> 如果不指定这个选项，虚拟环境会使用当前操作系统的默认python版本。</p>
</li>
<li>
<p><code>--system-site-packages</code> ，如果加上这个选项，那么你的虚拟环境是可以使用安装到系统里去的那些python模块的。参考了 <a href="http://stackoverflow.com/questions/3371136/revert-the-no-site-packages-option-with-virtualenv">这个网页</a> ，这是个很值得一提的小技巧，那就是如果你之前设定是venv可以引用系统级的那些python模块，后面你又不想了，这个时候是不需要重新安装虚拟环境的，只需要在虚拟环境中创建一个这个空白文件即可：</p>
</li>
</ul>
<div class="highlight"><pre><span></span>lib/python3.5/no-global-site-packages.txt
</pre></div>
<p>如果你又想引用系统级的那些python模块了，把这个文件删除即可。</p>
<h3 id="_2">激活本地虚拟环境</h3>
<p>运行下面的命令即进入本地虚拟环境：</p>
<div class="highlight"><pre><span></span>cd venv
source bin/activate
</pre></div>
<p>激活虚拟环境之后，使用python是使用的虚拟环境设定的python解释器，然后使用pip安装模块也是安装在虚拟环境之下。</p>
<h3 id="_3">退出本地虚拟环境</h3>
<p>运行deactivate命令即可</p>
<div class="highlight"><pre><span></span>deactivate
</pre></div>

            <section>
<div class="panel-group" id="accordion2">
    <div class="panel panel-default">
        <div class="panel-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="https://a358003542.github.io/articles/python-pypi.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="panel-collapse collapse">
            <div class="panel-body">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cdwanzes-blog';
        var disqus_identifier = 'https://a358003542.github.io/articles/python-pypi.html';
    var disqus_url = 'https://a358003542.github.io/articles/python-pypi.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <hr/>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2019-09-21T00:00:00+08:00">2019年 9月 21日 </time>

            <h4>分类：</h4>
            <a class="category-link" href="https://a358003542.github.io/categories.html#python_language-ref">python_language</a>

        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/moment.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>

            <script type="text/javascript">
var disqus_shortname = 'cdwanzes-blog';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>




</body>
</html>