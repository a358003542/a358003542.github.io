<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>
    <meta name="google-site-verification" content="r5HyVvY-ZSgf7ctpcpK1aWIaEfKJ0dvAE3E9kW3vXgI" />
    <script data-ad-client="ca-pub-5644206261254049" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="jquery基本操作 基本用法 jquery的基本用法就是: $(selector).action() $(selector) 返回的是找到的对象的数组，而进行某个action的时候是对所有找到的对象都进行如此动作。 文档初始化之后执行的动作 $(document).ready(functio..."/>


<meta name="keywords" content=", html5桌面应用开发, " />

    <title>jquery  · 万泽的博客
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">

                <li >
                    <a  href="/archives.html">所有博文</a></li>
                    
                <li ><a href="/categories.html">博文分类</a></li>
                
                <li><a target="_blank" href="https://github.com/a358003542">我的Github</a></li>

                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://a358003542.github.io/articles/jquery.html"> jquery  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#jquery">jquery基本操作</a><ul>
<li><a href="#_1">基本用法</a></li>
<li><a href="#_2">文档初始化之后执行的动作</a></li>
<li><a href="#_3">选择元素</a><ul>
<li><a href="#_4">特殊符号的元素选择</a></li>
<li><a href="#_5">选择多个元素之后迭代</a></li>
</ul>
</li>
<li><a href="#_6">当前节点选择子元素</a><ul>
<li><a href="#_7">选中父元素</a></li>
<li><a href="#_8">选中子元素</a></li>
<li><a href="#_9">选中元素的第几个</a></li>
</ul>
</li>
<li><a href="#_10">获取文本和修改文本</a></li>
<li><a href="#_11">删除某个元素</a></li>
<li><a href="#_12">修改元素的某个属性</a></li>
<li><a href="#_13">移除元素的某个属性</a></li>
<li><a href="#class">class属性修改</a><ul>
<li><a href="#class_1">添加class</a></li>
<li><a href="#class_2">删除class</a></li>
<li><a href="#css">修改css</a></li>
</ul>
</li>
<li><a href="#value">获取表单value值或修改</a></li>
<li><a href="#_14">让按钮变为不可选</a></li>
<li><a href="#_15">事件绑定动作</a><ul>
<li><a href="#_16">鼠标事件</a></li>
<li><a href="#_17">键盘事件</a></li>
<li><a href="#_18">取消某个事件绑定</a></li>
</ul>
</li>
<li><a href="#_19">获取屏幕的宽度和高度</a></li>
<li><a href="#hide">hide方法</a></li>
<li><a href="#jquery_1">jquery 动画效果</a><ul>
<li><a href="#_20">面板展开和隐藏</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ajax">ajax</a><ul>
<li><a href="#get">get</a></li>
<li><a href="#getjson">getJSON</a></li>
<li><a href="#post">post</a></li>
<li><a href="#_21">跨域问题</a></li>
</ul>
</li>
<li><a href="#_22">其他</a><ul>
<li><a href="#jquery_2">先网络加载jquery或者本地加载</a></li>
</ul>
</li>
<li><a href="#_23">参考资料</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
<h2 id="jquery">jquery基本操作</h2>
<h3 id="_1">基本用法</h3>
<p>jquery的基本用法就是:</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">action</span><span class="p">()</span>
</code></pre></div>
<p><code>$(selector)</code> 返回的是找到的对象的数组，而进行某个action的时候是对所有找到的对象都进行如此动作。</p>
<h3 id="_2">文档初始化之后执行的动作</h3>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
   <span class="c1">// jQuery methods go here...</span>
<span class="p">});</span>
</code></pre></div>
<p>此外我们还常见到一种简化的写法：</p>
<div class="highlight"><pre><span></span><code>$(function(){});
</code></pre></div>
<h3 id="_3">选择元素</h3>
<p>一般按照css语法选择元素并没什么好讲的，很是直观，简单看下即可。</p>
<h4 id="_4">特殊符号的元素选择</h4>
<p>目前我遇到的情况是 <code>fn:1</code> 这个按照jquery是选择不了的，实际上这个用document.querySelect也选择不了，里面有个非法符号<code>:</code> ，不过 <code>document.getElementById</code> 可以正常选择。</p>
<p>一定要使用jquery的话需要如下加上两个转义符号。</p>
<div class="highlight"><pre><span></span><code>$('#fn\\:1')
</code></pre></div>
<h4 id="_5">选择多个元素之后迭代</h4>
<div class="highlight"><pre><span></span><code>$('.footnote-ref').each(function(){

    // $(this)

}
</code></pre></div>
<p>在迭代过程里面的那个匿名函数里面调用 <code>$(this)</code> 就是目标元素。</p>
<h3 id="_6">当前节点选择子元素</h3>
<div class="highlight"><pre><span></span><code>$('sup',this)
</code></pre></div>
<p>第二个参数写上 <code>this</code> 就是在当前节点下继续选择某个子元素。</p>
<h4 id="_7">选中父元素</h4>
<div class="highlight"><pre><span></span><code>$('#target1').parent().css('background-color','red');
</code></pre></div>
<p>即调用parent方法。</p>
<h4 id="_8">选中子元素</h4>
<div class="highlight"><pre><span></span><code>$('#right-well').children().css('color','orange');
</code></pre></div>
<p>即调用children方法。</p>
<h4 id="_9">选中元素的第几个</h4>
<div class="highlight"><pre><span></span><code>$('.target:nth-child(2)').addClass('animated bounce');
</code></pre></div>
<div class="highlight"><pre><span></span><code>$('.target:even').addClass('animated shake');  # 选中元素的偶数个，0 2 4...
</code></pre></div>
<p>这个语法实际上来自css的选择语法。</p>
<h3 id="_10">获取文本和修改文本</h3>
<div class="highlight"><pre><span></span><code>$('div').text()  # 获取文本
$('div').text('new text') # 修改文本
</code></pre></div>
<p>此外还有 <code>html()</code> 方法，其可以写上html标签。</p>
<p>如果使用JavaScript原生的document.querySelect之类的方法，获取到的元素想要看文本可以调用 <code>textContent</code> 属性。</p>
<h3 id="_11">删除某个元素</h3>
<div class="highlight"><pre><span></span><code>$('sup',this).remove();
</code></pre></div>
<p>即调用remove方法。</p>
<h3 id="_12">修改元素的某个属性</h3>
<div class="highlight"><pre><span></span><code>$(this).attr('data-toggle','popover');
</code></pre></div>
<h3 id="_13">移除元素的某个属性</h3>
<div class="highlight"><pre><span></span><code>$(this).removeAttr('href');
</code></pre></div>
<h3 id="class">class属性修改</h3>
<h4 id="class_1">添加class</h4>
<div class="highlight"><pre><span></span><code>div.addClass('highlight'); // 添加highlight这个class
</code></pre></div>
<h4 id="class_2">删除class</h4>
<div class="highlight"><pre><span></span><code>div.removeClass('highlight'); // 删除highlight这个class
</code></pre></div>
<h4 id="css">修改css</h4>
<div class="highlight"><pre><span></span><code>$('div').css('background-color', '#ffd351');
</code></pre></div>
<h3 id="value">获取表单value值或修改</h3>
<div class="highlight"><pre><span></span><code>$('input').val()  # 获取值
$('input').val('new value') # 修改值
</code></pre></div>
<h3 id="_14">让按钮变为不可选</h3>
<p>prop方法设置或返回被选元素的属性。</p>
<div class="highlight"><pre><span></span><code>$("button").prop('disabled', true)
</code></pre></div>
<h3 id="_15">事件绑定动作</h3>
<div class="highlight"><pre><span></span><code>$(selector).click(function)
</code></pre></div>
<h4 id="_16">鼠标事件</h4>
<ul>
<li><strong>click:</strong> 鼠标单击时触发；</li>
<li><strong>dblclick:</strong> 鼠标双击时触发；</li>
<li><strong>mouseenter:</strong> 鼠标进入时触发；</li>
<li><strong>mouseleave:</strong> 鼠标移出时触发；</li>
<li><strong>mousemove:</strong> 鼠标在DOM内部移动时触发 （接受e ，e.pageX是鼠标x值，e.pageY是鼠标Y值）</li>
<li><strong>hover:</strong> 鼠标进入和退出时触发两个函数，相当于mouseenter加上mouseleave。</li>
</ul>
<h4 id="_17">键盘事件</h4>
<p>键盘事件仅作用在当前焦点的DOM上，通常是 <code>&lt;input&gt;</code> 和 <code>&lt;textarea&gt;</code> 。</p>
<ul>
<li><strong>keydown:</strong> 键盘按下时触发；</li>
<li><strong>keyup:</strong> 键盘松开时触发；</li>
<li><strong>keypress:</strong> 按一次键后触发。</li>
</ul>
<h4 id="_18">取消某个事件绑定</h4>
<div class="highlight"><pre><span></span><code>a.off('click', hello);
</code></pre></div>
<h3 id="_19">获取屏幕的宽度和高度</h3>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span>
<span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">()</span>
</code></pre></div>
<p>这两个方法更确切的描述是返回所选元素的宽度或高度。此外还有 <code>innerWidth</code> 和 <code>innerHeight</code> 方法（包含内边距）， <code>outerWidth</code> 和 <code>outerHeight</code> 包含内边距和边框。</p>
<h3 id="hide">hide方法</h3>
<p>实际上就是css设置 <code>display:none</code> 。</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">'#test'</span><span class="p">).</span><span class="nx">hide</span><span class="p">()</span>
</code></pre></div>
<p>这样将隐藏所有id为test的元素。</p>
<h3 id="jquery_1">jquery 动画效果</h3>
<h4 id="_20">面板展开和隐藏</h4>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span> 
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">".slidepanel"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#panel-one"</span><span class="p">).</span><span class="nx">slideToggle</span><span class="p">(</span><span class="s2">"slow"</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"slidepanel"</span> <span class="na">style</span><span class="o">=</span><span class="s">"background-color:#efefef; padding:5px"</span><span class="p">&gt;</span>滑动面板<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"panel-one"</span> <span class="na">style</span><span class="o">=</span><span class="s">"border:solid 1px #efefef; padding:5px"</span><span class="p">&gt;</span>just jquery it.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<div class="slidepanel" style="background-color:#efefef; padding:5px">滑动面板</div>
<div id="panel-one" style="border:solid 1px #efefef; padding:5px">just jquery it.</div>
<script> 
$(document).ready(function(){
  $(".slidepanel").click(function(){
    $("#panel-one").slideToggle("slow");
  });
});
</script>
<h2 id="ajax">ajax</h2>
<p>jquery是基于 <code>XMLHttpRequest</code> 的，不得不承认jquery的ajax这块写得实在是太好了。</p>
<h3 id="get">get</h3>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s2">"button"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"/try/ajax/demo_test.php"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="nx">status</span><span class="p">){</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"数据: "</span> <span class="o">+</span> <span class="nx">data</span> <span class="o">+</span> <span class="s2">"\n状态: "</span> <span class="o">+</span> <span class="nx">status</span><span class="p">);</span>
        <span class="p">});</span>
</code></pre></div>
<p>回调函数接受两个参数，传回来的data和状态码。其等价于：</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</code></pre></div>
<p>get请求上面的data将附加到url上。</p>
<h3 id="getjson">getJSON</h3>
<p>等价于：</p>
<div class="highlight"><pre><span></span><code>$.ajax({
  url: url,
  data: data,
  success: callback,
  dataType: json
});
</code></pre></div>
<p>注意dataType设置为json</p>
<h3 id="post">post</h3>
<div class="highlight"><pre><span></span><code><span class="nx">jQuery</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">data</span><span class="p">,</span><span class="nx">success</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">),</span><span class="nx">dataType</span><span class="p">)</span>
</code></pre></div>
<p>等价于：</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</code></pre></div>
<p>上面的data是发送请求发送给服务器的数据。dataType可选，会智能判断服务器响应的数据。</p>
<h3 id="_21">跨域问题</h3>
<p>参看了 <a href="https://segmentfault.com/a/1190000006146207">js跨域</a> 这篇文章， <code>XMLHttpRequest</code> 是不能跨域的。我们通常所说jsonp，就是一种实现跨域的解决方案，具体我不想太深究，因为一般restful api都是采用的json格式，而除了jsonp之外，服务端如下加上响应头也是可以的：</p>
<div class="highlight"><pre><span></span><code>header('Access-Control-Allow-Origin:*');//允许跨域请求的域名，允许全部设为*
header('Access-Control-Allow-Methods:POST,GET');
</code></pre></div>
<h2 id="_22">其他</h2>
<h3 id="jquery_2">先网络加载jquery或者本地加载</h3>
<p>这里代码的意思应该是先网络加载jquery，如果没有则本地找找看。</p>
<div class="highlight"><pre><span></span><code>&lt;script src="https://code.jquery.com/jquery-{{JQUERY_VERSION}}.min.js"&gt;&lt;/script&gt;

&lt;script&gt;window.jQuery || document.write('&lt;script src="js/vendor/jquery-{{JQUERY_VERSION}}.min.js"&gt;&lt;\/script&gt;')&lt;/script&gt;
</code></pre></div>
<h2 id="_23">参考资料</h2>
<ol>
<li>Javascript权威指南 David Flanagan著.</li>
</ol>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2020-11-23T00:00:00+08:00">2020年 11月 23日 </time>

            <h4>最近更新于：</h4>
            <time datetime="2021-01-16T07:05:12.553224+08:00">2021年 1月 16日 </time>


            <h4>分类：</h4>
            <a class="category-link" href="https://a358003542.github.io/categories.html#html5zhuo-mian-ying-yong-kai-fa-ref">html5桌面应用开发</a>

        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/moment.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>



</body>
</html>