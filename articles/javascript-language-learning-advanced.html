<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>
    <meta name="google-site-verification" content="r5HyVvY-ZSgf7ctpcpK1aWIaEfKJ0dvAE3E9kW3vXgI" />
    
        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="前言 本文是笔者在学习了javascript语言基本知识的基础上继续学习的整理总结。 字符串 字符串的match方法 字符串的match方法可以跟上RegExp 对象来继续正则表达式匹配操作。 对象 获取对象的keys数组 attrs = attrs || {}; Object.keys(at..."/>


<meta name="keywords" content=", archived, " />

    <title>javascript语言学习进阶  · 万泽的博客
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">

                <li >
                    <a  href="/archives.html">存档博文</a></li>

                <li><a target="_blank" href="https://github.com/a358003542">我的Github</a></li>
    

                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://a358003542.github.io/articles/javascript-language-learning-advanced.html"> javascript语言学习进阶  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#_1">前言</a></li>
<li><a href="#_2">字符串</a><ul>
<li><a href="#match">字符串的match方法</a></li>
</ul>
</li>
<li><a href="#_3">对象</a><ul>
<li><a href="#keys">获取对象的keys数组</a></li>
</ul>
</li>
<li><a href="#json">JSON</a></li>
<li><a href="#_4">函数</a><ul>
<li><a href="#_5">立即执行的匿名函数</a></li>
</ul>
</li>
<li><a href="#window">window</a><ul>
<li><a href="#setinterval">setInterval</a></li>
<li><a href="#settimeout">setTimeout</a></li>
<li><a href="#location">location</a></li>
<li><a href="#history">history</a></li>
</ul>
</li>
<li><a href="#document">document</a><ul>
<li><a href="#getelementbyid">getElementById</a></li>
<li><a href="#createelement">createElement</a></li>
<li><a href="#createtextnode">createTextNode</a></li>
</ul>
</li>
<li><a href="#element">Element对象</a><ul>
<li><a href="#queryselector">querySelector</a></li>
<li><a href="#setattribute">setAttribute</a></li>
<li><a href="#dataset">dataset</a></li>
<li><a href="#classlist">classList</a></li>
</ul>
</li>
<li><a href="#node">Node对象</a><ul>
<li><a href="#textcontent">textContent</a></li>
<li><a href="#parentelement">parentElement</a></li>
<li><a href="#removechild">removeChild</a></li>
</ul>
</li>
<li><a href="#_6">事件</a><ul>
<li><a href="#customevent">CustomEvent</a></li>
<li><a href="#dispatchevent">dispatchEvent</a></li>
<li><a href="#addeventlistener">addEventListener</a></li>
<li><a href="#removeeventlistener">removeEventListener</a></li>
<li><a href="#eventtargeteventcurrenttarget">event.target和event.currentTarget的区别</a></li>
</ul>
</li>
<li><a href="#_7">其他</a></li>
<li><a href="#_8">参考资料</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
<h2 id="_1">前言</h2>
<p>本文是笔者在学习了javascript语言基本知识的基础上继续学习的整理总结。</p>
<h2 id="_2">字符串</h2>
<h3 id="match">字符串的match方法</h3>
<p>字符串的match方法可以跟上RegExp 对象来继续正则表达式匹配操作。</p>
<h2 id="_3">对象</h2>
<h3 id="keys">获取对象的keys数组</h3>
<div class="highlight"><pre><span></span>attrs = attrs || {};
Object.keys(attrs);
</pre></div>
<h2 id="json">JSON</h2>
<p>如下所示，下面也演示了利用 <code>JSON.parse</code> 来将相应的JSON字符串转成JavaScript对象。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">6</span> <span class="p">});</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">x</span>
<span class="s1">'{"x":5,"y":6}'</span>
<span class="o">&gt;</span> <span class="k">typeof</span> <span class="nx">x</span>
<span class="s1">'string'</span>
<span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">y</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">6</span> <span class="p">}</span>
<span class="o">&gt;</span> <span class="k">typeof</span> <span class="nx">y</span>
<span class="s1">'object'</span>
</pre></div>
<h2 id="_4">函数</h2>
<h3 id="_5">立即执行的匿名函数</h3>
<p>我们常见到某个js脚本一整段都被这样一种写法包围着：</p>
<div class="highlight"><pre><span></span>(function($){…})(jQuery)
</pre></div>
<p>这是定义了一个匿名函数，其将立即执行，接受了一个jQuery参数，并传递给了匿名函数。</p>
<p>之所以这种写法很常见是因为这样做可以将整个模块的代码都放在一个匿名函数里面，这样模块里面定义的全局变量就成了函数内的局部变量了，这样不会污染全局变量命名空间。</p>
<h2 id="window">window</h2>
<p>window对象里面的属性都是全局变量，可以直接调用的。</p>
<h3 id="setinterval">setInterval</h3>
<div class="highlight"><pre><span></span>setInterval(func, 1000)
</pre></div>
<p>启动一个计时器，第二个参数是时间间隔，每个那个时间间隔将会执行一次目标函数，默认单位是ms。</p>
<h3 id="settimeout">setTimeout</h3>
<p>类似setInterval，启动一次性任务。</p>
<h3 id="location">location</h3>
<p>该窗口的Location对象</p>
<h3 id="history">history</h3>
<p>该窗口的History对象</p>
<h2 id="document">document</h2>
<h3 id="getelementbyid">getElementById</h3>
<h3 id="createelement">createElement</h3>
<div class="highlight"><pre><span></span>var e = document.createElement(name);
</pre></div>
<p>创建一个标签，返回的是一个 <code>Element</code> 对象。</p>
<h3 id="createtextnode">createTextNode</h3>
<div class="highlight"><pre><span></span>child = document.createTextNode(child);
</pre></div>
<p>创建一个文本节点。</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">'this is text.'</span><span class="p">)</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
</pre></div>
<p>上面的例子创建了一个li标签，然后创建了一个文本节点，然后将这个文本节点附加到该li标签上，最后该li标签内容如下：</p>
<div class="highlight"><pre><span></span>&lt;li&gt;this is text.&lt;/li&gt;
</pre></div>
<h2 id="element">Element对象</h2>
<h3 id="queryselector">querySelector</h3>
<p>之前接触到的<code>document.querySelector</code> 是因为Document对象继承自Element对象，该方法实际来自Element对象。具体就是在本Element下继续进行搜索动作。</p>
<h3 id="setattribute">setAttribute</h3>
<p><code>Element</code> 对象可以调用这个 <code>setAttribute</code> 方法来设置标签内的属性值。</p>
<div class="highlight"><pre><span></span>element.setAttribute(name, value);
</pre></div>
<h3 id="dataset">dataset</h3>
<p>查询到的元素如果div则是更具体的HTMLdivElement等等，其继承自HTMLElement，HTMLElement有一些专门的方法。比如这个dataset，其是可以只读属性，对应html中的<code>data-*</code> 这样的属性值，比如说 <code>data-name</code> 将变成dataset的<code>{'name': 'what'}</code> 。</p>
<h3 id="classlist">classList</h3>
<p>类似上面的讨论也是HTMLElement的一个属性，表示class属性数组。</p>
<h2 id="node">Node对象</h2>
<h3 id="textcontent">textContent</h3>
<p>之前提到querySelector查到某个Element之后想要取出其文本内容可以调用 <code>textContent</code> 属性，document和Element都能这样做只是因为它们继承自Node对象，具体textContent这个属性的定义是在Node对象这里。</p>
<h3 id="parentelement">parentElement</h3>
<p>返回本节点的父节点</p>
<div class="highlight"><pre><span></span>parentElement = node.parentElement
</pre></div>
<h3 id="removechild">removeChild</h3>
<p>移除本节点的某个子节点</p>
<div class="highlight"><pre><span></span>node.removeChild(child);
</pre></div>
<h2 id="_6">事件</h2>
<p>Element对象继承自EventTarget从而获得了这些方法： <code>addEventListener</code> ， <code>removeEventListener</code> 和 <code>dispatchEvent</code> ，这几个方法都是和事件处理相关的。</p>
<p>熟悉GUI桌面程序的话会对事件有个大致的理解，大体类似于QT里面的信号。</p>
<h3 id="customevent">CustomEvent</h3>
<p>自定义一个事件，第二个参数可以是任意的信息。</p>
<div class="highlight"><pre><span></span>  new CustomEvent(name, { bubbles: true, cancelable: false })
</pre></div>
<h3 id="dispatchevent">dispatchEvent</h3>
<p>程序触发某个Element元素上监听的事件</p>
<div class="highlight"><pre><span></span><span class="nx">target</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span>
      <span class="k">new</span> <span class="nx">CustomEvent</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="p">{</span> <span class="nx">bubbles</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">cancelable</span><span class="o">:</span> <span class="kc">false</span> <span class="p">})</span>
<span class="p">);</span>
</pre></div>
<h3 id="addeventlistener">addEventListener</h3>
<p>给某个元素增加一个事件监听</p>
<h3 id="removeeventlistener">removeEventListener</h3>
<p>移除某个元素上的事件监听</p>
<h3 id="eventtargeteventcurrenttarget">event.target和event.currentTarget的区别</h3>
<p>事件响应到调用函数那边，通过event.target或者event.currentTarget可以引用触发事件的浏览器对象，不过它们是有一点区别的。</p>
<p>首先说一下事件的冒泡机制，当某个元素触发了某个事件，其会触发本元素上事件响应处理程序，然后该事件会继续冒泡到本元素的父元素之上，再触发父元素的事件响应处理程序。</p>
<p>event.target是引用那个最开始触发事件的那个目标元素，而event.currentTarget是引用那个实际处理事件的元素。比如说某个div里面有一个button，你给div绑定了事件监听处理函数，然后那个事件监听处理函数里面调用 <code>event.currentTarget</code> 则会指向那个div，而如果你调用 <code>event.target</code> 则会引用最开始触发click事件的那个元素，也就是button。</p>
<p>在一个目标button里面处理click事件使用event.target或者event.currentTarget是没有区别的。</p>
<h2 id="_7">其他</h2>
<h2 id="_8">参考资料</h2>
<ol>
<li>Javascript权威指南 David Flanagan著.</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">mozilla docs</a></li>
<li><a href="https://zh.javascript.info/">现代javascript教程</a></li>
<li><a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md">you donot need jquery</a></li>
</ol>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2020-11-25T00:00:00+08:00">2020年 11月 25日 </time>

            <h4>最近更新于：</h4>
            <time datetime="2021-01-16T07:05:08.859364+08:00">2021年 1月 16日 </time>


            <h4>分类：</h4>
            <a class="category-link" href="https://a358003542.github.io/categories.html#archived-ref">archived</a>

        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/moment.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>



</body>
</html>