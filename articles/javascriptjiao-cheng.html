<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>
    <meta name="google-site-verification" content="r5HyVvY-ZSgf7ctpcpK1aWIaEfKJ0dvAE3E9kW3vXgI" />
    <script data-ad-client="ca-pub-5644206261254049" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="前言 本文在行文上是假设读者已经掌握了一门编程语言了的，所以一些基本的编程语言方面的概念不会做过多的讨论 …"/>


<meta name="keywords" content=", 计算机 - Web开发, " />

    <title>javascript教程  · 万泽的博客
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">

                <li >
                    <a  href="/archives.html">所有博文</a></li>
                    
                <li ><a href="/categories.html">博文分类</a></li>
                

                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
    <div class="row">
        <header class="page-header col-md-10 col-md-offset-2">
            <h1><a href="https://a358003542.github.io/articles/javascriptjiao-cheng.html"> javascript教程  </a></h1>
        </header>
    </div>

    <div class="row">
            <div class="col-md-8 col-md-offset-2 article-content">

                <h2 id="_1">前言</h2>
<p>本文在行文上是假设读者已经掌握了一门编程语言了的，所以一些基本的编程语言方面的概念不会做过多的讨论。</p>
<p>javascript就历史起源来说似乎并不是一个主角命，更像是编程语言世界里面一个注定跑跑龙套的。1995年某个公司开发了某个浏览器，然后该公司需要为这个浏览器开发一个脚本语言，就把这个任务丢给了 Brendan Eich ，Brendan Eich很不情愿地接受了这个不喜欢的任务，大概花了10天时间仓促完成了Javascript的设计，而且javascript最开始名字不叫javascript，叫livescript，就连javascript这个名字后面改也有点蹭Java语言的热度的嫌疑。</p>
<p>后面javascript的流行和大热可能是其创始人也料想不到的，实际上就是javascript后面刚发展起来的那几年，大家也只是觉得其主要作为一个前端脚本语言，对其仍然是一种轻视的态度，觉得这个语言也就写写浏览器界面的动态效果之类的。随着node.js的出现和相关生态圈的日益成熟壮大，人们才惊讶地发现javascript已经是编程世界里面最大热的几门语言之一了，继而近几年，随着javascript生态的不断成熟和壮大，再也没有人去质疑javascript作为当今编程世界里面的编程语言的主角地位了，最多只是碎碎念说几句javascript这个语言的一些问题。</p>
<h2 id="_2">注释</h2>
<p>多行注释推荐如下写法：</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm"> * make() returns a new element</span>
<span class="cm"> * based on the passed-in tag name</span>
<span class="cm"> */</span>
</code></pre></div>

<p>单行注释用 <code>//</code> ，然后注释都新起一行写，如果是代码块内的注释，则前面空一行：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// This is a comment that the computer will ignore. </span>

<span class="kd">function</span> <span class="nx">getType</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;fetching type...&#39;</span><span class="p">);</span>

  <span class="c1">// set the default type to &#39;no type&#39;</span>
  <span class="kd">const</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="s1">&#39;no type&#39;</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">type</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>然后就是注释文字具体内容要和注释符号空一空格。</p>
<h2 id="javascript">javascript代码放在那里</h2>
<p>javascript的代码一般推荐是放在HTML文档最后面， <code>&lt;/body&gt;</code> 标签之前，这样能够让浏览器更快地加载页面。至于其他倒没有特别的要求，刚开始简单的javascript代码就直接写上去也是可以的:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="nx">your</span> <span class="nx">awesome</span> <span class="nx">javascript</span> <span class="nx">code</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p>如果javascript代码量有一点了那么当然还是推荐另外单独放在一个js文件上，然后如下引入进来:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;where&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h2 id="javascriptrepl">javascript代码REPL环境</h2>
<p>你可以在浏览器的debug控制台上运行javascript代码，或者安装node环境之后进入node命令下的REPL环境。</p>
<h2 id="_3">程序中的操作对象</h2>
<h3 id="_4">简介</h3>
<p>javascirpt的数据类型分为两类，一类是原始类型：数值、字符串和布尔值；另一类是对象类型。此外javascript还有两个特殊的值：<code>null</code> 和 <code>undefined</code> 。javascript除了数值、字符串、布尔值、null、undefined之外就都是对象了。比如后面提到的数组，函数也都是对象，只不过其是javascipt内部定义的对象。</p>
<h3 id="_5">声明常量和变量</h3>
<p>javascript的变量是区分大小写的。</p>
<p>javascript可以利用关键词 <code>var</code> ， <code>const</code> 和 <code>let</code> 来声明变量或常量，其中const是声明常量的，var和let是声明变量的。var声明变量是大家在javascript中常用的声明变量关键词，其声明的变量的作用域很不同于其他编程语言，叫做 <strong>函数作用域</strong> 。即你在函数区块内声明的变量整个函数体都是可以使用的，包括哪些花括号结构或任意的嵌套函数。因为程序员对于变量的作用域习惯了块作用域，所以airbnb规范提出不推荐使用 <code>var</code> ，而是推荐使用 <code>let</code>，因为 <code>const</code> 和 <code>let</code> 都是块作用域（block-scoped）。</p>
<p>参考mozilla上的相关讨论，变量作用域显得另类是一方面，更糟糕的是因为这个作用域会让变量声明语句可以随意放置，这会造成代码变得混乱和难以理解。<strong>现代javascript编码推荐使用let，最好不用var</strong>。</p>
<p>我们可能会看到某些javascript代码直接写上 <code>x=1</code> ，前面没有写上关键词，严格意义上来说这不叫声明变量，而是在全局对象上挂载了x这个属性，从编码规范来说是应该抵制这种写法的。</p>
<h3 id="_6">全局变量</h3>
<p>在网页中有个全局对象 <code>window</code> ，所以我们可以把一些全局变量挂在 <code>window</code> 对象里面。</p>
<h3 id="number">数值(number)</h3>
<p><strong>javascript不区分整数值和浮点数值</strong>，javascript中所有数字都用浮点数值表示，这是javascript和其他编程语言的很大不同。然后数值型那些运算，比如加减乘除之类的就不用多说了。其中 <code>%</code> 和python一样也是求余操作。在python3中有 <code>5//2</code> 是求商的概念，javascript没有这个概念，我们需要如下来获得类似的效果。</p>
<div class="highlight"><pre><span></span><code>parseInt(5/2)
</code></pre></div>

<h4 id="parseint">parseInt()</h4>
<p>将字符串转成整数型。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s1">&#39;2.5&#39;</span><span class="p">)</span>
<span class="mf">2</span>
</code></pre></div>

<h3 id="nan">NaN</h3>
<p>如果我们执行 <code>parseInt('abc')</code> ，那么将返回 <code>NaN</code> ，判断是否是NaN如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="kc">false</span>
<span class="o">&gt;</span> <span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="kc">false</span>
<span class="o">&gt;</span> <span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span>
<span class="kc">true</span>
</code></pre></div>

<p><strong>注意：</strong> javascript还有一个全局函数<code>isNaN</code> ，其和Number.isNaN行为不太一样，一般推荐使用 <code>Number.isNaN</code> 。Number.isNaN意思很明显就是判断是否是NaN这个值，而全局的isNaN更像是在说输入的这个东西是不是一个数值或者能不能转成一个数值，true则不能，false则能。</p>
<h3 id="string">字符串(string)</h3>
<p>javascript同python一样单引号和双引号都是可以的。</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;Capt. Janeway&#39;</span><span class="p">;</span>
</code></pre></div>

<p>你可以通过 <code>+</code> 来实现一些简单的字符串拼接工作，也可以如下进行字符串模板操作。</p>
<div class="highlight"><pre><span></span><code><span class="sb">`How are you, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">?`</span>
</code></pre></div>

<p>javascript的字符串类型和python非常类似，比如 <code>string[0]</code> 是支持的。然后不可以这样用string[0:2]，幸运的是javascript提供了类似python中的那种切片概念，就是使用 <code>slice</code> 方法</p>
<div class="highlight"><pre><span></span><code>&gt; &quot;hello&quot;.slice(0,2)
&#39;he&#39;
&gt; [1,3,4,5].slice(0,2)
[ 1, 3 ]
</code></pre></div>

<p>不过javascript的slice方法和python的切片操作还是有点区别的，其只有 <code>(start,end)</code> 两个参数，然后其也有负数从末尾算起的概念，具体请参看 <a href="http://www.w3school.com.cn/jsref/jsref_slice_string.asp">这里</a> 。</p>
<h4 id="_7">字符串的一些方法</h4>
<ul>
<li><strong>length:</strong> 字符串长度</li>
<li><strong>toUpperCase:</strong> 变成大写</li>
<li><strong>toLowerCase:</strong> 变成小写</li>
<li><strong>indexOf:</strong> 返回子字符串出现的索引位置，index索引编号规则和python相同。</li>
<li><strong>substring:</strong> 返回子字符串，如果熟悉python的那种切片规则的话，那么推荐就直接使用 <code>slice</code> 方法。</li>
<li><strong>replace:</strong> 替换操作 </li>
<li><strong>split:</strong>  分割操作</li>
</ul>
<h4 id="tostring">toString方法</h4>
<p>javascript的数值、布尔值、对象和字符串都有一个 <code>toString</code> 方法，大体类似于python的 <code>str</code> 函数。自己定义的对象也可以加上 <code>toString</code> 方法：</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Jedi</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">options</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;no name&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">getName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`Jedi - </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getName</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="boolean">布尔值(boolean)</h3>
<p>javascript的布尔值是 <code>true</code> 和 <code>false</code> 。在进行比较判断操作时，如果你是希望比较值的话，类似python的比较判断 <code>==</code> 符号，在javascript中对应的是 <code>===</code> 。三个等号，这不是什么别出心裁，也没有任何实际的好处，就是javascript的历史遗留问题罢了。</p>
<div class="highlight"><pre><span></span><code>=== Equal to
!== Not equal to
</code></pre></div>

<p>boolean值的判断遵循以下规则：</p>
<ol>
<li><code>false</code> <code>0</code>  空字符串 <code>""</code>  <code>NaN</code>  <code>null</code>  <code>undefined</code> 都被视作false</li>
<li>其他都被视作true</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nb">Boolean</span><span class="p">({})</span>
<span class="kc">true</span>
</code></pre></div>

<h3 id="null">null</h3>
<p>javascript的 <code>null</code> 。其是一个特殊值。类似于python的 <code>None</code> ，然后还有一个什么 <code>undefined</code> 。比如函数没有明确return值就会默认返回 <code>undefined</code> ，感兴趣的可能查一下这两个的区别，我看了一下，觉得挺无聊的。上面谈到 <code>==</code> 和 <code>===</code> 的区别，如果用 <code>===</code> ，则 <code>undefined</code> 是不等于 <code>null</code> 的，如果用 <code>==</code> ，则javascript会额外做一些类型转换工作，这两个又会看作相等的。</p>
<p>ECMA-262 规定：</p>
<div class="highlight"><pre><span></span><code>null == undefined; -&gt; return true
</code></pre></div>

<p>比较操作的时候一律推荐使用 <code>===</code>  和 <code>!==</code>  ，而不要使用 <code>==</code> 和 <code>!=</code> 。</p>
<h3 id="typeof">typeof操作符</h3>
<p>查看某个对象的对象类型，typeof操作符只可能返回以下六种结果：</p>
<ul>
<li>number</li>
<li>string</li>
<li>object<ul>
<li>function</li>
<li>array</li>
<li>date</li>
<li>regexp</li>
</ul>
</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li>symbol (new in es6)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="ow">typeof</span> <span class="nx">x</span>
<span class="s2">&quot;undefined&quot;</span>
<span class="ow">typeof</span> <span class="mf">1</span>
<span class="s2">&quot;number&quot;</span>
</code></pre></div>

<h3 id="_8">数组</h3>
<p>javascript的数组（array）在数据结构概念上大体类似于python的列表。</p>
<h4 id="_9">构建一个数组</h4>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">array1</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">array2</span> <span class="o">=</span> <span class="ow">new</span> <span class="nb">Array</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">true</span><span class="p">];</span>
</code></pre></div>

<p>其索引index编号法则也和python一致。</p>
<h4 id="_10">数组的一些方法</h4>
<ul>
<li><strong>length:</strong> 数组长度</li>
<li><strong>indexOf:</strong> 返回数组某个子元素的索引位置</li>
<li><strong>slice:</strong> 切片操作，类似于python的 <code>lst[0:2]</code> 那种表达方法。slice方法不接受参数就默认返回该列表所有引用，也就是通常所说的 <em>浅拷贝</em> 。浅拷贝简单来说就是复制一个字典或者数组（或者其他复杂对象），根据第一层key赋值第一层value，如果第一层key是另外一个对象的引用，那么拷贝前对象和拷贝后对象都会指向统一对象，深拷贝就是进一步深入递归拷贝。</li>
<li><strong>push:</strong> 末尾添加一个元素</li>
<li><strong>pop:</strong> 最后一个元素删除</li>
<li><strong>unshift:</strong> 数组头部添加一个或多个元素，返回新数组的长度</li>
<li><strong>shift:</strong> 数组头部删除一个元素</li>
<li><strong>sort:</strong> 排序，破坏型。值得一提的是对于数字排序并不是按照从大到小的顺序来的，不太清楚为何:</li>
</ul>
<div class="highlight"><pre><span></span><code>&gt; var lst = [1,5,2,3,51,4,45,545,541,48,77]
&gt; undefined
&gt; lst.sort()
&gt; [ 1,
&gt; 2,
&gt; 3,
&gt; 4,
&gt; 45,
&gt; 48,
&gt; 5,
&gt; 51,
&gt; 541,
&gt; 545,
&gt; 77 ]
</code></pre></div>

<p>在python中最多说字符串就这样，但这里是number类型啊。然后要正常排序，我们需要如下操作（参看 <a href="http://www.w3school.com.cn/jsref/jsref_sort.asp">这个网页</a> ）:</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">5</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">51</span><span class="p">,</span><span class="mf">4</span><span class="p">,</span><span class="mf">45</span><span class="p">,</span><span class="mf">545</span><span class="p">,</span><span class="mf">541</span><span class="p">,</span><span class="mf">48</span><span class="p">,</span><span class="mf">77</span><span class="p">]</span>
<span class="kd">function</span> <span class="nx">sortNumber</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
<span class="p">}</span>
<span class="nx">lst</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortNumber</span><span class="p">)</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">lst</span><span class="p">)</span>
</code></pre></div>

<p>这里sort方法接受一个函数参数，这个函数接受两个参量，用来判断a和b的值大小，如果返回值小于0，则a放在前面。如果返回值大于0，则a放在后面。这种排序方法也支持数字字符串的情况。javascript在处理这种 <code>字符串 - 字符串</code> 的情况是会尝试做转换成number类型的才做。</p>
<ul>
<li><strong>reverse:</strong> 反转，破坏型。</li>
<li><strong>splice:</strong> 从指定的索引删除某些元素，然后在此处添加某些元素，相当于update更新了。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Microsoft&#39;</span><span class="p">,</span> <span class="s1">&#39;Apple&#39;</span><span class="p">,</span> <span class="s1">&#39;Yahoo&#39;</span><span class="p">,</span> <span class="s1">&#39;AOL&#39;</span><span class="p">,</span> <span class="s1">&#39;Excite&#39;</span><span class="p">,</span> <span class="s1">&#39;Oracle&#39;</span><span class="p">];</span>
<span class="o">&gt;</span> <span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="mf">3</span><span class="p">,</span> <span class="s1">&#39;Google&#39;</span><span class="p">,</span> <span class="s1">&#39;Facebook&#39;</span><span class="p">);</span>
<span class="o">&gt;</span> <span class="p">[</span><span class="s2">&quot;Yahoo&quot;</span><span class="p">,</span> <span class="s2">&quot;AOL&quot;</span><span class="p">,</span> <span class="s2">&quot;Excite&quot;</span><span class="p">]</span>
<span class="o">&gt;</span> <span class="nx">arr</span>
<span class="o">&gt;</span> <span class="p">[</span><span class="s2">&quot;Microsoft&quot;</span><span class="p">,</span> <span class="s2">&quot;Apple&quot;</span><span class="p">,</span> <span class="s2">&quot;Google&quot;</span><span class="p">,</span> <span class="s2">&quot;Facebook&quot;</span><span class="p">,</span> <span class="s2">&quot;Oracle&quot;</span><span class="p">]</span>
</code></pre></div>

<p>参数意思是从索引2开始删除3个元素，然后添加后面的元素。从上面的例子可以看出splice方法是破坏型的方法，然后其返回的是删除了的那是那个元素。</p>
<p>splice方法也可以用于只删除不添加也就是纯删除操作，或只添加不删除的纯添加操作。</p>
<div class="highlight"><pre><span></span><code>// 只删除,不添加:
arr.splice(2, 2);
// 只添加,不删除:
arr.splice(2, 0, &#39;Google&#39;, &#39;Facebook&#39;);
</code></pre></div>

<ul>
<li><strong>concat:</strong> 连接两个数组，非破坏型。</li>
</ul>
<div class="highlight"><pre><span></span><code>&gt; var lst1 = [1,2,3]
&gt; undefined
&gt; var lst2 = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]
&gt; undefined
&gt; lst1.concat(lst2)
&gt; [1, 2, 3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;]
</code></pre></div>

<ul>
<li><strong>join:</strong> 类似于python字符串的join方法，如下所示:</li>
</ul>
<div class="highlight"><pre><span></span><code>var arr = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 1, 2, 3];
arr.join(&#39;-&#39;); // &#39;A-B-C-1-2-3&#39;
</code></pre></div>

<ul>
<li><strong>fill:</strong> 数组用某个值来填充</li>
</ul>
<h4 id="for">for遍历数组</h4>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something with value</span>
<span class="p">}</span>
</code></pre></div>

<p>遍历数组还可以这样：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="o">&lt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
<span class="p">});</span>
<span class="o">&gt;</span> <span class="nx">a</span> <span class="mf">0</span>
<span class="o">&gt;</span> <span class="nx">b</span> <span class="mf">1</span>
<span class="o">&gt;</span> <span class="nx">c</span> <span class="mf">2</span>
</code></pre></div>

<p>这大体实现了类似于python的 <code>enumerate</code> 写法。上面的forEach方法后面跟着的函数也可以只接受一个value参数。</p>
<h4 id="_11">判断某个元素是否在数组中</h4>
<div class="highlight"><pre><span></span><code>[&#39;a&#39;,&#39;b&#39;].indexOf(&#39;a&#39;)
</code></pre></div>

<p>如果返回 <code>-1</code> 则该元素不在数组中，否则在数组中。</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">is_in_array</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">element</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mf">1</span><span class="p">){</span>
        <span class="k">return</span> <span class="kc">false</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="mapfilterreduce">map和filter和reduce</h4>
<p>这三个函数是函数编程很重要的几个函数，在数组对象里面可以直接调用这些方法：</p>
<div class="highlight"><pre><span></span><code>a.map(function)
</code></pre></div>

<h3 id="_12">对象</h3>
<p>对象是一个整合了数据和函数的集合。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{}</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="o">:</span><span class="mf">1</span><span class="p">}</span>
<span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mf">1</span> <span class="p">}</span>
</code></pre></div>

<p>下面演示了对象如何整合函数（或者叫做方法）的例子：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">x</span><span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;data&#39;</span><span class="o">:</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">,</span><span class="mf">4</span><span class="p">],</span>
  <span class="s1">&#39;length&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">())</span>
</code></pre></div>

<p>我们大概能够猜测出一些javascript底层如何实现的细节，但这对于目前阶段学习和使用这个编程语言来说是没有裨益的。前面在介绍typeof的时候提到数组，函数都是对象。</p>
<p>新建一个数组的完整写法是： <code>new Array()</code> ；新建一个对象的完整写法是：<code>new Object()</code> 。新建一个类的写法如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Rectangle</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">height</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">height</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">p</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Rectangle</span><span class="p">();</span>
</code></pre></div>

<p>因为后面有class这样的概念，我是推荐将这些出现的对象看作类似python中字典的概念，一个键值对映射集合。从编程概念上讲也是需要这样一个数据类型的。然后数组，这里的对象，函数，用户自定义的类等用typeof去查看都是object，他们都属于object。这个object是否就是这里的Object，从实现层面上我还不大确切，但这不是重点，就算是，从编程概念上来说也是应该有所区分的。一个是实用的数据类型，一个是很抽象的面向对象编程概念上的底层表述。</p>
<h4 id="_13">对象的原型</h4>
<p>JavaScript的对象大多有一个原型对象，其从原型继承属性。可以通过 <code>Object.prototype</code> 来引用该对象的原型对象。</p>
<p>要检测一个对象是否是另外一个对象的原型可以使用 <code>isPrototypeOf</code> 方法：</p>
<div class="highlight"><pre><span></span><code>p.isPrototypeOf(o) // if true then the p is the o&#39;s prototype.
</code></pre></div>

<h4 id="in">in语句</h4>
<p>判断某个对象时候有某个键。</p>
<div class="highlight"><pre><span></span><code><span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="nx">xiaoming</span><span class="p">;</span>

<span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">d</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1</span>
<span class="mf">1</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="nx">d</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="mf">1</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="mf">2</span><span class="p">,</span><span class="mf">3</span><span class="p">]</span>
<span class="kc">true</span>
</code></pre></div>

<h4 id="delete">delete语句</h4>
<p>其对应的就是python的del语句。然后我们看到javascript的 <code>delete</code> 语句删除不存在键也不会报错。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="ow">delete</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mf">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="ow">delete</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{}</span>
</code></pre></div>

<h4 id="hasownproperty">hasOwnProperty方法</h4>
<p>对应于python2的has_key方法，不过python2已经移除了，推荐用in语句。</p>
<div class="highlight"><pre><span></span><code><span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="o">:</span><span class="mf">1</span><span class="p">}</span>
<span class="nx">d</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="kc">true</span>
</code></pre></div>

<h4 id="shallow-copy">shallow copy</h4>
<div class="highlight"><pre><span></span><code><span class="kd">const</span> <span class="nx">original</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mf">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mf">2</span> <span class="p">};</span>
<span class="kd">const</span> <span class="nx">copy</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">original</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mf">3</span> <span class="p">};</span> <span class="c1">// copy =&gt; { a: 1, b: 2, c: 3 }</span>
</code></pre></div>

<h4 id="_14">遍历对象属性</h4>
<p><code>Object.keys(obj)</code> 将返回该对象的keys组成的数组，然后后续可以利用数组的遍历动作来实现对对象keys的遍历。</p>
<div class="highlight"><pre><span></span><code>Object.keys(obj)
</code></pre></div>

<h3 id="_15">集合</h3>
<p>javascript中的集合Set大体也和python中的集合概念相近。</p>
<p>var s1 = new Set(); // 空Set
var s2 = new Set([1, 2, 3]); // 含1, 2, 3</p>
<p>然后其也有 <code>add</code> 方法用于添加一个元素。用 <code>delete</code> 方法来删除某个元素。</p>
<h2 id="_16">函数</h2>
<p>函数正如前面所说也是一个对象，一个简单的函数对象定义如下所示：</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">greeting</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
</code></pre></div>

<p>上面的写法主要介绍了匿名函数的写法，某些情况下会用到，一般定义函数最好采用如下写法：</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">abs</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">-</span><span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>这两种定义风格是完全等价的。这里值得一提的是如果函数没有确定return值，则返回的是 <code>undefined</code> 。</p>
<h3 id="arguments">arguments用法</h3>
<p>javascript的函数内部可以直接使用 <code>arguments</code> 这个变量，其不是一个Array，但可以如下使用:</p>
<div class="highlight"><pre><span></span><code>arguments[0]
arguments.length
</code></pre></div>

<p>其会接受传入函数的所有参量。</p>
<h3 id="rest">rest用法</h3>
<p>这个有点类似于lisp语言的rest参量控制概念，也就是如下</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">func</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,...</span><span class="nx">rest</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rest</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>rest是表示除了a和b之外的所有其余参量。注意前面三个点号: <code>...rest</code> 。</p>
<h3 id="_17">箭头函数</h3>
<p>简单来说箭头函数就是 lambda 表达式的更简洁写法，只是说在javascript语境下其和一般function的区别是：<u>其没有this绑定</u>。</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nx">param1</span><span class="p">,</span> <span class="nx">param2</span><span class="p">,</span> <span class="err">…</span><span class="p">,</span> <span class="nx">paramN</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">statements</span> <span class="p">}</span>
</code></pre></div>

<h2 id="_18">程序中的逻辑</h2>
<p>这一块如果读者熟悉一门编程语言的话，粗略地了解下扫一遍基本上就掌握了javascript相关语句知识。下面本小节也不会过多地讨论，只是就某些应用上常见的知识点做出一些说明。</p>
<h3 id="_19">条件判断结构</h3>
<p>条件判断结构，和python大同小异，除了那些圆括号（记住这个圆括号必须加上）和花括号。</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">feedback</span> <span class="o">=</span> <span class="mf">10</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">feedback</span> <span class="o">&gt;</span> <span class="mf">8</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Thank you! We should race at the next concert!&quot;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;I&#39;ll keep practicing coding and racing.&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>虽然javascript不像python那样强制缩进风格，但还是推荐用缩进来增强你的代码可读性和逻辑清晰性，如:</p>
<div class="highlight"><pre><span></span><code><span class="nx">age</span> <span class="o">=</span> <span class="mf">20</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mf">6</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;kid&#39;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">age</span> <span class="o">&gt;=</span> <span class="mf">18</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;adult&#39;</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;teenager&#39;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>javascript有switch语句，作为我们pythoner你懂的，用多个else if语句也是可以的。</p>
<h3 id="switch">switch语句</h3>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">set_choice</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">choice</span> <span class="o">=</span> <span class="s1">&#39;second&#39;</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">choice</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s1">&#39;first&#39;</span><span class="o">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;first&#39;</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s1">&#39;second&#39;</span><span class="o">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;second&#39;</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_20">三元运算符</h3>
<div class="highlight"><pre><span></span><code>&gt; let b = null
undefined
&gt; b = b ? b : 2
2
</code></pre></div>

<h3 id="for_1">for循环</h3>
<p>javascript和python都有while语句，但while语句用的较少，更多的是使用for语句。</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mf">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="for_2">for遍历数组</h3>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something with value</span>
<span class="p">}</span>
</code></pre></div>

<p>遍历数组还可以这样：</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="o">&lt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
<span class="p">});</span>
<span class="o">&gt;</span> <span class="nx">a</span> <span class="mf">0</span>
<span class="o">&gt;</span> <span class="nx">b</span> <span class="mf">1</span>
<span class="o">&gt;</span> <span class="nx">c</span> <span class="mf">2</span>
</code></pre></div>

<p>这大体实现了类似于python的 <code>enumerate</code> 写法。</p>
<h3 id="for_3">for遍历对象</h3>
<p>然后递归遍历对象的key也是可以的:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="o">:</span><span class="mf">1</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="o">:</span><span class="mf">2</span><span class="p">})</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="forwhile">for实现while循环</h3>
<p>下面是用for语句来实现while循环：</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mf">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
  <span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="for_4">for实现无限循环</h3>
<p>下面是用for语句实现无限循环：</p>
<div class="highlight"><pre><span></span><code>for (;;){
  dosomething;
}
</code></pre></div>

<h3 id="while">while语句</h3>
<p>while语句简单了解下吧。</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mf">99</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mf">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">n</span><span class="p">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">-</span> <span class="mf">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>还有do while 语句</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mf">0</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mf">1</span><span class="p">;</span>
<span class="p">}</span><span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mf">100</span><span class="p">);</span>
</code></pre></div>

<h3 id="_21">异常处理</h3>
<p>类似于python的 <code>try...except...</code> ，javascript有：</p>
<div class="highlight"><pre><span></span><code>try {
    throw （new Error(&quot;Invalid Parameters&quot;));
}catch (e) {
    console.log(e);
}finally {
    //always do something.
}
</code></pre></div>

<h2 id="_22">面向对象编程</h2>
<p>现代javascript推荐使用class来定义类：</p>
<div class="highlight"><pre><span></span><code><span class="c1">//定义类</span>
<span class="kd">class</span> <span class="nx">Point</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>以前老式的写法如下所示，可以了解下：</p>
<div class="highlight"><pre><span></span><code><span class="kd">function</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mf">1</span><span class="p">,</span> <span class="mf">2</span><span class="p">);</span>
</code></pre></div>

<h3 id="this">this</h3>
<p>在javascript里面，object里面定义的方法， <code>this</code> 指向的就是本对象的实例。</p>
<p>如果 this 在函数里面，如：</p>
<div class="highlight"><pre><span></span><code>function (){
    this.x = 1;
}
</code></pre></div>

<p>那么指定的是当这个函数要运行的时候，具体调用这个函数的对象。</p>
<p>比如说某个函数将这样被调用： <code>jquery对象.what</code> 那么这个函数里面的this就是指定的那个jquery实例，通常也就是网页里面的某个标签元素。</p>
<h3 id="constructor">constructor方法</h3>
<p>面向对象编程里面常见的概念，即该对象的构造方法，在新建实例化该对象时被调用。</p>
<h3 id="getset">属性的get和set</h3>
<p>面向对象编程里面这个是自定义对象重要的一个设计点，javascript采用如下<code>get name()</code> 这样的写法： </p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">User</span> <span class="p">{</span>
  <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_name</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">set</span> <span class="nx">name</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mf">4</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Name is too short.&quot;</span><span class="p">);</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_name</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">user</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">User</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
</code></pre></div>

<h3 id="_23">类的继承</h3>
<p>关于面向对象的继承概念这里就不赘述了。</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nx">Dog</span> <span class="k">extends</span> <span class="nx">Animal</span><span class="p">{</span>
   <span class="c1">//</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="super">super</h3>
<p>类似python语言里面的super概念，引用父类。</p>
<h3 id="instanceof">instanceof</h3>
<p>类似于python语言中的isinstance函数。</p>
<div class="highlight"><pre><span></span><code>obj instanceof Class
</code></pre></div>

<h2 id="no-jquery">no-jquery</h2>
<p>更多相关知识请参阅参考资料四，即 <a href="https://github.com/nefe/You-Dont-Need-jQuery/blob/master/README.zh-CN.md">这个Github项目</a> 。下面就一些重点知识做出一些整理。</p>
<h3 id="_24">选择</h3>
<p>jquery的选择是该库很核心的一个功能，现代JavaScript提供了 <code>document.querySelector()</code> 和 <code>document.querySelectorAll()</code> 来作为替代。然后原来的 <code>document.getElementById()</code>  ， <code>document.getElementByClassName()</code> 或 <code>document.getElementByTagName()</code> 性能更好。</p>
<div class="highlight"><pre><span></span><code>// jQuery
$(&#39;selector&#39;);

// Native
document.querySelectorAll(&#39;selector&#39;);
</code></pre></div>

<h4 id="class">选择class</h4>
<div class="highlight"><pre><span></span><code>// jQuery
$(&#39;.class&#39;);

// Native
document.querySelectorAll(&#39;.class&#39;);

// or
document.getElementsByClassName(&#39;class&#39;);
</code></pre></div>

<h4 id>选择id</h4>
<div class="highlight"><pre><span></span><code>// jQuery
$(&#39;#id&#39;);

// Native
document.querySelector(&#39;#id&#39;);

// or
document.getElementById(&#39;id&#39;);
</code></pre></div>

<h3 id="ajax">ajax</h3>
<p>更多信息请查看mozilla关于 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API">fetch函数的介绍</a> 。</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;http://localhost:8080&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;请求状态: &quot;</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;返回文本：&quot;</span> <span class="o">+</span> <span class="nx">text</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<p>fetch将请求一个URL，然后调用后面的函数。其中<code>response.text()</code> 返回的是一个Promise对象，什么是Promise对象，可以类比作python异步编程里面的协程，继续调用then才能获得内容。</p>
<p>如果你请求的是JSON api接口，那么可以直接调用 response.json来处理返回结果：</p>
<div class="highlight"><pre><span></span><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;http://localhost:8080&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<h2 id="_25">字符串</h2>
<h3 id="match">字符串的match方法</h3>
<p>字符串的match方法可以跟上RegExp 对象来继续正则表达式匹配操作。</p>
<h2 id="_26">对象</h2>
<h3 id="keys">获取对象的keys数组</h3>
<div class="highlight"><pre><span></span><code>attrs = attrs || {};
Object.keys(attrs);
</code></pre></div>

<h2 id="json">JSON</h2>
<p>如下所示，下面也演示了利用 <code>JSON.parse</code> 来将相应的JSON字符串转成JavaScript对象。</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">6</span> <span class="p">});</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">x</span>
<span class="s1">&#39;{&quot;x&quot;:5,&quot;y&quot;:6}&#39;</span>
<span class="o">&gt;</span> <span class="ow">typeof</span> <span class="nx">x</span>
<span class="s1">&#39;string&#39;</span>
<span class="o">&gt;</span> <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">y</span>
<span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mf">5</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mf">6</span> <span class="p">}</span>
<span class="o">&gt;</span> <span class="ow">typeof</span> <span class="nx">y</span>
<span class="s1">&#39;object&#39;</span>
</code></pre></div>

<h2 id="_27">函数</h2>
<h3 id="_28">立即执行的匿名函数</h3>
<p>我们常见到某个js脚本一整段都被这样一种写法包围着：</p>
<div class="highlight"><pre><span></span><code>(function($){…})(jQuery)
</code></pre></div>

<p>这是定义了一个匿名函数，其将立即执行，接受了一个jQuery参数，并传递给了匿名函数。</p>
<p>之所以这种写法很常见是因为这样做可以将整个模块的代码都放在一个匿名函数里面，这样模块里面定义的全局变量就成了函数内的局部变量了，这样不会污染全局变量命名空间。</p>
<h2 id="window">window</h2>
<p>window对象里面的属性都是全局变量，可以直接调用的。</p>
<h3 id="setinterval">setInterval</h3>
<div class="highlight"><pre><span></span><code>setInterval(func, 1000)
</code></pre></div>

<p>启动一个计时器，第二个参数是时间间隔，每个那个时间间隔将会执行一次目标函数，默认单位是ms。</p>
<h3 id="settimeout">setTimeout</h3>
<p>类似setInterval，启动一次性任务。</p>
<h3 id="location">location</h3>
<p>该窗口的Location对象</p>
<h3 id="history">history</h3>
<p>该窗口的History对象</p>
<h2 id="document">document</h2>
<h3 id="getelementbyid">getElementById</h3>
<h3 id="createelement">createElement</h3>
<div class="highlight"><pre><span></span><code>var e = document.createElement(name);
</code></pre></div>

<p>创建一个标签，返回的是一个 <code>Element</code> 对象。</p>
<h3 id="createtextnode">createTextNode</h3>
<div class="highlight"><pre><span></span><code>child = document.createTextNode(child);
</code></pre></div>

<p>创建一个文本节点。</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createTextNode</span><span class="p">(</span><span class="s1">&#39;this is text.&#39;</span><span class="p">)</span>
<span class="nx">e</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
</code></pre></div>

<p>上面的例子创建了一个li标签，然后创建了一个文本节点，然后将这个文本节点附加到该li标签上，最后该li标签内容如下：</p>
<div class="highlight"><pre><span></span><code>&lt;li&gt;this is text.&lt;/li&gt;
</code></pre></div>

<h2 id="element">Element对象</h2>
<h3 id="queryselector">querySelector</h3>
<p>之前接触到的<code>document.querySelector</code> 是因为Document对象继承自Element对象，该方法实际来自Element对象。具体就是在本Element下继续进行搜索动作。</p>
<h3 id="setattribute">setAttribute</h3>
<p><code>Element</code> 对象可以调用这个 <code>setAttribute</code> 方法来设置标签内的属性值。</p>
<div class="highlight"><pre><span></span><code>element.setAttribute(name, value);
</code></pre></div>

<h3 id="dataset">dataset</h3>
<p>查询到的元素如果div则是更具体的HTMLdivElement等等，其继承自HTMLElement，HTMLElement有一些专门的方法。比如这个dataset，其是可以只读属性，对应html中的<code>data-*</code> 这样的属性值，比如说 <code>data-name</code> 将变成dataset的<code>{'name': 'what'}</code> 。</p>
<h3 id="classlist">classList</h3>
<p>类似上面的讨论也是HTMLElement的一个属性，表示class属性数组。</p>
<h2 id="node">Node对象</h2>
<h3 id="textcontent">textContent</h3>
<p>之前提到querySelector查到某个Element之后想要取出其文本内容可以调用 <code>textContent</code> 属性，document和Element都能这样做只是因为它们继承自Node对象，具体textContent这个属性的定义是在Node对象这里。</p>
<h3 id="parentelement">parentElement</h3>
<p>返回本节点的父节点</p>
<div class="highlight"><pre><span></span><code>parentElement = node.parentElement
</code></pre></div>

<h3 id="removechild">removeChild</h3>
<p>移除本节点的某个子节点</p>
<div class="highlight"><pre><span></span><code>node.removeChild(child);
</code></pre></div>

<h2 id="_29">事件</h2>
<p>Element对象继承自EventTarget从而获得了这些方法： <code>addEventListener</code> ， <code>removeEventListener</code> 和 <code>dispatchEvent</code> ，这几个方法都是和事件处理相关的。</p>
<p>熟悉GUI桌面程序的话会对事件有个大致的理解，大体类似于QT里面的信号。</p>
<h3 id="customevent">CustomEvent</h3>
<p>自定义一个事件，第二个参数可以是任意的信息。</p>
<div class="highlight"><pre><span></span><code>  new CustomEvent(name, { bubbles: true, cancelable: false })
</code></pre></div>

<h3 id="dispatchevent">dispatchEvent</h3>
<p>程序触发某个Element元素上监听的事件</p>
<div class="highlight"><pre><span></span><code><span class="nx">target</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span>
      <span class="ow">new</span> <span class="nx">CustomEvent</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="p">{</span> <span class="nx">bubbles</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">cancelable</span><span class="o">:</span> <span class="kc">false</span> <span class="p">})</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="addeventlistener">addEventListener</h3>
<p>给某个元素增加一个事件监听</p>
<h3 id="removeeventlistener">removeEventListener</h3>
<p>移除某个元素上的事件监听</p>
<h3 id="eventtargeteventcurrenttarget">event.target和event.currentTarget的区别</h3>
<p>事件响应到调用函数那边，通过event.target或者event.currentTarget可以引用触发事件的浏览器对象，不过它们是有一点区别的。</p>
<p>首先说一下事件的冒泡机制，当某个元素触发了某个事件，其会触发本元素上事件响应处理程序，然后该事件会继续冒泡到本元素的父元素之上，再触发父元素的事件响应处理程序。</p>
<p>event.target是引用那个最开始触发事件的那个目标元素，而event.currentTarget是引用那个实际处理事件的元素。比如说某个div里面有一个button，你给div绑定了事件监听处理函数，然后那个事件监听处理函数里面调用 <code>event.currentTarget</code> 则会指向那个div，而如果你调用 <code>event.target</code> 则会引用最开始触发click事件的那个元素，也就是button。</p>
<p>在一个目标button里面处理click事件使用event.target或者event.currentTarget是没有区别的。</p>
<h2 id="_30">其他</h2>
<h2 id="_31">其他</h2>
<h3 id="_32">表单提交按钮防止多次点击多次提交</h3>
<p>参考了 <a href="https://www.the-art-of-web.com/javascript/doublesubmit/">这个网页的第一小节</a> ，觉得这个解决方案很是简单，而且有效。对于单页面表单，也就是提交成功了通常切换到另外的网页那边去了的，还是很好地适用的。可能在某些情况下，本解决方案会令人不太满意，因为这个提交按钮只要提交之后就显示按钮一直处于禁用状态。</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;POST&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;...&quot;</span> <span class="na">onsubmit</span><span class="o">=</span><span class="s">&quot;myButton.disabled = true; return true;&quot;</span><span class="p">&gt;</span>
...
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;myButton&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Submit&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>

<h2 id="jquery">jquery基本操作</h2>
<h3 id="_33">基本用法</h3>
<p>jquery的基本用法就是:</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">action</span><span class="p">()</span>
</code></pre></div>

<p><code>$(selector)</code> 返回的是找到的对象的数组，而进行某个action的时候是对所有找到的对象都进行如此动作。</p>
<h3 id="_34">文档初始化之后执行的动作</h3>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
   <span class="c1">// jQuery methods go here...</span>
<span class="p">});</span>
</code></pre></div>

<p>此外我们还常见到一种简化的写法：</p>
<div class="highlight"><pre><span></span><code>$(function(){});
</code></pre></div>

<h3 id="_35">选择元素</h3>
<p>一般按照css语法选择元素并没什么好讲的，很是直观，简单看下即可。</p>
<h4 id="_36">特殊符号的元素选择</h4>
<p>目前我遇到的情况是 <code>fn:1</code> 这个按照jquery是选择不了的，实际上这个用document.querySelect也选择不了，里面有个非法符号<code>:</code> ，不过 <code>document.getElementById</code> 可以正常选择。</p>
<p>一定要使用jquery的话需要如下加上两个转义符号。</p>
<div class="highlight"><pre><span></span><code>$(&#39;#fn\\:1&#39;)
</code></pre></div>

<h4 id="_37">选择多个元素之后迭代</h4>
<div class="highlight"><pre><span></span><code>$(&#39;.footnote-ref&#39;).each(function(){

    // $(this)

}
</code></pre></div>

<p>在迭代过程里面的那个匿名函数里面调用 <code>$(this)</code> 就是目标元素。</p>
<h3 id="_38">当前节点选择子元素</h3>
<div class="highlight"><pre><span></span><code>$(&#39;sup&#39;,this)
</code></pre></div>

<p>第二个参数写上 <code>this</code> 就是在当前节点下继续选择某个子元素。</p>
<h4 id="_39">选中父元素</h4>
<div class="highlight"><pre><span></span><code>$(&#39;#target1&#39;).parent().css(&#39;background-color&#39;,&#39;red&#39;);
</code></pre></div>

<p>即调用parent方法。</p>
<h4 id="_40">选中子元素</h4>
<div class="highlight"><pre><span></span><code>$(&#39;#right-well&#39;).children().css(&#39;color&#39;,&#39;orange&#39;);
</code></pre></div>

<p>即调用children方法。</p>
<h4 id="_41">选中元素的第几个</h4>
<div class="highlight"><pre><span></span><code>$(&#39;.target:nth-child(2)&#39;).addClass(&#39;animated bounce&#39;);
</code></pre></div>

<div class="highlight"><pre><span></span><code>$(&#39;.target:even&#39;).addClass(&#39;animated shake&#39;);  # 选中元素的偶数个，0 2 4...
</code></pre></div>

<p>这个语法实际上来自css的选择语法。</p>
<h3 id="_42">获取文本和修改文本</h3>
<div class="highlight"><pre><span></span><code>$(&#39;div&#39;).text()  # 获取文本
$(&#39;div&#39;).text(&#39;new text&#39;) # 修改文本
</code></pre></div>

<p>此外还有 <code>html()</code> 方法，其可以写上html标签。</p>
<p>如果使用JavaScript原生的document.querySelect之类的方法，获取到的元素想要看文本可以调用 <code>textContent</code> 属性。</p>
<h3 id="_43">删除某个元素</h3>
<div class="highlight"><pre><span></span><code>$(&#39;sup&#39;,this).remove();
</code></pre></div>

<p>即调用remove方法。</p>
<h3 id="_44">修改元素的某个属性</h3>
<div class="highlight"><pre><span></span><code>$(this).attr(&#39;data-toggle&#39;,&#39;popover&#39;);
</code></pre></div>

<h3 id="_45">移除元素的某个属性</h3>
<div class="highlight"><pre><span></span><code>$(this).removeAttr(&#39;href&#39;);
</code></pre></div>

<h3 id="class_1">class属性修改</h3>
<h4 id="class_2">添加class</h4>
<div class="highlight"><pre><span></span><code>div.addClass(&#39;highlight&#39;); // 添加highlight这个class
</code></pre></div>

<h4 id="class_3">删除class</h4>
<div class="highlight"><pre><span></span><code>div.removeClass(&#39;highlight&#39;); // 删除highlight这个class
</code></pre></div>

<h4 id="css">修改css</h4>
<div class="highlight"><pre><span></span><code>$(&#39;div&#39;).css(&#39;background-color&#39;, &#39;#ffd351&#39;);
</code></pre></div>

<h3 id="value">获取表单value值或修改</h3>
<div class="highlight"><pre><span></span><code>$(&#39;input&#39;).val()  # 获取值
$(&#39;input&#39;).val(&#39;new value&#39;) # 修改值
</code></pre></div>

<h3 id="_46">让按钮变为不可选</h3>
<p>prop方法设置或返回被选元素的属性。</p>
<div class="highlight"><pre><span></span><code>$(&quot;button&quot;).prop(&#39;disabled&#39;, true)
</code></pre></div>

<h3 id="_47">事件绑定动作</h3>
<div class="highlight"><pre><span></span><code>$(selector).click(function)
</code></pre></div>

<h4 id="_48">鼠标事件</h4>
<ul>
<li><strong>click:</strong> 鼠标单击时触发；</li>
<li><strong>dblclick:</strong> 鼠标双击时触发；</li>
<li><strong>mouseenter:</strong> 鼠标进入时触发；</li>
<li><strong>mouseleave:</strong> 鼠标移出时触发；</li>
<li><strong>mousemove:</strong> 鼠标在DOM内部移动时触发 （接受e ，e.pageX是鼠标x值，e.pageY是鼠标Y值）</li>
<li><strong>hover:</strong> 鼠标进入和退出时触发两个函数，相当于mouseenter加上mouseleave。</li>
</ul>
<h4 id="_49">键盘事件</h4>
<p>键盘事件仅作用在当前焦点的DOM上，通常是 <code>&lt;input&gt;</code> 和 <code>&lt;textarea&gt;</code> 。</p>
<ul>
<li><strong>keydown:</strong> 键盘按下时触发；</li>
<li><strong>keyup:</strong> 键盘松开时触发；</li>
<li><strong>keypress:</strong> 按一次键后触发。</li>
</ul>
<h4 id="_50">取消某个事件绑定</h4>
<div class="highlight"><pre><span></span><code>a.off(&#39;click&#39;, hello);
</code></pre></div>

<h3 id="_51">获取屏幕的宽度和高度</h3>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span>
<span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">()</span>
</code></pre></div>

<p>这两个方法更确切的描述是返回所选元素的宽度或高度。此外还有 <code>innerWidth</code> 和 <code>innerHeight</code> 方法（包含内边距）， <code>outerWidth</code> 和 <code>outerHeight</code> 包含内边距和边框。</p>
<h3 id="hide">hide方法</h3>
<p>实际上就是css设置 <code>display:none</code> 。</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#test&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">()</span>
</code></pre></div>

<p>这样将隐藏所有id为test的元素。</p>
<h3 id="jquery_1">jquery 动画效果</h3>
<h4 id="_52">面板展开和隐藏</h4>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span> 
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.slidepanel&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#panel-one&quot;</span><span class="p">).</span><span class="nx">slideToggle</span><span class="p">(</span><span class="s2">&quot;slow&quot;</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;slidepanel&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;background-color:#efefef; padding:5px&quot;</span><span class="p">&gt;</span>滑动面板<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;panel-one&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;border:solid 1px #efefef; padding:5px&quot;</span><span class="p">&gt;</span>just jquery it.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<div class="slidepanel" style="background-color:#efefef; padding:5px">滑动面板</div>
<div id="panel-one" style="border:solid 1px #efefef; padding:5px">just jquery it.</div>
<script> 
$(document).ready(function(){
  $(".slidepanel").click(function(){
    $("#panel-one").slideToggle("slow");
  });
});
</script>

<h2 id="ajax_1">ajax</h2>
<p>jquery是基于 <code>XMLHttpRequest</code> 的，不得不承认jquery的ajax这块写得实在是太好了。</p>
<h3 id="get">get</h3>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;/try/ajax/demo_test.php&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="nx">status</span><span class="p">){</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;数据: &quot;</span> <span class="o">+</span> <span class="nx">data</span> <span class="o">+</span> <span class="s2">&quot;\n状态: &quot;</span> <span class="o">+</span> <span class="nx">status</span><span class="p">);</span>
        <span class="p">});</span>
</code></pre></div>

<p>回调函数接受两个参数，传回来的data和状态码。其等价于：</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</code></pre></div>

<p>get请求上面的data将附加到url上。</p>
<h3 id="getjson">getJSON</h3>
<p>等价于：</p>
<div class="highlight"><pre><span></span><code>$.ajax({
  url: url,
  data: data,
  success: callback,
  dataType: json
});
</code></pre></div>

<p>注意dataType设置为json</p>
<h3 id="post">post</h3>
<div class="highlight"><pre><span></span><code><span class="nx">jQuery</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">data</span><span class="p">,</span><span class="nx">success</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">),</span><span class="nx">dataType</span><span class="p">)</span>
</code></pre></div>

<p>等价于：</p>
<div class="highlight"><pre><span></span><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</code></pre></div>

<p>上面的data是发送请求发送给服务器的数据。dataType可选，会智能判断服务器响应的数据。</p>
<h3 id="_53">跨域问题</h3>
<p>参看了 <a href="https://segmentfault.com/a/1190000006146207">js跨域</a> 这篇文章， <code>XMLHttpRequest</code> 是不能跨域的。我们通常所说jsonp，就是一种实现跨域的解决方案，具体我不想太深究，因为一般restful api都是采用的json格式，而除了jsonp之外，服务端如下加上响应头也是可以的：</p>
<div class="highlight"><pre><span></span><code>header(&#39;Access-Control-Allow-Origin:*&#39;);//允许跨域请求的域名，允许全部设为*
header(&#39;Access-Control-Allow-Methods:POST,GET&#39;);
</code></pre></div>

<h2 id="_54">其他</h2>
<h3 id="jquery_2">先网络加载jquery或者本地加载</h3>
<p>这里代码的意思应该是先网络加载jquery，如果没有则本地找找看。</p>
<div class="highlight"><pre><span></span><code>&lt;script src=&quot;https://code.jquery.com/jquery-{{JQUERY_VERSION}}.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;window.jQuery || document.write(&#39;&lt;script src=&quot;js/vendor/jquery-{{JQUERY_VERSION}}.min.js&quot;&gt;&lt;\/script&gt;&#39;)&lt;/script&gt;
</code></pre></div>

            </div>
            <section>
                <div class="col-md-2" style="float:right;font-size:0.9em;">
                    <h4>首发于：</h4>
                    <time pubdate="pubdate" datetime="2021-11-18T20:24:22.806299+08:00">2021年 11月 18日 </time>

                    <h4>最近更新于：</h4>
                    <time datetime="2021-11-18T20:24:22.806299+08:00">2021年 11月 18日 </time>


                    <h4>分类：</h4>
                    <a class="category-link" href="https://a358003542.github.io/categories.html#ji-suan-ji-webkai-fa-ref">计算机 - Web开发</a>
                    

                </div>
            </section>
        </div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

    <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/moment.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>



</body>
</html>