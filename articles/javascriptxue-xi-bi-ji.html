<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="javascript基础 本文主要面向那些已经熟悉一门编程语言的读者，并不十分适合编程初学者来阅读。 第二次修订版：本小节参考aribnb的javascript规范修订重写了。 注释 多行注释推荐如下写法： /** * make() returns a new element * based on the passed-in tag name */ 单行注释用 // ，然后注释都新起一行写，如果是代码块内的注释，则前面空一行： // This is a comment that the computer will ignore. function getType() { console.log(&#39;fetching type...&#39;); // set the default type to &#39;no type&#39; const type = this.type || &#39;no type&#39; …
"/>

        <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", javascript, " />

<meta property="og:title" content="javascript学习笔记 "/>
<meta property="og:url" content="https://a358003542.github.io/articles/javascriptxue-xi-bi-ji.html" />
<meta property="og:description" content="javascript基础 本文主要面向那些已经熟悉一门编程语言的读者，并不十分适合编程初学者来阅读。 第二次修订版：本小节参考aribnb的javascript规范修订重写了。 注释 多行注释推荐如下写法： /** * make() returns a new element * based on the passed-in tag name */ 单行注释用 // ，然后注释都新起一行写，如果是代码块内的注释，则前面空一行： // This is a comment that the computer will ignore. function getType() { console.log(&#39;fetching type...&#39;); // set the default type to &#39;no type&#39; const type = this.type || &#39;no type&#39; …" />
<meta property="og:site_name" content="wanze的博文" />
<meta property="og:article:author" content="wanze" />
<meta property="og:article:published_time" content="2020-04-14T17:04:20.525977+08:00" />
<meta name="twitter:title" content="javascript学习笔记 ">
<meta name="twitter:description" content="javascript基础 本文主要面向那些已经熟悉一门编程语言的读者，并不十分适合编程初学者来阅读。 第二次修订版：本小节参考aribnb的javascript规范修订重写了。 注释 多行注释推荐如下写法： /** * make() returns a new element * based on the passed-in tag name */ 单行注释用 // ，然后注释都新起一行写，如果是代码块内的注释，则前面空一行： // This is a comment that the computer will ignore. function getType() { console.log(&#39;fetching type...&#39;); // set the default type to &#39;no type&#39; const type = this.type || &#39;no type&#39; …">


    <title>javascript学习笔记  · wanze的博文
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li >
                    <a  href="/archives.html">所有文章</a></li>

                <li ><a href="/categories.html">文章分类</a></li>
                <li ><a href="/tags.html">文章标签</a></li>


                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://a358003542.github.io/articles/javascriptxue-xi-bi-ji.html"> javascript学习笔记  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#javascript">javascript基础</a><ul>
<li><a href="#_1">注释</a></li>
<li><a href="#javascript_1">javascript代码放在那里</a></li>
<li><a href="#_2">声明常量和变量</a></li>
<li><a href="#_3">全局变量</a></li>
<li><a href="#_4">数据类型简介</a><ul>
<li><a href="#number">数值型(number)</a><ul>
<li><a href="#parseint">parseInt()</a></li>
<li><a href="#parsefloat">parseFloat()</a></li>
</ul>
</li>
<li><a href="#string">字符串(string)</a><ul>
<li><a href="#_5">字符串的一些方法</a></li>
<li><a href="#tostring">toString方法</a></li>
</ul>
</li>
<li><a href="#_6">数组</a><ul>
<li><a href="#_7">数组的一些方法</a></li>
<li><a href="#_8">比较两个数组是否相同</a></li>
</ul>
</li>
<li><a href="#object">object</a><ul>
<li><a href="#_9">动态生成对象属性名</a></li>
<li><a href="#in">in语句</a></li>
<li><a href="#delete">delete语句</a></li>
<li><a href="#hasownproperty">hasOwnProperty方法</a></li>
<li><a href="#shallow-copy">shallow copy</a></li>
</ul>
</li>
<li><a href="#boolean">布尔值(boolean)</a></li>
<li><a href="#null">null</a></li>
<li><a href="#typeof">typeof操作符</a></li>
</ul>
</li>
<li><a href="#_10">定义函数</a></li>
<li><a href="#arguments">arguments用法</a></li>
<li><a href="#rest">rest用法</a></li>
<li><a href="#_11">箭头函数</a></li>
<li><a href="#_12">条件判断结构</a></li>
<li><a href="#_13">循环结构</a><ul>
<li><a href="#for">for循环</a></li>
<li><a href="#for_1">for遍历数组</a></li>
<li><a href="#for_2">for遍历对象</a></li>
<li><a href="#forwhile">for实现while循环</a></li>
<li><a href="#for_3">for实现无限循环</a></li>
<li><a href="#while">while语句</a></li>
</ul>
</li>
<li><a href="#_14">异常处理</a></li>
<li><a href="#this">this关键词</a></li>
<li><a href="#_15">集合</a></li>
<li><a href="#_16">三元运算符</a></li>
<li><a href="#jquery">jquery基本语法</a></li>
<li><a href="#_17">文档初始化之后执行的动作</a></li>
<li><a href="#_18">获取屏幕的宽度和高度</a></li>
<li><a href="#hide">hide方法</a></li>
<li><a href="#_19">获取文本和修改文本</a><ul>
<li><a href="#text">text()</a></li>
</ul>
</li>
<li><a href="#value">获取表单value值或修改</a><ul>
<li><a href="#val">val方法</a></li>
</ul>
</li>
<li><a href="#css">css操作</a><ul>
<li><a href="#class">添加class</a></li>
<li><a href="#class_1">删除class</a></li>
<li><a href="#css_1">修改css</a></li>
</ul>
</li>
<li><a href="#_20">让按钮变为不可选</a></li>
<li><a href="#_21">移除所选元素</a><ul>
<li><a href="#remove">remove方法</a></li>
</ul>
</li>
<li><a href="#_22">移动所选元素</a></li>
<li><a href="#_23">复制所选元素</a></li>
<li><a href="#_24">选中父元素</a></li>
<li><a href="#_25">选中子元素</a></li>
<li><a href="#_26">选中元素的第几个</a></li>
<li><a href="#_27">事件绑定动作</a><ul>
<li><a href="#_28">鼠标事件</a></li>
<li><a href="#_29">键盘事件</a></li>
<li><a href="#_30">取消某个事件绑定</a></li>
</ul>
</li>
<li><a href="#jquery_1">jquery 动画效果</a><ul>
<li><a href="#_31">面板展开和隐藏</a></li>
<li><a href="#_32">页内导航慢慢移动</a></li>
</ul>
</li>
<li><a href="#ajax">ajax</a><ul>
<li><a href="#get">get</a></li>
<li><a href="#getjson">getJSON</a></li>
<li><a href="#post">post</a></li>
<li><a href="#_33">跨域问题</a></li>
</ul>
</li>
<li><a href="#jquery_2">先网络加载jquery或者本地加载</a></li>
<li><a href="#fn">$.fn</a></li>
<li><a href="#extend">$.extend</a></li>
<li><a href="#trim">$.trim</a></li>
<li><a href="#each">$().each()</a></li>
</ul>
</li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
<h1 id="javascript">javascript基础</h1>
<p>本文主要面向那些已经熟悉一门编程语言的读者，并不十分适合编程初学者来阅读。</p>
<p>第二次修订版：本小节参考aribnb的javascript规范修订重写了。</p>
<h2 id="_1">注释</h2>
<p>多行注释推荐如下写法：</p>
<div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * make() returns a new element</span>
<span class="cm"> * based on the passed-in tag name</span>
<span class="cm"> */</span>
</pre></div>
<p>单行注释用 <code>//</code> ，然后注释都新起一行写，如果是代码块内的注释，则前面空一行：</p>
<div class="highlight"><pre><span></span><span class="c1">// This is a comment that the computer will ignore. </span>

<span class="kd">function</span> <span class="nx">getType</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'fetching type...'</span><span class="p">);</span>

  <span class="c1">// set the default type to 'no type'</span>
  <span class="kr">const</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">||</span> <span class="s1">'no type'</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">type</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>然后就是注释文字具体内容要和注释符号空一空格。</p>
<h2 id="javascript_1">javascript代码放在那里</h2>
<p>javascript的代码一般推荐是放在 <code>&lt;/body&gt;</code> 之前，这样能够让浏览器更快地加载页面。至于其他倒没有特别的要求，刚开始简单的javascript代码就直接写上去也是可以的:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="nx">your</span> <span class="nx">awesome</span> <span class="nx">javascript</span> <span class="nx">code</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
<p>如果javascript代码量有一点了那么当然还是推荐另外单独放在一个js文件上，然后如下引入进来:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"where"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
<h2 id="_2">声明常量和变量</h2>
<p>这是参考的aribnb的javascript规范，简单来说就是不用 <code>var</code> ，声明常量用 <code>const</code> ；声明变量用 <code>let</code> 。理由：<code>const</code> 和 <code>let</code> 都是 block-scoped（我们程序员习惯的变量作用域盒子模型）。</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">count</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
  <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// ReferenceError</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span> <span class="c1">// ReferenceError</span>
</pre></div>
<h2 id="_3">全局变量</h2>
<p>在网页中有个全局对象 <code>window</code> ，所以我们可以把一些全局变量挂在 <code>window</code> 对象里面。</p>
<h2 id="_4">数据类型简介</h2>
<h3 id="number">数值型(number)</h3>
<p>javascript整数和浮点数都不分了，都统一表示为number，然后数值型那些运算，比如加减乘除之类的就不用多说了。其中 <code>%</code> 和python一样也是求余操作。在python3中有 <code>5//2</code> 是求商的概念，javascript没有这个概念，我们需要如下来获得类似的效果。</p>
<div class="highlight"><pre><span></span>console.log(parseInt(5/2))
</pre></div>
<h4 id="parseint">parseInt()</h4>
<p>将字符串转成整数型，否则返回NaN。</p>
<div class="highlight"><pre><span></span><span class="nb">parseInt</span><span class="p">(</span><span class="s1">'123'</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">// 123</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s1">'11'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// 3</span>
</pre></div>
<h4 id="parsefloat">parseFloat()</h4>
<p>将字符串转成浮点型，否则返回NaN。</p>
<div class="highlight"><pre><span></span><span class="nb">parseFloat</span><span class="p">(</span><span class="s1">'3.14'</span><span class="p">)</span> 
<span class="mf">3.14</span>
</pre></div>
<p>NaN也属于number型，判断是否是NaN，airbnb推荐的风格是：</p>
<div class="highlight"><pre><span></span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="kc">false</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="kc">false</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span>
<span class="kc">true</span>
</pre></div>
<h3 id="string">字符串(string)</h3>
<p>javascript同python一样单引号和双引号都是可以的，按照aribnb的规范，字符串都推荐用 <strong>单引号</strong> 包围起来。</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="s1">'Capt. Janeway'</span><span class="p">;</span>
</pre></div>
<p>很长很长的字符串aribnb规范既不推荐用 <code>\</code> 也不推荐用 <code>+</code> 连接起来，而是直接写上，这又是一个让人眼睛一亮的建议，理由就是让代码更具搜索性。对此我持保留意见，我觉得用 ` （ Esc下面的那个）来包围多行更便捷一些：</p>
<div class="highlight"><pre><span></span><span class="sb">`多行</span>
<span class="sb">字符串</span>
<span class="sb">`</span>
</pre></div>
<p>这类似于python的 <code>"""</code> 三双引号写法。</p>
<p>aribnb规范提出字符串的程序性拼接推荐使用模块语言，也就是 <code>${variable}</code> ，这是很好的（注意必须用<strong>`</strong>符号）。</p>
<div class="highlight"><pre><span></span><span class="sb">`How are you, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">?`</span>
</pre></div>
<p>javascript的字符串类型和python非常类似，比如 <code>string[0]</code> 是支持的。然后不可以这样用string[0:2]，幸运的是javascript提供了类似python中的那种切片概念，就是使用 <code>slice</code> 方法</p>
<div class="highlight"><pre><span></span>console.log("hello".slice(0,2))
console.log([1,3,4,5].slice(0,2))
</pre></div>
<p>不过javascript的slice方法和python的切片操作还是有点区别的，其只有 <code>(start,end)</code> 两个参数，然后其也有负数从末尾算起的概念，不过其不会倒着来，都是从左到右的那种顺序。具体请参看 <a href="http://www.w3school.com.cn/jsref/jsref_slice_string.asp">这里</a> 。</p>
<h4 id="_5">字符串的一些方法</h4>
<ul>
<li><strong>length:</strong> 字符串长度</li>
<li><strong>toUpperCase:</strong> 变成大写</li>
<li><strong>toLowerCase:</strong> 变成小写</li>
<li><strong>indexOf:</strong> 返回子字符串出现的索引位置，index索引编号规则和python相同。</li>
<li><strong>substring:</strong> 返回子字符串，如果熟悉python的那种切片规则的话，那么推荐就直接使用 <code>slice</code> 方法。</li>
<li><strong>replace:</strong> 替换操作 </li>
<li><strong>split:</strong>  分割操作</li>
</ul>
<h4 id="tostring">toString方法</h4>
<p>javascript的数值、布尔值、对象和字符串都有一个 <code>toString</code> 方法，大体类似于python的 <code>str</code> 函数。自己定义的对象也可以加上 <code>toString</code> 方法：</p>
<div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">Jedi</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">options</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">name</span> <span class="o">||</span> <span class="s1">'no name'</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">getName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`Jedi - </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">getName</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3 id="_6">数组</h3>
<p>javascript的数组（array）大体类似于python的列表:</p>
<p>新建一个空array：</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
</pre></div>
<p>或者</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="s1">'Hello'</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">true</span><span class="p">];</span>
</pre></div>
<p>其索引index编号法则也和python一致。</p>
<h4 id="_7">数组的一些方法</h4>
<ul>
<li><strong>length:</strong> 数组长度</li>
<li><strong>indexOf:</strong> 返回数组某个子元素的索引位置</li>
<li><strong>slice:</strong> 切片操作，类似于python的 <code>lst[0:2]</code> 那种表达方法。slice方法不接受参数就默认返回该列表所有引用，也就是通常所说的 <em>浅拷贝</em> 。浅拷贝简单来说就是复制一个字典或者数组（或者其他复杂对象），根据第一层key赋值第一层value，如果第一层key是另外一个对象的引用，那么拷贝前对象和拷贝后对象都会指向统一对象，深拷贝就是进一步深入递归拷贝。</li>
<li><strong>push:</strong> 末尾添加一个元素</li>
<li><strong>pop:</strong> 最后一个元素删除</li>
<li><strong>unshift:</strong> 数组头部添加一个或多个元素，返回新数组的长度</li>
<li><strong>shift:</strong> 数组头部删除一个元素</li>
<li><strong>sort:</strong> 排序，破坏型。值得一提的是对于数字排序并不是按照从大到小的顺序来的，不太清楚为何:</li>
</ul>
<div class="highlight"><pre><span></span>&gt; var lst = [1,5,2,3,51,4,45,545,541,48,77]
&gt; undefined
&gt; lst.sort()
&gt; [ 1,
&gt; 2,
&gt; 3,
&gt; 4,
&gt; 45,
&gt; 48,
&gt; 5,
&gt; 51,
&gt; 541,
&gt; 545,
&gt; 77 ]
</pre></div>
<p>在python中最多说字符串就这样，但这里是number类型啊。然后要正常排序，我们需要如下操作（参看 <a href="http://www.w3school.com.cn/jsref/jsref_sort.asp">这个网页</a> ）:</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">51</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">545</span><span class="p">,</span><span class="mi">541</span><span class="p">,</span><span class="mi">48</span><span class="p">,</span><span class="mi">77</span><span class="p">]</span>
<span class="kd">function</span> <span class="nx">sortNumber</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span>
<span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
<span class="p">}</span>
<span class="nx">lst</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">sortNumber</span><span class="p">)</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">lst</span><span class="p">)</span>
</pre></div>
<p>这里sort方法接受一个函数参数，这个函数接受两个参量，用来判断a和b的值大小，如果返回值小于0，则a放在前面。如果返回值大于0，则a放在后面。这种排序方法也支持数字字符串的情况。javascript在处理这种 <code>字符串 - 字符串</code> 的情况是会尝试做转换成number类型的才做。</p>
<ul>
<li><strong>reverse:</strong> 反转，破坏型。</li>
<li><strong>splice:</strong> 从指定的索引删除某些元素，然后在此处添加某些元素，相当于update更新了。</li>
</ul>
<div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Microsoft'</span><span class="p">,</span> <span class="s1">'Apple'</span><span class="p">,</span> <span class="s1">'Yahoo'</span><span class="p">,</span> <span class="s1">'AOL'</span><span class="p">,</span> <span class="s1">'Excite'</span><span class="p">,</span> <span class="s1">'Oracle'</span><span class="p">];</span>
<span class="o">&gt;</span> <span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'Google'</span><span class="p">,</span> <span class="s1">'Facebook'</span><span class="p">);</span>
<span class="o">&gt;</span> <span class="p">[</span><span class="s2">"Yahoo"</span><span class="p">,</span> <span class="s2">"AOL"</span><span class="p">,</span> <span class="s2">"Excite"</span><span class="p">]</span>
<span class="o">&gt;</span> <span class="nx">arr</span>
<span class="o">&gt;</span> <span class="p">[</span><span class="s2">"Microsoft"</span><span class="p">,</span> <span class="s2">"Apple"</span><span class="p">,</span> <span class="s2">"Google"</span><span class="p">,</span> <span class="s2">"Facebook"</span><span class="p">,</span> <span class="s2">"Oracle"</span><span class="p">]</span>
</pre></div>
<p>参数意思是从索引2开始删除3个元素，然后添加后面的元素。从上面的例子可以看出splice方法是破坏型的方法，然后其返回的是删除了的那是那个元素。</p>
<p>splice方法也可以用于只删除不添加也就是纯删除操作，或只添加不删除的纯添加操作。</p>
<div class="highlight"><pre><span></span>// 只删除,不添加:
arr.splice(2, 2);
// 只添加,不删除:
arr.splice(2, 0, 'Google', 'Facebook');
</pre></div>
<ul>
<li><strong>concat:</strong> 连接两个数组，非破坏型。</li>
</ul>
<div class="highlight"><pre><span></span>&gt; var lst1 = [1,2,3]
&gt; undefined
&gt; var lst2 = ['a','b','c']
&gt; undefined
&gt; lst1.concat(lst2)
&gt; [1, 2, 3, "a", "b", "c"]
</pre></div>
<ul>
<li><strong>join:</strong> 类似于python字符串的join方法，如下所示:</li>
</ul>
<div class="highlight"><pre><span></span>var arr = ['A', 'B', 'C', 1, 2, 3];
arr.join('-'); // 'A-B-C-1-2-3'
</pre></div>
<ul>
<li><strong>fill:</strong> 数组用某个值来填充</li>
</ul>
<h4 id="_8">比较两个数组是否相同</h4>
<p>参考了 <a href="http://stackoverflow.com/questions/3115982/how-to-check-if-two-arrays-are-equal-with-javascript">这个网页</a> 。</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">arraysEqual</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// If you don't care about the order of the elements inside</span>
<span class="c1">// the array, you should sort both arrays here.</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3 id="object">object</h3>
<p>javascript的object其大体可以看作python中的字典类型。</p>
<p>创建空的object推荐如下写法：</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">item</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
<p>或者：</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">'Bob'</span><span class="p">,</span>
  <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
  <span class="nx">tags</span><span class="o">:</span> <span class="p">[</span><span class="s1">'js'</span><span class="p">,</span> <span class="s1">'web'</span><span class="p">,</span> <span class="s1">'mobile'</span><span class="p">],</span>
  <span class="nx">city</span><span class="o">:</span> <span class="s1">'Beijing'</span><span class="p">,</span>
  <span class="nx">zipcode</span><span class="o">:</span> <span class="kc">null</span>
<span class="p">};</span>
</pre></div>
<p>aribnb提出属性名直接写上就是了，包括函数也是如此：</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">lukeSkywalker</span> <span class="o">=</span> <span class="s1">'Luke Skywalker'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">lukeSkywalker</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
<p>然后函数可以先通过function声明，或者直接写进去：</p>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">atom</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>

  <span class="nx">addValue</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">atom</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">};</span>
</pre></div>
<p>然后还有一些属性名在javascript里面是非法的，那么当然只好用单引号包围起来了。</p>
<h4 id="_9">动态生成对象属性名</h4>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">id</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">'San Francisco'</span><span class="p">,</span>
  <span class="p">[</span><span class="nx">getKey</span><span class="p">(</span><span class="s1">'enabled'</span><span class="p">)]</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
<h4 id="in">in语句</h4>
<div class="highlight"><pre><span></span><span class="s1">'name'</span> <span class="k">in</span> <span class="nx">xiaoming</span><span class="p">;</span>

<span class="o">&gt;</span> <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{}</span>
<span class="kc">undefined</span>
<span class="o">&gt;</span> <span class="nx">d</span><span class="p">[</span><span class="s1">'a'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="mi">1</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="s1">'a'</span> <span class="k">in</span> <span class="nx">d</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="mi">1</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="kc">true</span>
</pre></div>
<h4 id="delete">delete语句</h4>
<p>其对应的就是python的del语句。然后我们看到javascript的 <code>delete</code> 语句删除不存在键也不会报错。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="k">delete</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="o">&gt;</span> <span class="k">delete</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">a</span><span class="p">)</span>
<span class="kc">true</span>
<span class="o">&gt;</span> <span class="nx">d</span>
<span class="nb">Object</span> <span class="p">{}</span>
</pre></div>
<h4 id="hasownproperty">hasOwnProperty方法</h4>
<p>对应于python2的has_key方法，不过python2已经移除了，推荐用in语句。</p>
<div class="highlight"><pre><span></span><span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="o">:</span><span class="mi">1</span><span class="p">}</span>
<span class="nx">d</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">'a'</span><span class="p">)</span>
<span class="kc">true</span>
</pre></div>
<p>aribnb提出相关的一些建议，我持保留意见，可能是python出身，个人更喜欢in语句。</p>
<div class="highlight"><pre><span></span><span class="c1">// good</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="nx">key</span><span class="p">));</span>
</pre></div>
<h4 id="shallow-copy">shallow copy</h4>
<div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">original</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
<span class="kr">const</span> <span class="nx">copy</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">original</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span> <span class="p">};</span> <span class="c1">// copy =&gt; { a: 1, b: 2, c: 3 }</span>
</pre></div>
<h3 id="boolean">布尔值(boolean)</h3>
<p>javascript的布尔值是 <code>true</code> 和 <code>false</code> 。然后需要额外强调的是，类似python的比较判断（==）符号在javascript中是 <code>===</code> ，三个等号，这不是什么别出心裁，也没有任何实际的好处，就是javascript的历史遗留问题罢了。</p>
<div class="highlight"><pre><span></span>=== Equal to
!== Not equal to
</pre></div>
<p>boolean值的判断遵循以下规则：</p>
<ol>
<li><code>false</code> <code>0</code>  空字符串 <code>""</code> <code>NaN</code> <code>null</code> <code>undefined</code> 都被视作false</li>
<li>其他都被视作true</li>
</ol>
<div class="highlight"><pre><span></span><span class="nb">Boolean</span><span class="p">({})</span>
<span class="kc">true</span>
</pre></div>
<h3 id="null">null</h3>
<p>javascript的是 <code>null</code> 。其也是一个单独的对象。类似于python的 <code>None</code> ，然后还有一个什么 <code>undefined</code> 。比如函数没有明确return值就会默认返回 <code>undefined</code> ，感兴趣的可能查一下这两个的区别，我看了一下，觉得挺无聊的。上面谈到 <code>==</code> 和 <code>===</code> 的区别，如果用 <code>===</code> ，则 <code>undefined</code> 是不等于 <code>null</code> 的，如果用 <code>==</code> ，则javascript会额外做一些类型转换工作，这两个又会看作相等的。</p>
<p>ECMA-262 规定：</p>
<div class="highlight"><pre><span></span>null == undefined; -&gt; return true
</pre></div>
<p>按照airbnb的推荐风格，比较操作的时候一律推荐使用 <code>===</code>  和 <code>!==</code>  ，而不要使用 <code>==</code> 和 <code>!=</code> 。这样的话函数返回undefined的情况如何处理呢？ TODO。</p>
<h3 id="typeof">typeof操作符</h3>
<p>查看某个对象的对象类型，typeof操作符只可能返回以下六种结果，比如说前面提到的数组是属于object的；null也是属于object的。</p>
<ul>
<li>number</li>
<li>string</li>
<li>object<ul>
<li>function</li>
<li>array</li>
<li>date</li>
<li>regexp</li>
</ul>
</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
<li>symbol (new in es6)</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">typeof</span> <span class="nx">x</span>
<span class="s2">"undefined"</span>
<span class="k">typeof</span> <span class="mi">1</span>
<span class="s2">"number"</span>
</pre></div>
<h2 id="_10">定义函数</h2>
<p>一个简单的函数定义和使用如下所示（下面这种写法是airbnb规范推荐的风格）:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">greeting</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">)</span>
</pre></div>
<p>我们看到javascript明确将函数名作为一个变量，这是唯一要值得注意的，不过你也可以采用这种写法，这样更加为我们所熟悉了:</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">abs</span><span class="p">(</span><span class="nx">x</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">-</span><span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>这两种定义风格是完全等价的。这里值得一提的是如果函数没有确定return值，则返回的是 <code>undefined</code> 。</p>
<h2 id="arguments">arguments用法</h2>
<p>javascript的函数内部可以直接使用 <code>arguments</code> 这个变量，其不是一个Array，但可以如下使用:</p>
<div class="highlight"><pre><span></span>arguments[0]
arguments.length
</pre></div>
<p>其会接受传入函数的所有参量。</p>
<h2 id="rest">rest用法</h2>
<p>这个有点类似于lisp语言的rest参量控制概念，也就是如下</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">func</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,...</span><span class="nx">rest</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rest</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>rest是表示除了a和b之外的所有其余参量。注意前面三个点号: <code>...rest</code> 。</p>
<h2 id="_11">箭头函数</h2>
<p>简单来说箭头函数就是 lambda 表达式的更简洁写法，只是说在javascript语境里面其区别一般function的特点有：<u>其没有this绑定</u>。</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nx">param1</span><span class="p">,</span> <span class="nx">param2</span><span class="p">,</span> <span class="err">…</span><span class="p">,</span> <span class="nx">paramN</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">statements</span> <span class="p">}</span>
</pre></div>
<h2 id="_12">条件判断结构</h2>
<p>条件判断结构，和python大同小异，除了那些圆括号（记住这个圆括号必须加上）和花括号。</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">feedback</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">feedback</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Thank you! We should race at the next concert!"</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"I'll keep practicing coding and racing."</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
<p>虽然javascript不像python那样强制缩进风格，但还是推荐用缩进来增强你的代码可读性和逻辑清晰性，如:</p>
<div class="highlight"><pre><span></span><span class="nx">age</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'kid'</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'adult'</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'teenager'</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
<p>javascript有switch语句，作为我们pythoner你懂的，用多个else if语句也是可以的。</p>
<h2 id="_13">循环结构</h2>
<p>javascript和python都有while语句，但while语句用的较少，更多的是使用for语句。</p>
<h3 id="for">for循环</h3>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<h3 id="for_1">for遍历数组</h3>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// do something with value</span>
<span class="p">}</span>
</pre></div>
<p>遍历数组还可以这样：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">]</span>
<span class="o">&lt;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
<span class="p">});</span>
<span class="o">&gt;</span> <span class="nx">a</span> <span class="mi">0</span>
<span class="o">&gt;</span> <span class="nx">b</span> <span class="mi">1</span>
<span class="o">&gt;</span> <span class="nx">c</span> <span class="mi">2</span>
</pre></div>
<p>这大体实现了类似于python的 <code>enumerate</code> 写法。</p>
<h3 id="for_2">for遍历对象</h3>
<p>然后递归遍历对象的key也是可以的:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">{</span><span class="s1">'a'</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">'b'</span><span class="o">:</span><span class="mi">2</span><span class="p">})</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
<h3 id="forwhile">for实现while循环</h3>
<p>下面是用for语句来实现while循环：</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">count</span><span class="p">;</span> <span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
  <span class="nx">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h3 id="for_3">for实现无限循环</h3>
<p>下面是用for语句实现无限循环：</p>
<div class="highlight"><pre><span></span>for (;;){
  dosomething;
}
</pre></div>
<h3 id="while">while语句</h3>
<p>while语句简单了解下吧。</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">99</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">n</span><span class="p">;</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>还有do while 语句</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="nx">n</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span><span class="k">while</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
<h2 id="_14">异常处理</h2>
<p>类似于python的 <code>try...except...</code> ，javascript有：</p>
<div class="highlight"><pre><span></span>try {
    throw （new Error("Invalid Parameters"));
}catch (e) {
    console.log(e);
}finally {
    //always do something.
}
</pre></div>
<h2 id="this">this关键词</h2>
<p>这个有点类似于python中的self，在javascript里面，object里面定义的方法， <code>this</code> 指向的就是本对象的实例。</p>
<p>面向对象传统写法</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">Point</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Point</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'('</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">')'</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
<p>新式写法</p>
<div class="highlight"><pre><span></span><span class="c1">//定义类</span>
<span class="kr">class</span> <span class="nx">Point</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">toString</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'('</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="s1">', '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="s1">')'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>如果 this 在函数里面，如：</p>
<div class="highlight"><pre><span></span>function (){
    this.x = 1;
}
</pre></div>
<p>那么指定的是当这个函数要运行的时候，具体调用这个函数的对象。</p>
<p>比如说某个函数将这样被调用： <code>jquery对象.what</code> 那么这个函数里面的this就是指定的那个jquery实例，通常也就是网页里面的某个标签元素。</p>
<h2 id="_15">集合</h2>
<p>javascript中的集合Set大体也和python中的集合概念相近。</p>
<p>var s1 = new Set(); // 空Set
var s2 = new Set([1, 2, 3]); // 含1, 2, 3</p>
<p>然后其也有 <code>add</code> 方法用于添加一个元素。用 <code>delete</code> 方法来删除某个元素。</p>
<h2 id="_16">三元运算符</h2>
<div class="highlight"><pre><span></span>test ? expression1 : expression2
</pre></div>
<h2 id="jquery">jquery基本语法</h2>
<p>jquery的基本语法就是:</p>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">action</span><span class="p">()</span>
</pre></div>
<p>如果单 <code>$(selector)</code> 将返回找到的对象的数组，而进行某个action的时候是对所有找到的对象都进行如此动作。</p>
<h2 id="_17">文档初始化之后执行的动作</h2>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
   <span class="c1">// jQuery methods go here...</span>
<span class="p">});</span>
</pre></div>
<p>此外我们还常见一种简化的写法：</p>
<div class="highlight"><pre><span></span>$(function(){});
</pre></div>
<p>然后有时你会看到这种写法：</p>
<div class="highlight"><pre><span></span>(function($){…})(jQuery)
</pre></div>
<p>这是运行了一个匿名函数，其参数为(JQuery)，前面用 <code>$</code> 符号，是为了不与其他库冲突。（<a href="https://blog.csdn.net/javazw123/article/details/6217988">参考这篇文章</a>）</p>
<h2 id="_18">获取屏幕的宽度和高度</h2>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span>
<span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">()</span>
</pre></div>
<p>这两个方法更确切的描述是返回所选元素的宽度或高度。此外还有 <code>innerWidth</code> 和 <code>innerHeight</code> 方法（包含内边距）， <code>outerWidth</code> 和 <code>outerHeight</code> 包含内边距和边框。</p>
<h2 id="hide">hide方法</h2>
<p>实际上就是css设置 <code>display:none</code> 。</p>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s1">'#test'</span><span class="p">).</span><span class="nx">hide</span><span class="p">()</span>
</pre></div>
<p>这样将隐藏所有id为test的元素。</p>
<h2 id="_19">获取文本和修改文本</h2>
<h3 id="text">text()</h3>
<div class="highlight"><pre><span></span>$('div').text()  # 获取文本
$('div').text('new text') # 修改文本
</pre></div>
<p>此外还有 <code>html()</code> 方法，其可以写上html标签。</p>
<h2 id="value">获取表单value值或修改</h2>
<h3 id="val">val方法</h3>
<div class="highlight"><pre><span></span>$('input').val()  # 获取值
$('input').val('new value') # 修改值
</pre></div>
<h2 id="css">css操作</h2>
<h3 id="class">添加class</h3>
<div class="highlight"><pre><span></span>div.addClass('highlight'); // 添加highlight这个class
</pre></div>
<h3 id="class_1">删除class</h3>
<div class="highlight"><pre><span></span>div.removeClass('highlight'); // 删除highlight这个class
</pre></div>
<h3 id="css_1">修改css</h3>
<div class="highlight"><pre><span></span>$('div').css('background-color', '#ffd351');
</pre></div>
<h2 id="_20">让按钮变为不可选</h2>
<p>prop方法设置或返回被选元素的属性。</p>
<div class="highlight"><pre><span></span>$("button").prop('disabled', true)
</pre></div>
<h2 id="_21">移除所选元素</h2>
<h3 id="remove">remove方法</h3>
<div class="highlight"><pre><span></span>$('#target4').remove();
</pre></div>
<h2 id="_22">移动所选元素</h2>
<p>将选中的元素移动到目标元素中。</p>
<div class="highlight"><pre><span></span>$('#target2').appendTo('#right-well');
</pre></div>
<h2 id="_23">复制所选元素</h2>
<div class="highlight"><pre><span></span>$('#target5').clone().appendTo('#left-well');
</pre></div>
<h2 id="_24">选中父元素</h2>
<div class="highlight"><pre><span></span>$('#target1').parent().css('background-color','red');
</pre></div>
<h2 id="_25">选中子元素</h2>
<div class="highlight"><pre><span></span>$('#right-well').children().css('color','orange');
</pre></div>
<h2 id="_26">选中元素的第几个</h2>
<div class="highlight"><pre><span></span>$('.target:nth-child(2)').addClass('animated bounce');
</pre></div>
<div class="highlight"><pre><span></span>$('.target:even').addClass('animated shake');  # 选中元素的偶数个，0 2 4...
</pre></div>
<h2 id="_27">事件绑定动作</h2>
<div class="highlight"><pre><span></span>$(selector).click(function)
</pre></div>
<h3 id="_28">鼠标事件</h3>
<ul>
<li><strong>click:</strong> 鼠标单击时触发；</li>
<li><strong>dblclick:</strong> 鼠标双击时触发；</li>
<li><strong>mouseenter:</strong> 鼠标进入时触发；</li>
<li><strong>mouseleave:</strong> 鼠标移出时触发；</li>
<li><strong>mousemove:</strong> 鼠标在DOM内部移动时触发 （接受e ，e.pageX是鼠标x值，e.pageY是鼠标Y值）</li>
<li><strong>hover:</strong> 鼠标进入和退出时触发两个函数，相当于mouseenter加上mouseleave。</li>
</ul>
<h3 id="_29">键盘事件</h3>
<p>键盘事件仅作用在当前焦点的DOM上，通常是 <code>&lt;input&gt;</code> 和 <code>&lt;textarea&gt;</code> 。</p>
<ul>
<li><strong>keydown:</strong> 键盘按下时触发；</li>
<li><strong>keyup:</strong> 键盘松开时触发；</li>
<li><strong>keypress:</strong> 按一次键后触发。</li>
</ul>
<h3 id="_30">取消某个事件绑定</h3>
<div class="highlight"><pre><span></span>a.off('click', hello);
</pre></div>
<h2 id="jquery_1">jquery 动画效果</h2>
<h3 id="_31">面板展开和隐藏</h3>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span> 
<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">".slidepanel"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#panel-one"</span><span class="p">).</span><span class="nx">slideToggle</span><span class="p">(</span><span class="s2">"slow"</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"slidepanel"</span> <span class="na">style</span><span class="o">=</span><span class="s">"background-color:#efefef; padding:5px"</span><span class="p">&gt;</span>滑动面板<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"panel-one"</span> <span class="na">style</span><span class="o">=</span><span class="s">"border:solid 1px #efefef; padding:5px"</span><span class="p">&gt;</span>just jquery it.<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<div class="slidepanel" style="background-color:#efefef; padding:5px">滑动面板</div>
<div id="panel-one" style="border:solid 1px #efefef; padding:5px">just jquery it.</div>
<script> 
$(document).ready(function(){
  $(".slidepanel").click(function(){
    $("#panel-one").slideToggle("slow");
  });
});
</script>
<h3 id="_32">页内导航慢慢移动</h3>
<h2 id="ajax">ajax</h2>
<p>jquery是基于 <code>XMLHttpRequest</code> 的，不得不承认jquery的ajax这块写得实在是太好了。</p>
<h3 id="get">get</h3>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">"button"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"/try/ajax/demo_test.php"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span><span class="nx">status</span><span class="p">){</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s2">"数据: "</span> <span class="o">+</span> <span class="nx">data</span> <span class="o">+</span> <span class="s2">"\n状态: "</span> <span class="o">+</span> <span class="nx">status</span><span class="p">);</span>
        <span class="p">});</span>
</pre></div>
<p>回调函数接受两个参数，传回来的data和状态码。其等价于：</p>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</pre></div>
<p>get请求上面的data将附加到url上。</p>
<h3 id="getjson">getJSON</h3>
<p>等价于：</p>
<div class="highlight"><pre><span></span>$.ajax({
  url: url,
  data: data,
  success: callback,
  dataType: json
});
</pre></div>
<p>注意dataType设置为json</p>
<h3 id="post">post</h3>
<div class="highlight"><pre><span></span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span><span class="nx">data</span><span class="p">,</span><span class="nx">success</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">),</span><span class="nx">dataType</span><span class="p">)</span>
</pre></div>
<p>等价于：</p>
<div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">'POST'</span><span class="p">,</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">url</span><span class="p">,</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
  <span class="nx">success</span><span class="o">:</span> <span class="nx">callback</span><span class="p">,</span>
  <span class="nx">dataType</span><span class="o">:</span> <span class="nx">dataType</span>
<span class="p">});</span>
</pre></div>
<p>上面的data是发送请求发送给服务器的数据。dataType可选，会智能判断服务器响应的数据。</p>
<h3 id="_33">跨域问题</h3>
<p>参看了 <a href="https://segmentfault.com/a/1190000006146207">js跨域</a> 这篇文章， <code>XMLHttpRequest</code> 是不能跨域的。我们通常所说jsonp，就是一种实现跨域的解决方案，具体我不想太深究，因为一般restful api都是采用的json格式，而除了jsonp之外，服务端如下加上响应头也是可以的：</p>
<div class="highlight"><pre><span></span>header('Access-Control-Allow-Origin:*');//允许跨域请求的域名，允许全部设为*
header('Access-Control-Allow-Methods:POST,GET');
</pre></div>
<h2 id="jquery_2">先网络加载jquery或者本地加载</h2>
<p>这里代码的意思应该是先网络加载jquery，如果没有则本地找找看。</p>
<div class="highlight"><pre><span></span>&lt;script src="https://code.jquery.com/jquery-{{JQUERY_VERSION}}.min.js"&gt;&lt;/script&gt;

&lt;script&gt;window.jQuery || document.write('&lt;script src="js/vendor/jquery-{{JQUERY_VERSION}}.min.js"&gt;&lt;\/script&gt;')&lt;/script&gt;
</pre></div>
<h2 id="fn"><code>$.fn</code></h2>
<p><code>$.fn</code> 是jquery定义的一个命名空间，后面每个jquery实例都可以引用在这个命名空间中定义的方法。</p>
<h2 id="extend"><code>$.extend</code></h2>
<p><code>$.extend({},{})</code> 相当于多个字典合并，若key重复，则以后面的字典的value为准。</p>
<h2 id="trim"><code>$.trim</code></h2>
<p>去掉字符串首尾空格</p>
<h2 id="each"><code>$().each()</code></h2>
<p><code>$().each()</code>  将迭代jquery选中的各个实例。</p>

            
            <hr/>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2020-04-14T17:04:20.525977+08:00">2020年 4月 14日 </time>

            <h4>分类：</h4>
            <a class="category-link" href="https://a358003542.github.io/categories.html#javascript-ref">javascript</a>

        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>

    


</body>
</html>