<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="baidu-site-verification" content="D4VqC4HppC"/>
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="cdwanze"/>
        <meta name="copyright" content="cdwanze"/>

        <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="科学计算, 算法, " />

<meta property="og:title" content="numpy模块 "/>
<meta property="og:url" content="https://docs.cdwanze.work/articles/numpy-module.html" />
<meta property="og:description" content="前言 本文对于numpy模块具体各个函数细节不做过多说明，具体请参看文档。本文主要是就numpy的一些核心概念进行理清。 numpy模块里面最核心的概念就是 ndarray对象，请参看 这个问题 ，当时我也有疑问，numpy里面的array函数和ndarray对象有什么区别，答案就是：一般使用推荐使用 numpy.array 来创建 ndarray对象，其他还有 zeros ，empty等等其他的函数，他们都是很好的接口去创建一个 numpy.ndarray 对象，当然你也可以通过 numpy.ndarray 来创建一个ndarray对象，但这不是 numpy模块开发人员推荐的风格。 numpy ndarray对象和python的列表的区别 numpy ndarray内部的item是固定内存size的，改变size将会重新创建一个ndarray。 numpy ndarray内部的item是相同的data type的，因此是固定内存size的。 numpy的ndarray有助于大型数据的高级数学运算或其他操作，比python的序列那些执行会更有效率。 很多科学和数学计算的python模块都是基于numpy的ndarray的，当然他们支持python的序列类型输入，但都是转变成为numpy的array之后再进行相关计算的，然后他们的输出也通常是numpy的ndarray对象。 ndarray对象 numpy模块中很核心的一个概念就是ndarray对象。ndarray对象按照numpy官方手册的绘图是这样一个数据结构： ndarray有一个头header来控制所有接下来存储的数据类型(dtype)，然后存储的数据则必然都是相同的数据类型 …" />
<meta property="og:site_name" content="cdwanze的博文" />
<meta property="og:article:author" content="cdwanze" />
<meta property="og:article:published_time" content="2017-11-15T00:00:00+08:00" />
<meta property="" content="2019-03-07T00:00:00+08:00" />
<meta name="twitter:title" content="numpy模块 ">
<meta name="twitter:description" content="前言 本文对于numpy模块具体各个函数细节不做过多说明，具体请参看文档。本文主要是就numpy的一些核心概念进行理清。 numpy模块里面最核心的概念就是 ndarray对象，请参看 这个问题 ，当时我也有疑问，numpy里面的array函数和ndarray对象有什么区别，答案就是：一般使用推荐使用 numpy.array 来创建 ndarray对象，其他还有 zeros ，empty等等其他的函数，他们都是很好的接口去创建一个 numpy.ndarray 对象，当然你也可以通过 numpy.ndarray 来创建一个ndarray对象，但这不是 numpy模块开发人员推荐的风格。 numpy ndarray对象和python的列表的区别 numpy ndarray内部的item是固定内存size的，改变size将会重新创建一个ndarray。 numpy ndarray内部的item是相同的data type的，因此是固定内存size的。 numpy的ndarray有助于大型数据的高级数学运算或其他操作，比python的序列那些执行会更有效率。 很多科学和数学计算的python模块都是基于numpy的ndarray的，当然他们支持python的序列类型输入，但都是转变成为numpy的array之后再进行相关计算的，然后他们的输出也通常是numpy的ndarray对象。 ndarray对象 numpy模块中很核心的一个概念就是ndarray对象。ndarray对象按照numpy官方手册的绘图是这样一个数据结构： ndarray有一个头header来控制所有接下来存储的数据类型(dtype)，然后存储的数据则必然都是相同的数据类型 …">

    <title>
numpy模块  · cdwanze的博文
</title>


        <link href="https://docs.cdwanze.work/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://docs.cdwanze.work/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/pygments.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/elegant.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/custom.css" media="screen">






</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://docs.cdwanze.work/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://docs.cdwanze.work/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li >
                    <a href="https://docs.cdwanze.work">博文首页</a></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle"
                           data-toggle="dropdown" role="button"
                           aria-haspopup="true" aria-expanded="false">查找文章<span
                                class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="slowscroll" href="/categories.html">按分类</a>
                            </li>
                            <li><a class="slowscroll" href="/tags.html">按标签</a>
                            </li>
                        </ul>
                    </li>


                        <li >
                            <a href="https://docs.cdwanze.work/pdf-ebooks.html">pdf电子书籍</a>
                        </li>
                        <li >
                            <a href="https://docs.cdwanze.work/epub-ebooks.html">epub电子书籍</a>
                        </li>
                        <li >
                            <a href="https://docs.cdwanze.work/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://docs.cdwanze.work/articles/numpy-module.html"> numpy模块  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#_1">前言</a></li>
<li><a href="#numpy-ndarraypython">numpy ndarray对象和python的列表的区别</a></li>
<li><a href="#ndarray">ndarray对象</a><ul>
<li><a href="#dtype">dtype</a><ul>
<li><a href="#ndarraydtype">ndarray的dtype变换</a></li>
<li><a href="#dtype_1">dtype对象的从属关系</a></li>
</ul>
</li>
<li><a href="#shape">shape属性</a><ul>
<li><a href="#reshape">reshape</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ndarray_1">创建一个ndarray对象</a><ul>
<li><a href="#python">从python数据结构中创建</a></li>
<li><a href="#_2">生成一系列的随机数</a></li>
<li><a href="#arrange">arrange函数</a></li>
<li><a href="#linspace">linspace函数</a></li>
<li><a href="#zeros">zeros函数</a></li>
<li><a href="#ones">ones函数</a></li>
<li><a href="#empty">empty函数</a></li>
</ul>
</li>
<li><a href="#_3">索引值</a><ul>
<li><a href="#view">索引多个值或说view</a></li>
<li><a href="#_4">多维切片</a><ul>
<li><a href="#copy">copy方法</a></li>
</ul>
</li>
<li><a href="#_5">布尔值索引</a></li>
</ul>
</li>
<li><a href="#_6">基本的运算</a></li>
<li><a href="#ndarray_2">ndarray对象上的一些方法</a><ul>
<li><a href="#flatten">flatten方法</a></li>
<li><a href="#sort">sort方法</a></li>
<li><a href="#mean">mean方法</a></li>
<li><a href="#std">std方法</a></li>
</ul>
</li>
<li><a href="#_7">一些通用函数</a><ul>
<li><a href="#sqrt">sqrt函数</a></li>
<li><a href="#exp">exp函数</a></li>
<li><a href="#maximum">maximum函数</a></li>
<li><a href="#abs">abs函数</a></li>
<li><a href="#tile">tile函数</a></li>
<li><a href="#argsort">argsort函数</a></li>
<li><a href="#npargpartition">np.argpartition函数</a></li>
<li><a href="#npallclose">np.allclose</a></li>
<li><a href="#npisclose">np.isclose</a></li>
<li><a href="#nplogical_and">np.logical_and</a></li>
<li><a href="#npall">np.all</a></li>
</ul>
</li>
<li><a href="#ndarray_3">ndarray对象转置</a></li>
<li><a href="#broadcasting">广播(broadcasting)</a></li>
<li><a href="#_8">矩阵对象</a><ul>
<li><a href="#matrix">matrix函数</a></li>
<li><a href="#_9">矩阵转置</a></li>
<li><a href="#_10">行矢量和列矢量</a></li>
<li><a href="#_11">矩阵的点乘</a></li>
</ul>
</li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
            
<h2 id="_1">前言</h2>
<p>本文对于numpy模块具体各个函数细节不做过多说明，具体请参看文档。本文主要是就numpy的一些核心概念进行理清。</p>
<p>numpy模块里面最核心的概念就是 ndarray对象，请参看 <a href="https://stackoverflow.com/questions/15879315/what-is-the-difference-between-ndarray-and-array-in-numpy">这个问题</a> ，当时我也有疑问，numpy里面的array函数和ndarray对象有什么区别，答案就是：一般使用推荐使用 <code>numpy.array</code> 来创建 ndarray对象，其他还有 zeros ，empty等等其他的函数，他们都是很好的接口去创建一个 numpy.ndarray 对象，当然你也可以通过 numpy.ndarray 来创建一个ndarray对象，但这不是 numpy模块开发人员推荐的风格。</p>
<h2 id="numpy-ndarraypython">numpy ndarray对象和python的列表的区别</h2>
<ol>
<li>numpy ndarray内部的item是固定内存size的，改变size将会重新创建一个ndarray。</li>
<li>numpy ndarray内部的item是相同的data type的，因此是固定内存size的。</li>
<li>numpy的ndarray有助于大型数据的高级数学运算或其他操作，比python的序列那些执行会更有效率。</li>
<li>很多科学和数学计算的python模块都是基于numpy的ndarray的，当然他们支持python的序列类型输入，但都是转变成为numpy的array之后再进行相关计算的，然后他们的输出也通常是numpy的ndarray对象。</li>
</ol>
<h2 id="ndarray">ndarray对象</h2>
<p>numpy模块中很核心的一个概念就是ndarray对象。ndarray对象按照numpy官方手册的绘图是这样一个数据结构：</p>
<p><img alt="img" src="https://docs.cdwanze.work/images/机器学习/ndarray.png" title="ndarray"/></p>
<p>ndarray有一个头header来控制所有接下来存储的数据类型(dtype)，然后存储的数据则必然都是相同的数据类型，这是一个不同于列表的限定条件，这样约定将大大提高数据处理的效率。</p>
<p>你可以利用array函数简单将一个列表变成ndarray对象：</p>
<div class="highlight"><pre><span></span>    <span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
    <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="s1">'&gt;</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">dtype</span>
    <span class="n">dtype</span><span class="p">(</span><span class="s1">'int32'</span><span class="p">)</span>
</pre></div>
<p>在上面的例子中我们看到，每一个ndarray对象都有一个属性( <strong>dtype</strong> )，其存储的就是前面讲的ndarray对象后面一连串数据的数据类型，比如这里的数据类型是“int32”。</p>
<h3 id="dtype">dtype</h3>
<p>这个基本上讨论numpy的资料都会把这个清单列出来，这里也列出来吧。</p>
<ul>
<li><strong>bool_:</strong> True or False</li>
<li><strong>int_:</strong> 相当于C语言的long，一般是int32或int64。整数型其内细分:<ul>
<li><strong>intc:</strong> 等于C语言的int，int32或int64</li>
<li><strong>intp:</strong> 整数用于索引，和C语言的ssize_t相同，一般是int32或int64。</li>
<li><strong>int8:</strong> Byte（-128 ~ 127）</li>
<li><strong>int16:</strong> Integer（-32769 ~ 32767）</li>
<li><strong>int32:</strong> Integer</li>
<li><strong>int64:</strong> Integer</li>
<li><strong>uint8:</strong> Unsigned Integer（0 ~ 255）</li>
<li><strong>uint16:</strong> Unsigned Integer（0 ~ 65535）</li>
<li><strong>uint32:</strong> Unsigned Integer</li>
<li><strong>uint64:</strong> Unsigned Integer</li>
</ul>
</li>
<li><strong>float_:</strong> 具体为float64。浮点型细分为:<ul>
<li><strong>float16:</strong> 半精度浮点型</li>
<li><strong>float32:</strong> 单精度浮点型</li>
<li><strong>float64:</strong> 双精度浮点型</li>
</ul>
</li>
<li><strong>complex_:</strong> 就是complex128。 复数型细分为:<ul>
<li><strong>complex64:</strong> 复数型，由32位浮点型组成</li>
<li><strong>complex128:</strong> 复数形，由64位浮点型组成</li>
</ul>
</li>
</ul>
<p>具体使用声明如下:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">'int32'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="s1">'numpy.ndarray'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">dtype</span>
<span class="n">dtype</span><span class="p">(</span><span class="s1">'int32'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>在实际使用的时候，dtype若指定为int，则实际就是对应的 <code>np.int_</code></p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">'int'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">dtype</span>
<span class="n">dtype</span><span class="p">(</span><span class="s1">'int64'</span><span class="p">)</span>
</pre></div>
<p>类似的 <code>float</code> 对应 <code>np.float_</code> ; <code>bool</code> 对应 <code>np.bool_</code> ; <code>complex</code> 对应 <code>np.complex_</code> 。</p>
<h4 id="ndarraydtype">ndarray的dtype变换</h4>
<p>还可以通过调用ndarray的 <code>astype</code> 方法来实现。注意这个方法是 <strong>非破坏型</strong> 方法，具体使用如下面例子所示：</p>
<div class="highlight"><pre><span></span>    <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="s1">'int8'</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">'int32'</span><span class="p">)</span>
    <span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int32</span><span class="p">)</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
    <span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int8</span><span class="p">)</span>
</pre></div>
<h4 id="dtype_1">dtype对象的从属关系</h4>
<p>用 <code>np.issubdtype</code> 函数来判断某个ndarray的dtype对象是不是整型的子集。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int8</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">dtype</span>
<span class="n">dtype</span><span class="p">(</span><span class="s1">'int8'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">dtype</span><span class="p">,</span><span class="s1">'int'</span><span class="p">)</span>
<span class="k">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">issubdtype</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">dtype</span><span class="p">,</span><span class="s1">'float'</span><span class="p">)</span>
<span class="k">False</span>
</pre></div>
<h3 id="shape">shape属性</h3>
<p>此外，每一个ndarray对象都有 <code>shape</code> 属性，用于控制后面跟着的这些数据的维度。请看下面的例子：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">shape</span>
<span class="p">(</span><span class="mi">6</span><span class="p">,)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</pre></div>
<p>shape 属性用来控制对于后面数据维度的理解，一个数字表示一维，二个数字表示二维几行几列（也就是数学中我们常见的概念矩阵），三个数字表示三维等。这里直接修改ndarray对象的shape属性将直接影响程序对于该对象数据的理解，此外更常用的是用 <code>reshape</code> 方法，其并不原地修改某个ndarray对象的shape，而是返回一个被修改shape属性的新的ndarray对象。</p>
<h4 id="reshape">reshape</h4>
<p>ndarray可以调用reshape来改变本ndarray的shape属性，其并不原地修改某个ndarray对象的shape，而是返回一个被修改shape属性的新的ndarray对象。</p>
<p>你可以只指定一个维度，然后另外一个维度填上 <code>-1</code> ，这样改维度的shape将会自动计算出来。</p>
<p>比如 4*5的矩阵，你reshape为 <code>(-1,4)</code> ，那么出来的该矩阵的row=5。</p>
<h2 id="ndarray_1">创建一个ndarray对象</h2>
<h3 id="python">从python数据结构中创建</h3>
<p>这个就是前面接触过的 <code>np.array</code> 函数，用来接受一个python list 或 tuple ，从而返回一个ndarray对象。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="n">j</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="n">j</span><span class="p">],[</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="n">j</span><span class="p">,</span><span class="mi">4</span><span class="o">+</span><span class="mi">5</span><span class="n">j</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">.</span><span class="o">+</span><span class="mi">2</span><span class="p">.</span><span class="n">j</span><span class="p">,</span>  <span class="mi">2</span><span class="p">.</span><span class="o">+</span><span class="mi">3</span><span class="p">.</span><span class="n">j</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">.</span><span class="o">+</span><span class="mi">4</span><span class="p">.</span><span class="n">j</span><span class="p">,</span>  <span class="mi">4</span><span class="p">.</span><span class="o">+</span><span class="mi">5</span><span class="p">.</span><span class="n">j</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">dtype</span>
<span class="n">dtype</span><span class="p">(</span><span class="s1">'complex128'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<h3 id="_2">生成一系列的随机数</h3>
<p>这个经常在各个例子中看到：</p>
<div class="highlight"><pre><span></span><span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>

<span class="nv">array</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">26670745</span>,  <span class="mi">1</span>.<span class="mi">09572856</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">38875728</span>],
       [ <span class="mi">1</span>.<span class="mi">04339429</span>,  <span class="mi">0</span>.<span class="mi">06330302</span>,  <span class="mi">1</span>.<span class="mi">35696512</span>]]<span class="ss">)</span>
</pre></div>
<p>填充一个2行3列的随机数，randn后面的n是normal，也就是正态分布的意思。</p>
<h3 id="arrange">arrange函数</h3>
<p>arange(start,end,step)  参数类似range函数。生成一个数据递增（减）的ndarray对象：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="s1">'numpy.ndarray'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([</span> <span class="mi">1</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">2</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">2</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">3</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">3</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">4</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">4</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">5</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">5</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">.</span> <span class="p">,</span>
        <span class="mi">6</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">7</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">8</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">8</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">9</span><span class="p">.</span> <span class="p">,</span>  <span class="mi">9</span><span class="p">.</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
<p>其是一维的，但通过reshape操作可以生成二维的ndarray对象，其可以接受 <code>dtype</code> 对象来控制dtype属性。</p>
<h3 id="linspace">linspace函数</h3>
<p>linspace函数可以看作上面 arange函数的补充，arange函数虽然指定了start和stop，最后的数值是不被包含的，然后具体生成了多少个item是不易知的，而linspace可以接受这样三个参数: <code>start end number</code> ，其中start和end一定是在ndarray中包含的，然后number给定了具体生成了多少个item。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="nb">array</span><span class="p">([</span>  <span class="mi">1</span><span class="p">.</span> <span class="p">,</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">6</span><span class="p">,</span>   <span class="mi">6</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">10</span><span class="p">.</span> <span class="p">])</span>
</pre></div>
<p>结束元素包不包含倒不是很重要，关键是某些情况下你需要控制具体生成了多少个item，那么就需要使用 <code>linspace</code> 函数。</p>
<h3 id="zeros">zeros函数</h3>
<p>zeros函数用于快速创建一个ndarray对象，其内数据都填充的是 <code>0.</code> ，默认dtype是 <code>float64</code> 。其接受的一个参数你可以简单看作就是shape属性参数，如下所示：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">10</span><span class="p">,))</span>
<span class="nb">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.,</span>  <span class="mi">0</span><span class="p">.]])</span>
</pre></div>
<h3 id="ones">ones函数</h3>
<p>ones函数类似于zeros函数，不同的是填充的数据是1。就不做例子演示了。</p>
<h3 id="empty">empty函数</h3>
<p>empty函数和前面谈论的 zeros ones 函数类似，除了各个item都是原内存的随机数值，并不做任何修改。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">array</span><span class="p">([[</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">00000000</span><span class="n">e</span><span class="o">+</span><span class="mi">000</span><span class="p">,</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">99297208</span><span class="n">e</span><span class="o">-</span><span class="mi">317</span><span class="p">,</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">94026911</span><span class="n">e</span><span class="o">-</span><span class="mi">317</span><span class="p">],</span>
       <span class="p">[</span>  <span class="mi">6</span><span class="p">.</span><span class="mi">94094003</span><span class="n">e</span><span class="o">-</span><span class="mi">310</span><span class="p">,</span>   <span class="mi">1</span><span class="p">.</span><span class="mi">03878549</span><span class="n">e</span><span class="o">-</span><span class="mi">013</span><span class="p">,</span>   <span class="mi">0</span><span class="p">.</span><span class="mi">00000000</span><span class="n">e</span><span class="o">+</span><span class="mi">000</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<h2 id="_3">索引值</h2>
<p>ndarray对于值的索引操作和python中列表索引值的操作非常相似，即方括号语法索引 <code>[index]</code> :</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
<span class="mi">5</span>
</pre></div>
<p>此外你还可以用这种语法:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<p>通过上面描述的索引值语法可以直接修改该ndarray对象的这个元素的值。此外numpy还提供了另外一种表示语法： <code>[a,b]</code> ，对于ndarray对象其和 <code>[a][b]</code> 的意思是一样的。但是矩阵 <em>不</em> 支持 <code>[a][b]</code> 这种索引语法，而只支持 <code>[a,b]</code> 这种表示语法，推荐对于矩阵都用带逗号的这种索引方法，表示矩阵的a行b列。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">#</span><span class="err">并没有索引下去</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">1</span>
</pre></div>
<h3 id="view">索引多个值或说view</h3>
<p>同样ndarray对象也有在上面谈及的索引规则下 <code>[start:end:step]</code> :</p>
<div class="highlight"><pre><span></span><span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">x</span> <span class="o">=</span> <span class="s s-Atom">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">x</span>
<span class="nf">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">x</span><span class="p">[</span><span class="s s-Atom">::-</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">array</span><span class="p">([[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">y</span> <span class="o">=</span> <span class="s s-Atom">np</span><span class="p">.</span><span class="nf">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">y</span>
<span class="nf">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">y</span><span class="p">[</span><span class="mi">0</span><span class="s s-Atom">::</span><span class="mi">2</span><span class="p">]</span>
<span class="nf">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
</pre></div>
<p>支持索引多个值，但注意上面不是说切片，而是 <strong>view</strong> 视图。因为python的list如果你索引多个值，切片了，则等于制造了一个新的列表，如:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">lst</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">lst</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">lst</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
<p>在调用 <code>lst[0:2]</code> 时，python程序是制造一个新的子列表，然后赋值给x，但是我们看ndarray对象不是这样的:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="nb">array</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span>  <span class="mi">2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">])</span>
</pre></div>
<p>这就是ndarray对象索引多个值称之为 <strong>视图</strong> 的原因，其返回的还是指向原处的那个片段！</p>
<p>最后对于索引多个值的视图赋值操作，是所有元素都赋值为那个值:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">99</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">])</span>
</pre></div>
<h3 id="_4">多维切片</h3>
<p>上面的 <code>[start:end:step]</code> 语法只是第一个维度上的切片，numpy支持下面的语法，可以灵活地在多个维度进行切片 <code>[d1, d2, d3]</code> ，上面的d1是具体在第一个维度上的索引值，也就是对于每个维度都可以进一步使用 <code>[start:end:step]</code> 这样的进一步切片操作。</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]]]</span> <span class="p">)</span>
<span class="n">arr</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]],</span>
       <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">4</span><span class="p">]]])</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">6</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]])</span>
<span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">7</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">35</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">45</span><span class="p">]])</span>
<span class="n">arr</span><span class="p">[:,</span><span class="mi">0</span><span class="p">,:]</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span> 
<span class="n">array</span><span class="p">([[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">4</span><span class="p">]])</span>
</pre></div>
<p>注意看最后一个例子，含义是第一维度所有元素，第二维度选择索引值0，第三维度所有元素。</p>
<h4 id="copy">copy方法</h4>
<p>如果你希望达到原python的那种索引多个值的效果而不影响原ndarray对象，你可以调用ndarrary对象的 <code>copy</code> 方法:</p>
<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">[:</span><span class="mi">2</span><span class="p">].</span><span class="k">copy</span><span class="p">()</span>
</pre></div>
<h3 id="_5">布尔值索引</h3>
<p>布尔值索引是基于 ndarray对象进行布尔值判断操作，如 <code>== &gt; &lt;</code> 等等之类的时候，将输出一个原维度的bool值ndarray对象。然后将这个ndarray对象送入array的索引输入框中，其将返回bool值为True的那些值。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span> <span class="o">==</span> <span class="mi">0</span>
<span class="nb">array</span><span class="p">([</span> <span class="k">True</span><span class="p">,</span>  <span class="k">True</span><span class="p">,</span> <span class="k">False</span><span class="p">,</span> <span class="k">False</span><span class="p">,</span> <span class="k">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">bool</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span><span class="p">[</span><span class="nb">array</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span><span class="p">[</span><span class="nb">array</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">array</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">99</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">])</span>
</pre></div>
<p>布尔值索引返回的也是 <strong>视图</strong> ，对齐操作将改变原ndarray对象。</p>
<p>你还可以用 <code>&amp;</code> 和 <code>|</code> 来形成组合逻辑，但不能使用 and 和 or 。</p>
<p>一大用法就是利用某个item各个属性的映射关系，利用其他属性来过滤另外某个data:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nv">data</span> <span class="o">=</span> <span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">7</span>,<span class="mi">3</span><span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">data</span>
<span class="nv">array</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">82117767</span>,  <span class="mi">1</span>.<span class="mi">02481308</span>,  <span class="mi">0</span>.<span class="mi">50908019</span>],
       [ <span class="mi">0</span>.<span class="mi">79851282</span>,  <span class="mi">0</span>.<span class="mi">37692996</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">0129145</span> ],
       [<span class="o">-</span><span class="mi">1</span>.<span class="mi">30120201</span>,  <span class="mi">1</span>.<span class="mi">71270027</span>,  <span class="mi">0</span>.<span class="mi">2113716</span> ],
       [<span class="o">-</span><span class="mi">1</span>.<span class="mi">33386207</span>,  <span class="mi">0</span>.<span class="mi">02978504</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">58061781</span>],
       [ <span class="mi">0</span>.<span class="mi">72466458</span>,  <span class="mi">1</span>.<span class="mi">94170572</span>,  <span class="mi">2</span>.<span class="mi">09521622</span>],
       [<span class="o">-</span><span class="mi">1</span>.<span class="mi">24241997</span>, <span class="o">-</span><span class="mi">1</span>.<span class="mi">20557331</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">66292731</span>],
       [<span class="o">-</span><span class="mi">0</span>.<span class="mi">66145326</span>,  <span class="mi">0</span>.<span class="mi">28330579</span>,  <span class="mi">0</span>.<span class="mi">2803069</span> ]]<span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">names</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">array</span><span class="ss">(</span>[<span class="s1">'</span><span class="s">a</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">b</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">c</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">a</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">b</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">d</span><span class="s1">'</span>,<span class="s1">'</span><span class="s">a</span><span class="s1">'</span>]<span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">data</span>[<span class="nv">names</span> <span class="o">==</span> <span class="s1">'</span><span class="s">a</span><span class="s1">'</span>]
<span class="nv">array</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">82117767</span>,  <span class="mi">1</span>.<span class="mi">02481308</span>,  <span class="mi">0</span>.<span class="mi">50908019</span>],
       [<span class="o">-</span><span class="mi">1</span>.<span class="mi">33386207</span>,  <span class="mi">0</span>.<span class="mi">02978504</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">58061781</span>],
       [<span class="o">-</span><span class="mi">0</span>.<span class="mi">66145326</span>,  <span class="mi">0</span>.<span class="mi">28330579</span>,  <span class="mi">0</span>.<span class="mi">2803069</span> ]]<span class="ss">)</span>
</pre></div>
<p>这里将索引的是每一行，其行对应的name是'a'的值。</p>
<h2 id="_6">基本的运算</h2>
<p>两个ndarray对象之间进行基本的数学运算，如果两个ndarray维度是相同的，则称之为 <code>vectorization</code> ，矢量化操作。大致意思就是 加减乘除幂 具体操作都是 <span class="underline">对应的元素和对应的元素进行加减乘除幂操作</span> :</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">5</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">2</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">4</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">16</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span>  <span class="mi">4</span><span class="p">]])</span>
</pre></div>
<p>如果两个ndarray对象的维度（多维的情况不讨论了吧），如果 列维数目相同，则似乎也是可以的，但应该不推荐这么使用。而如果列维数目不同，则会抛出 <code>ValueError</code> 。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">+</span><span class="n">z</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
</pre></div>
<p>我们看到这里z是重复应用到x的每一行了。</p>
<h2 id="ndarray_2">ndarray对象上的一些方法</h2>
<h3 id="flatten">flatten方法</h3>
<p>flatten，拉平。flatten是ndarray对象（包括矩阵）的一个方法，可将其变为一维形式， <em>非破坏型</em> 方法。</p>
<p>这里将flatten方法归到矩阵这里是因为多维数组必须各个维度所含元素数目相等（也就是必须要有类似矩阵的空间矩形排布感）才有意义。然后矩阵返回的是行矢量形式。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">z</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">z</span><span class="p">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</pre></div>
<h3 id="sort">sort方法</h3>
<p>sort方法虽然可以作用多维，但似乎对一维更显的有意义些，其是一个 <em>破坏型</em> 方法。</p>
<p>如下所示，注意看，每一行并没有变动，只在行内一维情况下排序。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">data</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">.</span><span class="mi">68518059</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">05271585</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">00174264</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">44506879</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">45532422</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">30856608</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">0</span><span class="p">.</span><span class="mi">1121552</span> <span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="mi">04487041</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">03301996</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">data</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">data</span>
<span class="nb">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">.</span><span class="mi">68518059</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">00174264</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">05271585</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">44506879</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">30856608</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">45532422</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">.</span><span class="mi">04487041</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">03301996</span><span class="p">,</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">1121552</span> <span class="p">]])</span>
</pre></div>
<h3 id="mean">mean方法</h3>
<p>计算给定维度下所有元素的值的的均值。</p>
<div class="highlight"><pre><span></span><span class="n">ndarray</span><span class="p">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="k">None</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="k">None</span><span class="p">,</span> <span class="k">out</span><span class="o">=</span><span class="k">None</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="k">False</span><span class="p">)</span>
</pre></div>
<p>在这里的难点在于理解按照维度扩展这个概念，如果是矩阵的话，竖向列是axis=0，横向行是axis=1。</p>
<p>numpy.mean(axis=0) 这里一般的理解是按照竖向列计算均值，更好的理解是行表示记录，列表示特征，一般第一维度表示样本维，第二维度表示特征维，这里axis=0，官方文档对于axis的解释是沿着某个维度或者轴进行计算，这里axis=0选择的实际上是样本维，然后沿着样本维每个特征计算得到一个均值。</p>
<h3 id="std">std方法</h3>
<p>计算给定维度下所有元素的值的标准差，具体使用类似于上面的mean方法。</p>
<h2 id="_7">一些通用函数</h2>
<p>下面讲的一些通用函数，大多是numpy自带的，然后接受的参数一般是ndarray对象，一般也不会改变目标ndarray对象的shape（有些会稍微做一些改变），然后对各个元素进行一些函数操作。</p>
<h3 id="sqrt">sqrt函数</h3>
<p>开个平方根</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>

<span class="n">np</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">.</span>        <span class="p">,</span> <span class="mi">1</span><span class="p">.</span>        <span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">41421356</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">73205081</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span>        <span class="p">,</span>
       <span class="mi">2</span><span class="p">.</span><span class="mi">23606798</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">44948974</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">64575131</span><span class="p">,</span> <span class="mi">2</span><span class="p">.</span><span class="mi">82842712</span><span class="p">,</span> <span class="mi">3</span><span class="p">.</span>        <span class="p">])</span>
</pre></div>
<h3 id="exp">exp函数</h3>
<p>算个指数函数 <span class="math">\(e^{x}\)</span></p>
<div class="highlight"><pre><span></span><span class="n">np</span><span class="p">.</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<h3 id="maximum">maximum函数</h3>
<p>点对点返回最大值 【会自动进行广播操作】</p>
<div class="highlight"><pre><span></span><span class="nv">x</span> <span class="o">=</span> <span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">8</span><span class="ss">)</span>
<span class="nv">y</span> <span class="o">=</span> <span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">8</span><span class="ss">)</span>
<span class="nv">np</span>.<span class="nv">maximum</span><span class="ss">(</span><span class="nv">x</span>, <span class="nv">y</span><span class="ss">)</span>
</pre></div>
<h3 id="abs">abs函数</h3>
<div class="highlight"><pre><span></span><span class="nv">x</span> <span class="o">=</span> <span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">2</span>,<span class="mi">3</span><span class="ss">)</span>

<span class="nv">array</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">11653471</span>,  <span class="mi">0</span>.<span class="mi">72362219</span>,  <span class="mi">0</span>.<span class="mi">93142213</span>],
       [<span class="o">-</span><span class="mi">2</span>.<span class="mi">03263166</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">1941374</span> ,  <span class="mi">1</span>.<span class="mi">23463108</span>]]<span class="ss">)</span>

<span class="nv">np</span>.<span class="nv">abs</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>   

<span class="nv">array</span><span class="ss">(</span>[[<span class="mi">0</span>.<span class="mi">11653471</span>, <span class="mi">0</span>.<span class="mi">72362219</span>, <span class="mi">0</span>.<span class="mi">93142213</span>],
       [<span class="mi">2</span>.<span class="mi">03263166</span>, <span class="mi">0</span>.<span class="mi">1941374</span> , <span class="mi">1</span>.<span class="mi">23463108</span>]]<span class="ss">)</span>
</pre></div>
<h3 id="tile">tile函数</h3>
<div class="highlight"><pre><span></span><span class="n">np</span><span class="p">.</span><span class="n">tile</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">reps</span><span class="p">)</span>
</pre></div>
<p>输入一个array，根据reps决定在那个维度重复数据：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">tile</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="nb">array</span><span class="p">([[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]],</span>
       <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]])</span>
</pre></div>
<h3 id="argsort">argsort函数</h3>
<p>ndarray对象调用argsort函数将返回一个按照大小排序的索引值：</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nb">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
<p>上面的含义是排序后第一个值是 x[1] ，后面以此类推。</p>
<h3 id="npargpartition">np.argpartition函数</h3>
<p>以arg开头其返回的是索引值。</p>
<p>然后其默认调用的行为有点类似于快速排序中的选择一个点，左边都是比这个值小的点，右边都是比这个值大的点。在某些情况下，你可能指向要topk个结果，这样调用这个函数，你必须将排序操作进行完，有时会很高效的。</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">np</span><span class="p">.</span><span class="n">argpartition</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="nb">array</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int64</span><span class="p">)</span>
</pre></div>
<p>上面这个例子的意思就是，结果输出的分区点是 2 哪里，也就是前面的2个就是整个内容中最小的两个。2对应的数字5，前面两个是 1 4，然后剩下的9 8 7 6 都是比5大的。大概就是这样子。</p>
<h3 id="npallclose">np.allclose</h3>
<div class="highlight"><pre><span></span><span class="n">numpy</span><span class="p">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">08</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="k">False</span><span class="p">)</span>
</pre></div>
<p>类似于isclose，不过返回的True或者False</p>
<h3 id="npisclose">np.isclose</h3>
<div class="highlight"><pre><span></span><span class="n">numpy</span><span class="p">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">rtol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">08</span><span class="p">,</span> <span class="n">equal_nan</span><span class="o">=</span><span class="k">False</span><span class="p">)</span>
</pre></div>
<p>点对点的比较两个ndarray的值，rtol是相对容忍度，atol是绝对容忍度，这是一种近似的数值相近比较判断操作。</p>
<h3 id="nplogical_and">np.logical_and</h3>
<p>点对点的逻辑and操作。</p>
<h3 id="npall">np.all</h3>
<p>沿某个轴或者所有数值执行all操作。</p>
<h2 id="ndarray_3">ndarray对象转置</h2>
<p>就是调用ndarray对象的 <code>T</code> 属性，这更接近于矩阵中的转置操作（但是对于一维ndarray并没有任何改变）。而之前提及的 <code>data[::-1]</code> 这么使用，只是把行翻转了一下，对于一维倒是整个array都翻转了。</p>
<div class="highlight"><pre><span></span><span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">data</span> <span class="o">=</span> <span class="s s-Atom">np</span><span class="p">.</span><span class="s s-Atom">random</span><span class="p">.</span><span class="nf">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">data</span>
<span class="nf">array</span><span class="p">([[</span> <span class="mf">0.53700477</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.30139712</span><span class="p">,</span>  <span class="mf">1.12184318</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.91918847</span><span class="p">,</span>  <span class="mf">1.52850268</span><span class="p">,</span>  <span class="mf">0.73218978</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">1.14840704</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0413753</span> <span class="p">,</span>  <span class="mf">0.52820585</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.84307255</span><span class="p">,</span>  <span class="mf">0.21356674</span><span class="p">,</span>  <span class="mf">0.23331023</span><span class="p">]])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">data</span><span class="p">.</span><span class="nv">T</span>
<span class="nf">array</span><span class="p">([[</span> <span class="mf">0.53700477</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.91918847</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.14840704</span><span class="p">,</span>  <span class="mf">1.84307255</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">1.30139712</span><span class="p">,</span>  <span class="mf">1.52850268</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0413753</span> <span class="p">,</span>  <span class="mf">0.21356674</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.12184318</span><span class="p">,</span>  <span class="mf">0.73218978</span><span class="p">,</span>  <span class="mf">0.52820585</span><span class="p">,</span>  <span class="mf">0.23331023</span><span class="p">]])</span>
<span class="s s-Atom">&gt;&gt;&gt;</span> <span class="s s-Atom">data</span><span class="p">[</span><span class="s s-Atom">::-</span><span class="mi">1</span><span class="p">]</span>
<span class="nf">array</span><span class="p">([[</span> <span class="mf">1.84307255</span><span class="p">,</span>  <span class="mf">0.21356674</span><span class="p">,</span>  <span class="mf">0.23331023</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">1.14840704</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0413753</span> <span class="p">,</span>  <span class="mf">0.52820585</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.91918847</span><span class="p">,</span>  <span class="mf">1.52850268</span><span class="p">,</span>  <span class="mf">0.73218978</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.53700477</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.30139712</span><span class="p">,</span>  <span class="mf">1.12184318</span><span class="p">]])</span>
</pre></div>
<h2 id="broadcasting">广播(broadcasting)</h2>
<p>广播一种操作，shape较小的张量和shape较大的张量进行点对点运算时，需要对shape较小的张量进行广播操作，使其在运算上shape兼容。</p>
<p>广播具体操作规则是：</p>
<ul>
<li>
<p>shape较小的张量添加新的维度是的两个张量维度数相同</p>
</li>
<li>
<p>shape较小的张量在新的维度中的数据是重复的，相当于没有原维度的数据，即： y[1,j] = y[2,j] = y[3,j] =... y[j]</p>
</li>
</ul>
<h2 id="_8">矩阵对象</h2>
<p>矩阵对象是ndarray对象的子类，也就是说ndarray对象的一些属性和方法它都是可以使用的。行矢量和列矢量是属于矩阵中的特殊情况。矩阵这个概念在以后的数学运算中较为重要，然后对于一些概念，比如转置啊，点乘啊等，总之和矩阵的数学运算相关的，虽然ndarray对象也可以做，但推荐将其变成矩阵（matrix）对象之后再处理，这样容易理清概念。</p>
<h3 id="matrix">matrix函数</h3>
<p>用numpy的matrix函数可以创建一个矩阵对象:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="nv">data</span> <span class="o">=</span> <span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randn</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">3</span><span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">data</span>
<span class="nv">array</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">79589206</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">97535141</span>,  <span class="mi">1</span>.<span class="mi">05750453</span>],
       [ <span class="mi">0</span>.<span class="mi">05051448</span>,  <span class="mi">0</span>.<span class="mi">19753523</span>,  <span class="mi">0</span>.<span class="mi">99618112</span>],
       [ <span class="mi">2</span>.<span class="mi">09805081</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">33623748</span>,  <span class="mi">0</span>.<span class="mi">26033154</span>]]<span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">x</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">matrix</span><span class="ss">(</span><span class="nv">data</span><span class="ss">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">type</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span>
<span class="o">&lt;</span><span class="nv">class</span> <span class="s1">'</span><span class="s">numpy.matrixlib.defmatrix.matrix</span><span class="s1">'</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nv">x</span>
<span class="nv">matrix</span><span class="ss">(</span>[[<span class="o">-</span><span class="mi">0</span>.<span class="mi">79589206</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">97535141</span>,  <span class="mi">1</span>.<span class="mi">05750453</span>],
        [ <span class="mi">0</span>.<span class="mi">05051448</span>,  <span class="mi">0</span>.<span class="mi">19753523</span>,  <span class="mi">0</span>.<span class="mi">99618112</span>],
        [ <span class="mi">2</span>.<span class="mi">09805081</span>, <span class="o">-</span><span class="mi">0</span>.<span class="mi">33623748</span>,  <span class="mi">0</span>.<span class="mi">26033154</span>]]<span class="ss">)</span>
</pre></div>
<h3 id="_9">矩阵转置</h3>
<p><code>transpose</code> 方法，将矩阵转置过来。只返回结果， <em>非破坏型</em> 方法。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
</pre></div>
<h3 id="_10">行矢量和列矢量</h3>
<p>行矢量和列矢量是矩阵的特殊情况，需要用matrix函数创建之。行矢量转置之后就是列矢量请注意看它的写法。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">5</span><span class="p">]])</span>
</pre></div>
<h3 id="_11">矩阵的点乘</h3>
<p>学过线性代数印像最深的可能就是矩阵那个怪异的乘法运算了。这里有了numpy模块的支持，就可以直接用 <code>*</code> 来执行两个矩阵的乘法，或者 <code>np.dot</code> 函数。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">A</span> <span class="o">*</span> <span class="n">B</span>
<span class="n">matrix</span><span class="p">([[</span> <span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">9</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]).</span><span class="n">transpose</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">32</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">*</span> <span class="n">x</span>
<span class="n">matrix</span><span class="p">([[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">matrix</span><span class="p">([[</span><span class="mi">32</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="p">.</span><span class="n">dot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">matrix</span><span class="p">([[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">18</span><span class="p">]])</span>
<span class="o">&gt;&gt;&gt;</span>
</pre></div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js','mhchem.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            
            
            <hr/>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2017-11-15T00:00:00+08:00">2017年 11月 15日 </time>

<h4>最近更新于：</h4>
<time datetime="2019-03-07T00:00:00+08:00">2019年 3月 7日 </time>

            <h4>分类：</h4>
            <a class="category-link" href="https://docs.cdwanze.work/categories.html#suan-fa-ref">算法</a>
            <h4>标签：</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://docs.cdwanze.work/tags.html#ke-xue-ji-suan-ref">科学计算
                    <span>3</span>
</a></li>
            </ul>
        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>


<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="http://www.cdwanze.work" title="cdwanze Home Page">cdwanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://docs.cdwanze.work/theme/js/jquery.min.js"></script>
    <script src="https://docs.cdwanze.work/theme/js/bootstrap.min.js"></script>
    <script>
        function validateForm(query) {
            return (query.length > 0);
        }
    </script>

    <script>
        function adjust_search_width() {
            var w = document.documentElement.clientWidth;
            if ((w > 755) && (w < 975)) {
                plus_width = w - 755;
                $('.navbar-form .form-control').outerWidth(210 + plus_width);
            } else if (w >= 975) {
                $('.navbar-form .form-control').outerWidth(210 + 220);
            } else if (w <= 755) {
                $('.navbar-form .form-control').css('width', '100%')
            }
        }

        $(document).ready(function () {
            adjust_search_width();
        });

        window.onresize = function () {
            adjust_search_width();
        }

    </script>


    



</body>
</html>