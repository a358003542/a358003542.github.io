<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="wanze"/>
        <meta name="copyright" content="wanze"/>

        <meta name="description"
              content="nodejs技术栈 nodejs是运行在服务端的javascript，其基于Chrome V8引擎，整体架构是事件驱动的非阻塞的。 npm是nodejs里面的一个包管理工具，大体可以理解为python里面的pip。 在centos7直接安装npm： yum install npm 也会顺便把nodejs也安装了。 windows下有直接安装的exe程序。 npm init 本小节参考了 阮一峰的npm文章 。 在你想要新建的模块的根目录下运行 npm init ，程序会交互问一些问题，然后创建 package.json 文件。这样你的用户就可以利用这个 package.json 文件然后运行 npm install 命令来安装目标模块了。 npm install -g module_name 加上全局选项 -g 会安装在系统的 /usr/lib/node_modules 里面（centos7）。 npm install module_name 没有加上选项 -g ,node模块就直接安装在当前工作目录的 …
"/>

        <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", others, " />

<meta property="og:title" content="前端开发之-nodejs技术栈 "/>
<meta property="og:url" content="https://a358003542.github.io/drafts/qian-duan-kai-fa-zhi-nodejsji-zhu-zhan.html" />
<meta property="og:description" content="nodejs技术栈 nodejs是运行在服务端的javascript，其基于Chrome V8引擎，整体架构是事件驱动的非阻塞的。 npm是nodejs里面的一个包管理工具，大体可以理解为python里面的pip。 在centos7直接安装npm： yum install npm 也会顺便把nodejs也安装了。 windows下有直接安装的exe程序。 npm init 本小节参考了 阮一峰的npm文章 。 在你想要新建的模块的根目录下运行 npm init ，程序会交互问一些问题，然后创建 package.json 文件。这样你的用户就可以利用这个 package.json 文件然后运行 npm install 命令来安装目标模块了。 npm install -g module_name 加上全局选项 -g 会安装在系统的 /usr/lib/node_modules 里面（centos7）。 npm install module_name 没有加上选项 -g ,node模块就直接安装在当前工作目录的 …" />
<meta property="og:site_name" content="wanze的博文" />
<meta property="og:article:author" content="wanze" />
<meta property="og:article:published_time" content="2018-05-26T00:00:00+08:00" />
<meta name="twitter:title" content="前端开发之-nodejs技术栈 ">
<meta name="twitter:description" content="nodejs技术栈 nodejs是运行在服务端的javascript，其基于Chrome V8引擎，整体架构是事件驱动的非阻塞的。 npm是nodejs里面的一个包管理工具，大体可以理解为python里面的pip。 在centos7直接安装npm： yum install npm 也会顺便把nodejs也安装了。 windows下有直接安装的exe程序。 npm init 本小节参考了 阮一峰的npm文章 。 在你想要新建的模块的根目录下运行 npm init ，程序会交互问一些问题，然后创建 package.json 文件。这样你的用户就可以利用这个 package.json 文件然后运行 npm install 命令来安装目标模块了。 npm install -g module_name 加上全局选项 -g 会安装在系统的 /usr/lib/node_modules 里面（centos7）。 npm install module_name 没有加上选项 -g ,node模块就直接安装在当前工作目录的 …">


    <title>前端开发之-nodejs技术栈  · wanze的博文
</title>

        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/base.css" media="screen">




</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li >
                    <a  href="/archives.html">所有文章</a></li>

                <li ><a href="/categories.html">文章分类</a></li>
                <li ><a href="/tags.html">文章标签</a></li>


                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">
<article>
<div class="row">
    <header class="page-header col-md-10 col-md-offset-2">
    <h1><a href="https://a358003542.github.io/drafts/qian-duan-kai-fa-zhi-nodejsji-zhu-zhan.html"> 前端开发之-nodejs技术栈  </a></h1>
    </header>
</div>

<div class="row">
    <div class="col-md-2 table-of-content">
        <nav>
        <h4>目录</h4>
        <div class="toc">
<ul>
<li><a href="#nodejs">nodejs技术栈</a><ul>
<li><a href="#npm-init">npm init</a></li>
<li><a href="#npm-list">npm list</a></li>
<li><a href="#npm-update">npm update</a></li>
<li><a href="#packagejson">package.json</a></li>
<li><a href="#npm-publish">npm publish</a></li>
</ul>
</li>
<li><a href="#_1">什么是模块</a></li>
<li><a href="#yarn">yarn</a><ul>
<li><a href="#scripts">scripts</a></li>
</ul>
</li>
<li><a href="#eslint-">eslint-从入门到放弃</a><ul>
<li><a href="#webstormjavascript">webstorm设置javascript版本</a></li>
<li><a href="#webstormeslint">webstorm设置eslint环境</a></li>
<li><a href="#webstrom">webstrom设置自动格式调整</a></li>
<li><a href="#_2">但是也许应该放弃。。</a></li>
</ul>
</li>
</ul>
</div>
        </nav>
    </div>
    <div class="col-md-8 article-content">

            
<h2 id="nodejs">nodejs技术栈</h2>
<p>nodejs是运行在服务端的javascript，其基于Chrome V8引擎，整体架构是事件驱动的非阻塞的。</p>
<p>npm是nodejs里面的一个包管理工具，大体可以理解为python里面的pip。</p>
<p>在centos7直接安装npm：</p>
<div class="highlight"><pre><span></span>yum install npm
</pre></div>
<p>也会顺便把nodejs也安装了。</p>
<p>windows下有直接安装的exe程序。</p>
<h3 id="npm-init">npm init</h3>
<p>本小节参考了 <a href="http://javascript.ruanyifeng.com/nodejs/npm.html">阮一峰的npm文章</a> 。</p>
<p>在你想要新建的模块的根目录下运行 <code>npm init</code> ，程序会交互问一些问题，然后创建 <code>package.json</code> 文件。这样你的用户就可以利用这个 <code>package.json</code> 文件然后运行 <code>npm install</code> 命令来安装目标模块了。</p>
<div class="highlight"><pre><span></span>npm install -g module_name
</pre></div>
<p>加上全局选项 <code>-g</code> 会安装在系统的 <code>/usr/lib/node_modules</code> 里面（centos7）。</p>
<div class="highlight"><pre><span></span>npm install module_name
</pre></div>
<p>没有加上选项 <code>-g</code> ,node模块就直接安装在当前工作目录的 <code>node_modules</code> 文件夹里面。</p>
<h3 id="npm-list">npm list</h3>
<p>列出本地已经安装npm模块。如果加上 <code>-g</code> 那么是列出安装在系统里面的npm模块，以后就不罗嗦这个了。</p>
<h3 id="npm-update">npm update</h3>
<p>升级某个npm模块，你可以加上 <code>--save</code> 来更新 <code>package.json</code> 里面的信息。</p>
<h3 id="packagejson">package.json</h3>
<p>符号 <code>^</code> 之后的版本都可以
符号 <code>~</code> 是允许小版本内的升级</p>
<h3 id="npm-publish">npm publish</h3>
<p>注册模块包，需要在 <code>npmjs.com</code> 上申请个用户名：</p>
<div class="highlight"><pre><span></span>npm adduser
</pre></div>
<p>或者以前adduser过了那么：</p>
<div class="highlight"><pre><span></span>npm login
</pre></div>
<p>然后：</p>
<div class="highlight"><pre><span></span>npm publish
</pre></div>
<p>默认发送公开的模块，npm付费用户可以发布私有模块： <code>"private": false,</code> ，然后在发布的时候加上 <code>--scope</code> 选项和你的scope。</p>
<h2 id="_1">什么是模块</h2>
<p>本小节参考了 <a href="https://www.sitepoint.com/understanding-module-exports-exports-node-js/">理解exports这篇文章</a> 。</p>
<p>前面谈了一些关于模块的东西，那么什么是模块，简单来说一个js文件就是一个模块，和随便写个js文件不同，上面谈论的npm模块都通过npm良好地管理起来了。</p>
<p>在定义一个模块的时候你可以如下写：</p>
<div class="highlight"><pre><span></span>exports.fun1 = function(){
    return 'aaa';
};
</pre></div>
<p>也可以这样写：</p>
<div class="highlight"><pre><span></span>modules.exports = {
    fun1 : function(){
        return 'aaa';
    }
};
</pre></div>
<p>这个exports和 <code>modules.exports</code> 实际是一个东西，其都是一个对象。</p>
<p>然后在其他文件中使用模块：</p>
<div class="highlight"><pre><span></span>var test = require('./your.js')
</pre></div>
<p>这个test变量获得的值就是之前模块定义的那个exports对象。所以你可以如下使用了现在 <code>test.fun1</code> 。那个test名字是随便取的，不过最好取模块的名字。</p>
<h2 id="yarn">yarn</h2>
<p>yarn简单来说就是更好的npm。具体命令对应如下：</p>
<div class="highlight"><pre><span></span>npm install --save    -&gt;   yarn add
npm install --save-dev   -&gt; yarn add --dev
npm install -g   -&gt; yarn global add 
npm uninstall   -&gt;  yarn remove
</pre></div>
<p>首先用npm来全局安装一个yarn： </p>
<div class="highlight"><pre><span></span>npm install -g yarn
</pre></div>
<p>yarn一样利用 <code>package.json</code> 来管理你的前端包，之前说的自动创建的lock文件，yarn会另外创建一个 <code>yarn.lock</code> 。</p>
<h3 id="scripts">scripts</h3>
<p>在 <code>package.json</code> 里面我们可以定义自己的脚本名字，比如下面的 <code>start</code> 命令，我们如果输入 <code>npm start</code> 那么实际运行的是 <code>node .</code> ，同样也可以运行 <code>yarn start</code> 。</p>
<div class="highlight"><pre><span></span>"scripts": {
  "start": "node ."
}
</pre></div>
<h2 id="eslint-">eslint-从入门到放弃</h2>
<p>eslint大体类似于python里面的pylint或者pep8之类的，因为python本来对写法很是严格，所以那边问题不是太大，但javascript这边写法风格很多，很是让人纠结，而且更加让人纠结的是比如说react又引入了自己的jsx语法，说eslint从入门到放弃真不是开玩笑。。</p>
<p>而且这些功能有的和编辑器的有所重合，比如说create-react-app有自己的eslint配置等，</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"extends"</span><span class="o">:</span> <span class="s2">"react-app"</span>
<span class="p">}</span>
</pre></div>
<p>一般建议是完全从你喜爱的编辑器入手来做一些调配工作，包括eslint和对应的prettier功能。下面本文就webstorm的一些配置做出说明。</p>
<h3 id="webstormjavascript">webstorm设置javascript版本</h3>
<div class="highlight"><pre><span></span>Settings -&gt; language &amp; frameworks -&gt; javascript
</pre></div>
<p>作者走的是react路线，所以选的是 react 的 jsx in es6。</p>
<h3 id="webstormeslint">webstorm设置eslint环境</h3>
<p>一般项目根目录下创建一个 <code>.eslintrc</code> 文件，然后编辑器应该会提醒你具体配置eslint环境的，如果没有你可以到： </p>
<div class="highlight"><pre><span></span>Settings -&gt; language &amp; frameworks -&gt; javascript -&gt; Code Quality Tool -&gt; Eslint
</pre></div>
<p>那里看一下，然后要把 eslint对应的那个config包安装上，多少有点麻烦：</p>
<h3 id="webstrom">webstrom设置自动格式调整</h3>
<p>这大体类似于python里面的autopep功能，具体鼠标右键会看到： <code>fix eslint problem</code> 这个快捷键，其对应的命令是 <code>eslint --fix</code> 。</p>
<h3 id="_2">但是也许应该放弃。。</h3>
<p>似乎webstrom会自动把这些环境配置好，似乎是用的webstorm自带的eslint和配置？不太清楚，总之把</p>
<div class="highlight"><pre><span></span>Settings -&gt; language &amp; frameworks -&gt; javascript
</pre></div>
<p>要选择好。</p>
<p>然后 <code>.eslintrc</code>  这个文件创建下总没有坏处，其他的如果有问题请读者参看  <a href="https://blog.jetbrains.com/webstorm/2015/05/ecmascript-6-in-webstorm-transpiling/">webstorm的官方文档</a> 。</p>

            
            <hr/>

        </div>
        <section>
        <div class="col-md-2" style="float:right;font-size:0.9em;">
            <h4>首发于：</h4>
            <time pubdate="pubdate" datetime="2018-05-26T00:00:00+08:00">2018年 5月 26日 </time>

            <h4>分类：</h4>
            <a class="category-link" href="https://a358003542.github.io/categories.html#others-ref">others</a>

        </div>
        </section>
</div>
</article>
    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>
<button id="gotop" type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
</button>

<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="https://github.com/a358003542" title="wanze Home Page">wanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>

    <script src="https://a358003542.github.io/theme/js/base.js"></script>

    


</body>
</html>