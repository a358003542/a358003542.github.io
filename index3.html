<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="baidu-site-verification" content="D4VqC4HppC"/>
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="cdwanze"/>
        <meta name="copyright" content="cdwanze"/>

            <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

        <meta property="og:title" content="cdwanze的博文"/>
        <meta name="twitter:title" content="cdwanze的博文">
    <meta property="og:url" content="https://a358003542.github.io"/>
    <meta property="og:site_name" content="cdwanze的博文"/>
    <meta property="og:article:author" content="cdwanze"/>
    <title>
    cdwanze的博文
</title>


        <link href="https://a358003542.github.io/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://a358003542.github.io/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

            <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/pygments.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/elegant.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://a358003542.github.io/theme/css/custom.css" media="screen">






</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://a358003542.github.io/"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://a358003542.github.io/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li  class="active">
                    <a href="https://a358003542.github.io">博文首页</a></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle"
                           data-toggle="dropdown" role="button"
                           aria-haspopup="true" aria-expanded="false">查找文章<span
                                class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="slowscroll" href="/categories.html">按分类</a>
                            </li>
                            <li><a class="slowscroll" href="/tags.html">按标签</a>
                            </li>
                        </ul>
                    </li>


                        <li >
                            <a href="https://a358003542.github.io/about.html">关于本网站</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">


    <style>
        article {
            border: 1px solid #aaa;
        }

        section {
            padding: 1em;
        }

        article > p {
            padding-left: 0.5em;
            padding-right: 0.5em;
        }

        #gotop {
            position: fixed;
            right: 12%;
            float: right;
            top: 50%;
        }

        @media screen and (max-width: 600px) {
            #gotop {
                display: none;
            }
        }
    </style>

    <button id="gotop" type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
    </button>



    <div class="row">

        <div class="row">
         </div>

             <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <header>
                        <h1 id="recent-posts">最近博文
                            <a id="allposts" href="https://a358003542.github.io/archives.html">所有博文</a>
                        </h1>
                    </header>


                    <div class="recent-posts">
<nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://a358003542.github.io/index2.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://a358003542.github.io/index4.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
 
                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/logbook-module.html">logbook模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-27T00:00:00+08:00">2018年 8月 27日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>logbook似乎是个不错的模块可以改进我们的日志功能，可以看做系统logging模块的第三方升级版，但还是有很多地方不同的。</p>
<p>一开始我接触的最大的不同就是logbook官方文档并不推荐将某个handler注册在某个logger的那种做法，logbook的handler可以注册在整个线程或者整个进程上。或者我们看到官方文档的第一个例子是这种写法：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">logbook</span> <span class="kn">import</span> <span class="n">warn</span><span class="p">,</span> <span class="n">StreamHandler</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span><span class="o">.</span><span class="n">push_application</span><span class="p">()</span>
<span class="n">warn</span><span class="p">(</span><span class="s1">'This is a warning'</span><span class="p">)</span>
</pre></div>
<p>或者写作：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">logbook</span> <span class="kn">import</span> <span class="n">warn</span><span class="p">,</span> <span class="n">StreamHandler</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">log_handler</span> <span class="o">=</span> <span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="k">with</span> <span class="n">log_handler</span><span class="o">.</span><span class="n">applicationbound</span><span class="p">():</span>
    <span class="n">warn</span><span class="p">(</span><span class="s1">'This is too cool for stdlib'</span><span class="p">)</span>
</pre></div>
<p>这是单个注册在整个程序上的，此外还有 <code>threadbound</code> 是注册在整个线程上的。一般桌面GUI程序推荐注册在整个程序上 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/greedy-algorithm.html">贪婪算法
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#algorithm-ref">algorithm
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-26T00:00:00+08:00">2018年 8月 26日
                                        </time>
                                    </div>
                                </section>
                                
<p>任何问题总可以通过暴力穷举算法求解，当然有些问题组合数情况太多了，尤其是某些问题，没有快速算法，即NP完全问题。那么可以试着用一些近似算法来快速找到一个近似解。贪婪算法就是其中的一个近似解。</p>
<p>贪婪算法并不是某种具体的算法，更像是写算法时的一种思路参考。如果你要解决问题，而该问题可以分解为多个步骤，那么你可以通过寻找每步的局部最优解，来<strong>近似</strong>得到目标问题的全局最优解。（贪婪算法并不保证你得到的解一定是全局最优解，但一般这个解是很靠近全局最优解了。）</p>
<p>对于一个问题，如果贪婪算法是有效的，那么一般贪婪算法就是解决这个问题最好的算法。</p>
<h2 id="_1">背包问题</h2>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Knapsack</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freespace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span>

    <span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">if …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/sqlalchemy-module.html">sqlalchemy模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#database-ref">database
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-10T00:00:00+08:00">2018年 7月 10日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>本文分为两个部分，sqlalchemy的非ORM部分和ORM部分。一般使用是推荐使用ORM，这将让你的代码更python，更易读易懂。但ORM部分要用好，很多非ORM部分知识是需要的,，下面根据笔者的实践列出一些非ORM部分非常常用的一些知识部分：</p>
<ul>
<li>创建Engine 理解创建Engine部分将有助于你在很多地方理解如何配置sqlalchemy的数据库连接</li>
<li>列的属性 列的数据类型 这两个是必看的，你在定义ORM模型的时候必然要参考这个</li>
<li>select语句和理解RowProxy对象 帮助你理解如何在query中编写select语句和出来的结果如何使用</li>
</ul>
<h3 id="_2">安装</h3>
<p>sqlalchemy的安装简单用pip命令安装之即可:</p>
<div class="highlight"><pre><span></span><span class="err">pip install sqlalchemy</span>
</pre></div>
<h3 id="_3">引用惯例</h3>
<p>在后面都默认有如下引用:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
<p>后面将不会再提及，也就是凡是 <code>from sqlalchemy import what</code> 的所有语句也都归于如上一条引用。实践中并不推荐这种的全局引用。</p>
<h2 id="_4">简介</h2>
<p>通过sqlalchemy连接具体的某个数据库，前面有一些准备工作要做，参考 <a href="http://www.aosabook.org/en/sqlalchemy.html">sqlalchemy architecture</a> 一文的描述:</p>
<p><img alt="img" src="https://a358003542.github.io/images/python/layers.png" title="SQLAlchemy layer diagram"/></p>
<p>和数据库直接相连的是我们熟悉的那些DBAPI接口模块，比如: sqlite3, pymysql, psycopg2等，然后中间的核心层有Engine，连接池，方言 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/alembic-module.html">alembic模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#database-ref">database
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-01T00:00:00+08:00">2018年 7月 1日
                                        </time>
                                    </div>
                                </section>
                                
<p>alembic模块有什么，如果读者熟悉django的话，那么可以将其类比为django里面的makemigrations和migrate相关的命令，简单来说，其管理数据库版本，进行数据库迁移工作。随着我们对于数据库操作的使用频繁，我相信读者就会开始慢慢感受到数据库迁移管理的必要性，实际上我相信读者会从一开始不愿意将这些东西加入代码版本控制，到后来开始主动要将其加入代码版本控制。</p>
<p>更多关于alembic的使用请参看官方文档，下面就一些基本的使用概念说一下。</p>
<h2 id="_1">基本使用</h2>
<h3 id="alembic">初始化alembic项目</h3>
<div class="highlight"><pre><span></span><span class="err">alembic init alembic</span>
</pre></div>
<p>然后当前目录下会多一个 <code>alembic.ini</code> 文件，这个配置文件里面有很多重要的配置，其中 <code>sqlalchemy.url</code> 是必配的。</p>
<h3 id="modelspy">根据models.py来</h3>
<p>类似于django的 models.py 文件里面定义一些模型，我们利用sqlalchemy模块也可以定义一些模型文件，然后根据这个模型文件的定义，我们可以利用alembic来自动根据你的数据库的一些更改：</p>
<div class="highlight"><pre><span></span><span class="err">alembic revision --autogenerate -m "add_some_key"</span>
</pre></div>
<p>你需要定义好 alembic 文件下的 <code>env.py</code> 里面的 target_metadata 这个变量：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">myapp …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/pandasmo-kuai.html">pandas模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-01T00:00:00+08:00">2018年 7月 1日
                                        </time>
                                    </div>
                                </section>
                                
<p>本文对pandas模块的一些核心概念进行说明。</p>
<h2 id="_1">基本入门</h2>
<p>pandas最核心的两个数据结构就是 Series 类和 DataFrame 类。其中DataFrame可能会用的偏多一点，Series相当于一维情况下较简单的DataFrame，有的时候会用到。本文重点讨论DataFrame类。</p>
<p>DataFrame之所以很常用是因为这种数据结构太常见了，在excel中，在csv中，在sql中，等等来源的数据都可以汇总成为DataFrame数据结构，然后进行一些后面必要的数据处理，包括送入机器学习或者深度学习的模型中去。</p>
<h2 id="_2">读写文件支持</h2>
<p>pandas的io子模块写得很便捷，实际上我经常看到有些python程序员并不是在做数据处理，有时都会调用下pandas的io来做一些读写操作。</p>
<p>其大体有这些函数：</p>
<ul>
<li>read_csv    to_csv</li>
<li>read_json   to_json</li>
<li>read_html to_html</li>
<li>read_excel to_excel</li>
<li>read_sql to_sql</li>
</ul>
<p>这其中，html的读写在网络抓取上有时可能有用，但不是很强大，还是推荐用专门的工具来做，sql的操作简单点可以用pandas那边的接口，但如果稍微复杂点还是推荐用sqlalchemy来做，这样写出来的代码可读性更好一些，orm层接口也更便捷写，代码里面全是一大堆sql语句，总不是太好的。</p>
<h3 id="csv">读csv文件</h3>
<p>实际上我们可能更常遇到的是txt文件，还是用 read_csv 函数来读，只是需要做一些额外的配置，比如 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/airflow-module.html">airflow模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#linux-ref">linux
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-24T00:00:00+08:00">2018年 6月 24日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>airflow和luigi模块相比有以下优点：</p>
<ol>
<li>通用的DAG概念来描述工作流，更专业点。</li>
<li>集成系统的crontab从而支持周期性任务，这样airflow就只能在linux系统下运行了。</li>
<li>图形界面很美观，功能更强大。</li>
</ol>
<p>老实说我不喜欢crontab，如果只是简单调度，用apscheduler或者之类的工具简单写下就能集成到你的软件系统中去，而再复杂点的工作流，任务流程等等管理，都推荐使用airflow这样的框架来管理。</p>
<p>而至于说到大数据上的那些流式数据处理工具，实际上只有百分之几的公司因为业务需要必须上大数据，大部分公司是没必要上大数据的，因为大数据引入了太多的复杂度了，如果没有必要，而仅仅追求时髦去玩大数据，那显然是违背我们程序界公认的KISS原则的【Keep it simple and stupid.】。</p>
<h3 id="airflow">安装airflow</h3>
<div class="highlight"><pre><span></span><span class="err">pip install apache-airflow</span>
</pre></div>
<h3 id="_2">推荐起步</h3>
<p>推荐 项目工作目录下 <code>.env</code> 文件下写上：</p>
<div class="highlight"><pre><span></span><span class="err">export AIRFLOW_HOME=.</span>
</pre></div>
<p>这样使用pipenv或者其他工具在当前目录激活工作环境的时候，也自动激活了airflow在当前目录下工作的配置。这样我们airflow相关works配置的相关代码都放在这里。</p>
<p>激活虚拟环境后，然后我们有如下操作：</p>
<h3 id="_3">初始化数据库</h3>
<div class="highlight"><pre><span></span><span class="err">airflow initdb</span>
</pre></div>
<h3 id="webserver">启动webserver</h3>
<div class="highlight"><pre><span></span><span class="err">airflow webserver</span>
</pre></div>
<h2 id="_4">使用其他数据库</h2>
<p>刚开始玩下sqlite3数据库 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/makefileni-bu-lai-yi-fa-ma.html">makefile你不来一发吗
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#linux-ref">linux
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-18T00:00:00+08:00">2018年 6月 18日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="makefile">简单了解下makefile</h2>
<p>makefile一般只能在Linux环境下运行，更确切来说要有gnu make这个工具去运行Makefile这个文件。</p>
<p>makefile里面内容其实很丰富的，实际上甚至有点过于复杂了。不过有的时候只是简单使用其基本功能还是很便利的。</p>
<div class="highlight"><pre><span></span><span class="nv">project</span><span class="o">=</span>helloworld
<span class="nv">cflags</span><span class="o">=</span>-g -Wall  <span class="si">${</span><span class="nv">CCFLAGS</span><span class="si">}</span>

<span class="nf">${project}</span><span class="o">:</span> 
    <span class="si">${</span><span class="nv">CC</span><span class="si">}</span>  helloworld.c -o <span class="nv">$@</span> <span class="si">${</span><span class="nv">cflags</span><span class="si">}</span>

<span class="nf">clean</span><span class="o">:</span>
    rm <span class="si">${</span><span class="nv">project</span><span class="si">}</span>

<span class="nf">install</span><span class="o">:</span>
    cp <span class="si">${</span><span class="nv">project</span><span class="si">}</span> /usr/local/bin

<span class="nf">uninstall</span><span class="o">:</span>
    rm /usr/local/bin/<span class="si">${</span><span class="nv">project</span><span class="si">}</span>

<span class="nf">.PHONY</span><span class="o">:</span>
    clean uninstall install
</pre></div>
<p>为了便于理解，上面这个makefile我有意采用了一种和bash shell接近的风格。前面 <code>project=</code> 就是一个定义变量的行为。这个project变量就是本脚本的名字。然后makefile下面的主体部分格式如下:</p>
<div class="highlight"><pre><span></span><span class="nf">target</span><span class="o">:</span> <span class="n">prerequisites</span>
    the <span class="nb">command …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/docker.html">docker
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#linux-ref">linux
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-14T00:00:00+08:00">2018年 6月 14日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>关于docker是什么请参看 <a href="https://docker_practice.gitee.io/introduction/what.html">这个网页</a> ，说docker将改变软件生态确实是不为过的。老实说在接触docker之后感觉之前学到的很多东西，比如linux系统相关的一些，ansible等等部署工具相关的一些，virtualbox和 vagrant相关的一些，都在慢慢过时和淘汰了。当然那些工具还是很有用的，说他们被淘汰了是有点过了，更确切来说，对于一般玩家来说，可以节省更多的精力和时间，而不需要折腾那些工具那些配置学习折腾个老半天了。</p>
<blockquote>
<p>That‘s why we love docker.</p>
</blockquote>
<p>但实际上docker带来的变化远远不止于只是一个可以节省开发者做某些事情的时间的一个不错的工具那么简单，其伴随着SPPS，软件即服务，更确切来说整个互联网的大背景下，应运而生的。与之相应的，开发者们顺应这个时代，在编码，软件应用的很多方面，都需要做出改变。请读者进一步阅读 https://12factor.net/zh_cn/ 里面的讨论。</p>
<p>实际上之前我折腾vagrant的时候，就很是认同这个理念： 那就是开发，测试，生产一致的环境，彻底解决，在这里可以运行，在这里就不行了的问题。而vagrant的控制virtualbox创建虚拟机的方式，在我看来显得略微笨拙了点，配置的繁琐，似乎并没有很好地解决这个问题 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/python-dateutilmo-kuai.html">python-dateutil模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-14T00:00:00+08:00">2018年 6月 14日
                                        </time>
                                    </div>
                                </section>
                                <p>一般能够使用python的内置模块datetime解决的问题或者简单写几个辅助函数就能解决的问题是没必要上 python-dateutil 模块的，但有的时候某些问题，上python-dateutil模块会非常的方便，然后我发现好多有名的模块都默认安装这个模块了。</p>
<h2 id="relativedelta">relativedelta</h2>
<p>某些问题，用datetime的replace将某个值设为0或者什么值，或者用timedelta来减去什么值，大部分都能解决，但有的时候，比如跨月份涉及到要考虑天数不等或者其他等等问题，用relativedelta还是很方便的。</p>
<p>总的说来涉及到datetime的某个跨度的计算问题，还是推荐使用 relativedelta函数。</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
<span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
<span class="n">sdt</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">months</span><span class="o">=</span><span class="n">months</span><span class="p">)</span>
</pre></div>


<h2 id="rrule">rrule</h2>
<p>虽然没有lrule，但根据上面的relativedelta配置的起始时间，然后指定结束时间，通过rrule函数来生成一个时间区间，有时是很方便的。</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dateutil.rrule</span> <span class="kn">import</span> <span class="n">rrule</span><span class="p">,</span> <span class="n">MONTHLY</span>
<span class="nb">list</span><span class="p">(</span><span class="n">rrule</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="n">MONTHLY</span><span class="p">,</span> <span class="n">dtstart</span><span class="o">=</span><span class="n">sdt</span><span class="p">,</span> <span class="n">until</span><span class="o">=</span><span class="n">now …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/pythonpa-chong-zhi-zi-ti-fan-pa-chong.html">python爬虫之-字体反爬虫
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#other-ref">other
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-14T00:00:00+08:00">2018年 6月 14日
                                        </time>
                                    </div>
                                </section>
                                <p>在爬虫的时候，你分析网页会看到，某些东西看上去是乱码，其css设置了一种额外的字体。怎么破解里面的内容呢？</p>
<p>首先你需要把目标字体下载下来，通常这种字体有各种各样的名字，里面的具体字体codepoint也是随机的...</p>
<p>如果你下载一个fontcreator会看到具体哪个字对应哪个codepoint，而爬虫这边编码，我们需要使用python的 fonttools库来加载字体。</p>
<p>首先你需要下载好字体，保存好字体做好缓存工作。</p>
<p>见本文的参考资料2，然后就是利用 fonttools 模块加载目标字体。</p>
<div class="highlight"><pre><span></span><span class="err">font = TTFont(font_filename)</span>
</pre></div>


<p>然后就是分析这个字体的cmap tables的cmap数据，不同的字体似乎情况不同，这个要实际分析，由于fonttools这个模块文档较少，加上我对字体知识不太多，所以只能简单摸索下了。</p>
<div class="highlight"><pre><span></span><span class="err">font_mapping = font[&#39;cmap&#39;].tables[?].cmap</span>
</pre></div>


<p>如果你找到 font_mapping 了，字符 用python的 ord 函数处理下，就能得到目标字符的 unicode code point，也就是我们上面说的字体的code point，在这个 font_mapping 里面你会看到的，然后具体什么内容就出来了 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/shi-yong-cythonlai-jia-su-python.html">使用cython来加速python
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-14T00:00:00+08:00">2018年 6月 14日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">找到性能瓶颈所在</h2>
<p>首先需要确认脚本或者某个函数具体到底是哪里出现了性能瓶颈：</p>
<div class="highlight"><pre><span></span><span class="err">python -m cProfile test.py</span>
</pre></div>
<p>或者使用jupyter notebook 的timeit 功能，或者自己写 time计时。</p>
<p>目前我知道的循环结构提速很明显，然后指定静态类型会提速。</p>
<p>一般的python代码cython都是支持的，但一般我们是重点去开发那个限速的目标函数，而不会到处优化的。</p>
<p>参考资料1的例子，没有加速，N设置为3000，用时 53.301s，加速之后，用时4.186s。然后没有加速的那个exp运算了很多很多次，大概花了一两秒的样子，所以我们看到原始python代码在循环操作上开销很大。某些关键计算如果循环次数太多，那么就要考虑上c扩展优化了。</p>
<p>在做性能测试的时候有一类耗时较多的操作是不用考虑c代码优化的，这类耗时多的操作就是IO等待型操作，有的是等待数据库IO操作，有的是等待文件读写IO操作，有的是等待网络IO请求等等。这些请求很多都和socket套接字请求相关。</p>
<h2 id="pyx">pyx文件</h2>
<p>关于pyx文件的更多请查看cython的官方手册。</p>
<p>下面重点讲一下 python模块包的管理方案，推荐是利用 setuptools 来，</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/httpzhi-shi.html">http知识
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#html5-ref">html5
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-05-28T00:00:00+08:00">2018年 5月 28日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="http">HTTP知识</h2>
<h2 id="url">URL结构</h2>
<p>URL结构如下:</p>
<div class="highlight"><pre><span></span><span class="c">scheme:[//[user:password@]host[:port]][/]path[?query][#fragment]</span>
</pre></div>
<p>其中:</p>
<ul>
<li><strong>scheme:</strong> 描述访问服务器的协议，也就是如何获取该资源，最常见的是http，此外还有ftp等。</li>
<li><strong>user:password:</strong> 这里用于http认证</li>
<li><strong>host:</strong> 那里获取资源</li>
<li><strong>port:</strong> 连接端口号是多少</li>
<li><strong>path:</strong> 具体访问该资源的path</li>
<li><strong>query:</strong> 其他额外参数</li>
<li><strong>fragment:</strong> 片段，为client使用。还有一个params不太常用。</li>
</ul>
<p>URL是只支持ascii字符表示的，其他的字符要经过utf-8编码操作。具体转义字符是 <code>%</code> ，比如空格SPACE，具体在URL中的表示就是 <code>%20</code> 。即使是ascii里面，也有一些字符需要转义，然后比如中文字符等，也需要如此utf-8编码和转义。比如 "书"</p>
<div class="highlight"><pre><span></span><span class="err">    &gt;&gt;&gt; '书'.encode('utf-8')</span>
<span class="err">    b'\xe4\xb9 …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/html5dai-ma-gui-fan.html">html5代码规范
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#html5-ref">html5
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-05-26T00:00:00+08:00">2018年 5月 26日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="html5">html5代码规范</h1>
<p>本文参考了 <a href="http://codeguide.bootcss.com">这篇文章</a> 和 <a href="http://alloyteam.github.io/CodeGuide/">这篇文章</a> 还有 <a href="https://github.com/airbnb/javascript">aribnb的javascript规范</a> 。</p>
<p>需要指出的是这些都是一些代码建议，其中有一些还有点大头开蛋还是小头开蛋的意思，比如到底是空四个空格还是两个空格，这些有分歧的我就不写出来了，读者自行决定吧。</p>
<h2 id="_1">总的原则</h2>
<ol>
<li>无论团队人数多少，代码应该看起来就好像一个人写的。——这个原则为大家所公认。</li>
<li>文件名推荐是小写字母加下划线。（小写字母加连字符也是可以的，但是绝对不推荐带上空格）</li>
</ol>
<h2 id="html">html</h2>
<ol>
<li>
<p>缩进，这个一个好的编辑器会提供这个自动缩进功能的。</p>
</li>
<li>
<p>属性名全部小写，用 <code>-</code> 隔开。</p>
</li>
<li>
<p>属性的定义用 <strong>双引号</strong> 包围起来。</p>
</li>
<li>
<p><code>&lt;hr&gt;</code> <code>&lt;img src=...&gt;</code> 这样的不用后面加个 <code>/</code> 号了。</p>
</li>
<li>
<p>关闭标签不要省略 <code>&lt;li&gt;...&lt;/li&gt;</code>  这是没有疑问的。</p>
</li>
<li>
<p>开头格式都是： <code>&lt;!DOCTYPE html&gt;</code> </p>
</li>
<li>
<p>语言指定遵循规范 ，<code>&lt;html lang="zh-cn"&gt;</code> </p>
</li>
<li>
<p>字符编码推荐指定utf8，<code>&lt;meta charset="utf-8"&gt;</code> </p>
</li>
<li>
<p>IE兼容模式，推荐加上这样一行 …</p></li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/pycharm-webstrom-editor.html">pycharm和webstrom编辑器使用技巧
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#tools-ref">tools
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-03-13T10:27:00+08:00">2018年 3月 13日
                                        </time>
                                    </div>
                                </section>
                                
<p>一般的操作就不多说了，下面主要说一些略显高级的技巧。</p>
<h2 id="_1">直接上传文件到服务器</h2>
<p>其实原理就是利用sftp上传，但在pycharm这个大环境下，确实有时很方便的。这个功能只在pycharm专业版下才有。</p>
<div class="highlight"><pre><span></span><span class="err">Tools -&gt; Deployment -&gt; configuration</span>
</pre></div>
<p>主要是某些需要在服务器上频繁测试的工作，但是有不方便git频繁commit的情况，这个时候可以先测试好，在git推送。</p>
<h2 id="python">设置环境为远程python解释器</h2>
<p>在：</p>
<div class="highlight"><pre><span></span><span class="err">Settings -&gt; Project -&gt; Project Interpreter</span>
</pre></div>
<p>哪里，可以利用pycharm新建一个本地的虚拟环境，或者用pipenv建立环境之后，pycharm会自动找到，从而利用已经存在的python虚拟环境，而这里要讲的是，你还可以设置解释器环境为远程服务器的python环境，这样你的开发调试将更加接近程序实际运行时的环境。</p>
<p>在：</p>
<div class="highlight"><pre><span></span><span class="err">Tools -&gt; Start SSH session...</span>
</pre></div>
<p>你可以在terminal哪里打开一个连接到远程服务器的ssh终端，加上上面的设置好文件upload功能，基本上你不需要使用另外一个额外的ssh终端连接程序了。</p>
<p>本部分讨论的都是基于ssh连接的，你需要在：</p>
<div class="highlight"><pre><span></span><span class="err">Tools -&gt; Deployment -&gt; Configuration</span>
</pre></div>
<p>哪里设置好ssh server 的连接方式。</p>
<h2 id="_2">正则表达式替换</h2>
<p>按下路径替换之后，可能有些复杂点的任务需要做正则表达式替换，正则表达式大家都很熟悉了，这里就不多说了，主要是group替换的时候 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/learning-gunicorn.html">学习gunicorn
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#linux-ref">linux
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-03-12T00:00:00+08:00">2018年 3月 12日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<p>gunicorn 挂载python的 wsgi 服务还是不错的，多进程多线程支持，大大提升服务性能。</p>
<h2 id="_2">配置</h2>
<p>配置可以就是一个python文件，然后大体内容如下：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">cpu_count</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">environ</span>

<span class="k">def</span> <span class="nf">max_workers</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">cpu_count</span><span class="p">()</span>


<span class="n">bind</span> <span class="o">=</span> <span class="s1">'127.0.0.1:8000'</span>
<span class="n">max_requests</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="n">worker_class</span> <span class="o">=</span> <span class="s1">'gevent'</span>
<span class="n">workers</span> <span class="o">=</span> <span class="n">max_workers</span><span class="p">()</span>
</pre></div>
<p>写上这么一个python文件之后，启动gunicorn挂载django服务大体如下：</p>
<div class="highlight"><pre><span></span><span class="err">gunicorn -c gunicorn_config.py youapp.wsgi</span>
</pre></div>
<p>其他配置还有：</p>
<ul>
<li>pidfile</li>
<li>reload 代码改变之后自动reload，这个前期开发会很有用</li>
<li>accesslog access日志所在地</li>
<li>errorlog …</li></ul>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/fire-module.html">fire模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-02-22T15:25:00+08:00">2018年 2月 22日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>初次接触 <a href="https://github.com/google/python-fire">fire模块</a> 就不自觉的和 <a href="https://github.com/pallets/click">click模块</a> 进行对比，老实说我一开始还真不太相信这是google团队的作品，google团队的产品会这么简洁，不过毕竟后面写着 ： <code>This is not an official Google product.</code></p>
<p>首先说下fire模块的优点，这个初步了解一下优点是很明显的： 可以让你少写点代码。作为一个程序员最大的愿望是什么： 少写点代码就能把事办成了。当然继续往下说，fire模块可以让你的代码更简洁，现在真的一个python脚本就是一个命令行工具了，一句废话都没有了，包括函数类里面的文档定义都是有用的。就作为一般最简单的命令行需求，我是推荐fire模块的。</p>
<p>但是fire模块目前github上 commit很少，版本号也才 0.1.2，可能模块还有很多不稳定或者bug都是可能的，如果读者在项目需求上只是一两个python脚本需要做成命令行工具，我还是推荐click模块。如果读者有大量的python脚本转成命令行工具的需求，这在目前数据处理工作越来越多的大环境（实际上我怀疑这也是他们开发fire模块的初衷），那么使用fire模块无疑是能省点力气的，毕竟当初人们觉得click模块方便那也是只是相对于写一个命令行工具而言，现在情况确实有所不同了。</p>
<div class="highlight"><pre><span></span>pip install fire
</pre></div>
<p>官方文档已经说的很详细了，本身使用是很简单的，下面我随便说说吧。</p>
<h2 id="_2">第一个例子 …</h2>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/learning-centos7-system.html">学习centeos7系统
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#linux-ref">linux
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-02-19T00:00:00+08:00">2018年 2月 19日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">安装系统</h2>
<p>centos7的安装目前最大的难点在硬盘分区上，加上新生代的uefi启动方式，还是有些新的问题需要讨论的。</p>
<p>记得以前早起折腾ubuntu系统时，最大的一个影响就是需要给linux系统安装预先分出一个swap分区，大约是内存的两倍，当时还不太懂这个有什么，按照 鸟哥的私房菜   一章的描述， 服务器一般内存都十几G-64G的内存，就不能按照这个公式来了，总之，分出3-4Gswap分区意思一下就可以了。</p>
<h3 id="linux">各个硬件在linux下的名字</h3>
<p>这个需要了解下，参考 <a href="http://linux.vbird.org/linux_basic/0130designlinux.php">鸟哥的私房菜第二章</a> ，</p>
<ul>
<li>硬盘或者USB模拟的硬盘 ：   /dev/sd[a-p]</li>
<li>CDROM或者DVDROM :  /dev/scd[0-1] , /dev/cdrom（当前cdrom） , /dev/sr[0-1]</li>
<li>打印机 ： /dev/lp[0-2] , /dev/usb/lp[0-15]</li>
<li>鼠标 ： /dev/input/mouse[0-15] , /dev/mouse (当前鼠标)</li>
</ul>
<h3 id="uefi">UEFI …</h3>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/pipenv-module.html">pipenv模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-02-14T11:45:00+08:00">2018年 2月 14日
                                        </time>
                                    </div>
                                </section>
                                
<p>pipenv模块刚开始听说觉得virtualenv够用了，就没太在意。后来一试发现真的可以，很方便的，在设计理念上和nodejs那边的包管理有点接近了，很不错。</p>
<p>刚进入一个文件夹，然后运行：</p>
<div class="highlight"><pre><span></span>pipenv install
</pre></div>
<p>当然运行前你需要：</p>
<div class="highlight"><pre><span></span><span class="err">pip install pipenv</span>
</pre></div>
<p>其会创建 <code>Pipfile</code> 和 <code>Pipfile.lock</code> 这两个文件。如果读者有点熟悉nodejs那边的包管理机制，就对这两个文件的作用不需要做过多的说明了。</p>
<p>那么怎么激活进入虚拟环境呢：</p>
<div class="highlight"><pre><span></span><span class="err">pipenv shell</span>
</pre></div>
<p>或者你直接调用虚拟环境下运行某个命令：</p>
<div class="highlight"><pre><span></span><span class="err">pipenv run you_awesom_command</span>
</pre></div>
<p>读者打开 <code>Pipfile</code> 文件会发现这一行</p>
<div class="highlight"><pre><span></span><span class="err">url = "https://pypi.douban.com/simple"</span>
</pre></div>
<p>以前还要在系统的另外的地方去配置，现在直接在这里修改就可以了。</p>
<p>然后安装模块就是：</p>
<div class="highlight"><pre><span></span><span class="err">pipenv install requests</span>
</pre></div>
<p>或者remove模块：</p>
<div class="highlight"><pre><span></span><span class="err">pipenv uninstall requests</span>
</pre></div>
<p>值得注意的pipenv模块很好地解析的各个包包的依赖关系，这就是他比原 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/pillow-module.html">pillow模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#python-ref">python
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-02-06T12:04:00+08:00">2018年 2月 6日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<p>pillow模块的前身是PIL模块，其有更好的github和pypi支持，所以简单的安装就可以通过pip命令安装之即可。不过pillow模块对于某些特殊格式的图片处理支持可能依赖于系统的一些额外的图形处理模块，比如libjpeg，libtiff等。可能你的系统已经安装了，也可能没有，根据具体情况来，这里就不一一讨论了。</p>
<p>安装官方文档的叙述（also reference <a href="http://askubuntu.com/questions/427358/install-pillow-for-python-3">this</a> ），下面这些可能需要装上。</p>
<div class="highlight"><pre><span></span>sudo apt-get install python3-dev python3-setuptools
sudo apt-get install libtiff4-dev libjpeg8-dev zlib1g-dev <span class="se">\</span>
    libfreetype6-dev liblcms2-dev libwebp-dev tcl8.5-dev tk8.5-dev
</pre></div>
<h3 id="_2">测试安装情况</h3>
<p>可以如下找个图片简单测试一下安装情况:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"test.jpg"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">format</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">size …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://a358003542.github.io/articles/statistics-tutorial.html">统计学入门
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://a358003542.github.io/categories.html#algorithm-ref">algorithm
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-02-06T00:00:00+08:00">2018年 2月 6日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">均值中位数众数</h2>
<ul>
<li><strong>mean</strong> 也就是均值，也就是算术平均数，也就是大家熟知的把所有的数加起来然后除以个数，看看这些数平均有多大。</li>
<li><strong>median</strong> 中位数，是这样的概念：如果我们把一组数从小到大排列，然后最中间的那个数就是中位数。其中最中间的解释是，如果一共有奇数个数字，那么去掉一个最小去掉一个最大，这样类推，最后剩下来的那个数就是中位数；如果一共有偶数个数字，那么最后会剩下两个数字，而中位数就是最后这两个数字的均值。</li>
<li><strong>mode</strong> 众数，也就是这一组数中出现频率最高或者说分布最多的数。比如说[1,2,2,3]这样一个样本，其中数字2出现次数最多，我们就说这个样本的众数为2。</li>
</ul>
<h3 id="_2">统计意义</h3>
<p>平均值的概念是大家最熟悉的，其是最基本的统计学手段。比如物理学上的测量，为了精确总是需要多次测量取平均值。再比如我们衡量某一类数据的大致平均情况，比如你的考试平均成绩，通过这个平均成绩可以大致得到你对待本学期学业的态度等。</p>
<p>中位数和均值一样也能考察样本总体存在状态，不过区别是中位数对一些极值（特殊的偏离特别远的值）不敏感。以收入来举例子：某些人的收入特别的高，那么如果你用均值来考察社会的收入水平就会有抬高的嫌疑。因为不同的家庭之间的收入并没有共享，但是你在计算中却一并考虑了。这个时候用中位数来考察能更加合理地看着社会总体的收入水平。因此考察家庭平均收入要用中位数。</p>
<p>众数只关注出现次数最多的数 …</p>
                            </article>

 <nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://a358003542.github.io/index2.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://a358003542.github.io/index4.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
                     </div>
                </div>
            </div>
    </div>

    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>


<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="http://docs.cdwanze.work" title="cdwanze Home Page">cdwanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://a358003542.github.io/theme/js/jquery.min.js"></script>
    <script src="https://a358003542.github.io/theme/js/bootstrap.min.js"></script>
    <script>
        function validateForm(query) {
            return (query.length > 0);
        }
    </script>

    <script>
        function adjust_search_width() {
            var w = document.documentElement.clientWidth;
            if ((w > 755) && (w < 975)) {
                plus_width = w - 755;
                $('.navbar-form .form-control').outerWidth(210 + plus_width);
            } else if (w >= 975) {
                $('.navbar-form .form-control').outerWidth(210 + 220);
            } else if (w <= 755) {
                $('.navbar-form .form-control').css('width', '100%')
            }
        }

        function adjust_markdown_css(){
            $('table').addClass('table');
            $('table').addClass('table-striped');
        }

        $(document).ready(function () {
            adjust_search_width();
            adjust_markdown_css();
        });

        window.onresize = function () {
            adjust_search_width();
        }

    </script>


    <script>
        (function ($) {
            // custom css expression for a case-insensitive contains()
            jQuery.expr[':'].Contains = function (a, i, m) {
                return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
            };

            function listFilter() {

                $('#findtag')
                    .change(function () {
                        var filter = $(this).val();
                        if (filter) {
                            // this finds all links in a list that contain the input,
                            // and hide the ones not containing the input while showing the ones that do
                            $('.list-of-tags').find("a:not(:Contains(" + filter + "))").parent().hide();
                            $('.list-of-tags').find("a:Contains(" + filter + ")").parent().show();
                        } else {
                            $('.list-of-tags').find("li").show();
                        }
                        return false;
                    })
                    .keyup(function () {
                        // fire the above change event after every letter
                        $(this).change();
                    });
            }

            //ondomready
            $(function () {
                listFilter($());
            });
        }(jQuery));

    </script>

    <script>
        $(function () {
            //点击回到顶部的元素
            $("#gotop").click(function (e) {
                //以1秒的间隔返回顶部
                $('body,html').animate({scrollTop: 0}, 1000);
            });
        });
    </script>

    <script>
        $('.page-header').hover(function () {
            $(this).css("color", '#3875d7')
        }, function () {
            $(this).css('color', '#8B0000')
        })
    </script>


    <script>
        $(document).ready(function () {
            $('a.slowscroll').click(function (event) {
                var $anchor = $(this);
                $('html, body').animate({scrollTop: $($anchor.attr('href')).offset().top}, 1500);
                event.preventDefault();
                // $('a.slowscroll').parent().removeClass('active');
                // $('.navbar-header').hide();
                // $anchor.parent().addClass('active');
            })
        })
        console.log('document init...')
    </script>




</body>
</html>