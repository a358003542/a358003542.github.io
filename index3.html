<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="baidu-site-verification" content="D4VqC4HppC"/>
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="cdwanze"/>
        <meta name="copyright" content="cdwanze"/>

            <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

        <meta property="og:title" content="cdwanze的博文"/>
        <meta name="twitter:title" content="cdwanze的博文">
    <meta property="og:url" content="https://docs.cdwanze.work"/>
    <meta property="og:site_name" content="cdwanze的博文"/>
    <meta property="og:article:author" content="cdwanze"/>
    <title>
    cdwanze的博文
</title>


        <link href="https://docs.cdwanze.work/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://docs.cdwanze.work/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/pygments.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/elegant.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/custom.css" media="screen">






</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://www.cdwanze.work"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://docs.cdwanze.work/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li  class="active">
                    <a href="https://docs.cdwanze.work">博文首页</a></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle"
                           data-toggle="dropdown" role="button"
                           aria-haspopup="true" aria-expanded="false">查找文章<span
                                class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="slowscroll" href="/categories.html">按分类</a>
                            </li>
                            <li><a class="slowscroll" href="/tags.html">按标签</a>
                            </li>
                        </ul>
                    </li>


                        <li >
                            <a href="https://docs.cdwanze.work/guan-yu-ben-wang-zhan.html">关于本网站</a>
                        </li>
                        <li >
                            <a href="https://docs.cdwanze.work/gong-gao.html">公告</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">


    <style>
        article {
            border: 1px solid #aaa;
        }

        section {
            padding: 1em;
        }

        article > p {
            padding-left: 0.5em;
            padding-right: 0.5em;
        }

        #gotop {
            position: fixed;
            right: 12%;
            float: right;
            top: 50%;
        }

        @media screen and (max-width: 600px) {
            #gotop {
                display: none;
            }
        }
    </style>

    <button id="gotop" type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
    </button>



    <div class="row">

        <div class="row">
         </div>

             <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <header>
                        <h1 id="recent-posts">最近博文
                            <a id="allposts" href="https://docs.cdwanze.work/archives.html">所有博文</a>
                        </h1>
                    </header>


                    <div class="recent-posts">
<nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://docs.cdwanze.work/index2.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://docs.cdwanze.work/index4.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
 
                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wxpython-talk-two.html">wxpython第二谈
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#wxpython-ref">wxpython
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-10-19T00:00:00+08:00">2018年 10月 19日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">动态多组件切换</h2>
<p>用boxsizer来挂载一些面板，然后隐藏一些面板，并显示初始你想要显示的那个panel。Add, Show Hide 等方法来操作，最后注意Layout一下，这是基本功了。</p>
<p>这里值得一提的是，如果你只是本panel基本的Layout，那么多个panel切换父panel给那些子panel的size都是一致的，因为你的子panel各个size大小不同，如果你动态切换需要更好的效果，那么应该调用父panel的Layout。</p>
<h3 id="panel">某个子Panel的重写</h3>
<p>一些参数的变化，你的子panel需要重写，这个时候推荐使用box的Replace方法：</p>
<div class="highlight"><pre><span></span>        <span class="n">old_panel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">category_sp2_panel</span>
        <span class="n">new_panel</span> <span class="o">=</span> <span class="n">CategorySPInnerPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_list</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">box</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">old_panel</span><span class="p">,</span> <span class="n">new_panel</span><span class="p">)</span>
        <span class="n">old_panel</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category_sp2_panel</span> <span class="o">=</span> <span class="n">new_panel</span>
</pre></div>
<p>大体过程如上，实际切换推荐采用如下写法：</p>
<ol>
<li>首先隐藏box所包含的所有子面板：</li>
</ol>
<div class="highlight"><pre><span></span>    <span class="nv">def</span> <span class="nv">hide_all_panel</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">for</span> <span class="nv">panel</span> <span class="nv">in</span> <span class="nv">self</span>.<span class="nv">box</span>.<span class="nv">GetChildren …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wxpython-style-guide.html">wxpython编码风格推荐
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#wxpython-ref">wxpython
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-10-10T00:00:00+08:00">2018年 10月 10日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">基本建议</h2>
<ol>
<li>使用</li>
</ol>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">wx</span>
</pre></div>
<p>不要使用 <code>from what import *</code> 这样的引入语法。</p>
<ol>
<li>使用 size=(500,400)，不推荐使用 wx.Size ，这个提法是 <a href="https://wiki.wxpython.org/wxPython%20Style%20Guide">这个网页</a> 说的，可能会有点争议性，他说简单比复杂好。因为点就x, y两个值，所以就目前个人使用来说，确实直接用数组对会方便点，而且在编码的时候，具体size参数实际上已经指明了第一个参数是x，第二个参数是y了。</li>
<li>凡是面板都应该子类化，然后面板类的各个控件可以被面板管理。这个不是说要全部这样做，但这样做的好处很多。面板类的控件可管理，对你的后续管理操作编码带来很多便利，而面板的子类化是大型GUI程序的必然道路。</li>
<li>多个按钮推荐使用 <code>StdDialogButtonSizer</code> ， TODO ，后面我个人使用体验之后再讨论几句。</li>
</ol>
<div class="highlight"><pre><span></span>    <span class="n">okButton</span> <span class="o">=</span> <span class="n">wx</span><span class="p">.</span><span class="n">Button</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="n">wx</span><span class="p">.</span><span class="n">ID_OK</span><span class="p">,</span> <span class="ss">"&amp;OK"</span><span class="p">)</span>
    <span class="n">okButton</span><span class="p">.</span><span class="n">SetDefault</span><span class="p">()</span>
    <span class="n">cancelButton</span> <span class="o">=</span> <span class="n">wx …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/suan-fa-fu-za-du.html">算法复杂度
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#suan-fa-ref">算法
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-10-06T00:00:00+08:00">2018年 10月 6日
                                        </time>
                                    </div>
                                </section>
                                
<p>一般讨论算法复杂度主要关注的是算法的时间复杂度，而真到了该思考算法的时间复杂度了，那么这时目标算法将应对的是一个输入规模n很大的情况。人们常说的大O表示法将一些细枝末节的东西都省略了的，因为输入规模n很大，还关心那多出来的几步是没有意义的。</p>
<p>所以我们更多的是专注于算法中的循环部分，而对于循环部分，若循环次数和输入规模无关，则记为O(1) 常数运行时间。</p>
<p>如果我们遇到了如下的循环：</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
<p>这个循环和输入规模n相关，我们记作 O(n) 线性运行时间。</p>
<p>假设一个算法里面又有上面提到的O(1) ，又有上面的O(n) ，那么我们应该将O(1) 项去掉：</p>
<ul>
<li>如果运行时间是一个多项式的和，那么保留增长速度最快的项，去掉其他各项</li>
</ul>
<p>那么上面提到的算法复杂度就可简单记为 O(n) 。</p>
<p>又假设有个算法，有两个这样的循环：</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wxpython-basic-window-gallery.html">wxpython基础窗体一览
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#wxpython-ref">wxpython
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-09-21T00:00:00+08:00">2018年 9月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<h3 id="_2">最基本的窗体</h3>
<p>这些基本的窗体一般不会直接使用。</p>
<p>wx.Window wx.Control wx.ControlWithItem</p>
<h3 id="_3">顶层窗体</h3>
<p>wx.PopupWindow wx.ScrolledWindow wx.Frame wx.MDIParentFrame wx.MDIChildFrame wx.Dialog</p>
<h3 id="_4">可以包含其他窗体的窗体</h3>
<p>wx.ScrolledWindow wx.Panel wx.SplliterWindow wx.Notebook</p>
<h3 id="_5">一般动态窗体</h3>
<p>动态窗体可被用户编辑。</p>
<p>wx.ToggleButton wx.CheckBox wx.TextCtrl wx.SpinCtrl ....</p>
<h3 id="_6">一般静态窗体</h3>
<p>不可被用户编辑。</p>
<p>wx.StaticBox wx.StaticText wx.StaticLine wx …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-the-new-f-string.html">python新的f-string
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-31T00:00:00+08:00">2018年 8月 31日
                                        </time>
                                    </div>
                                </section>
                                <p>现在python3版本迭代很快的，除了python3.4新加入的asyncio让我很是关心，最近还是接触一个新的f-string，是python3.6加入进来了。一开始对字符串前面加个f很是困惑，python2的时候字符串前面有u什么的，python3之后基本上字符串前面没什么东西了。但这次新加入的f-string，在初步使用之后就停不下来了，真的太好用了。</p>
<p>基本情况如下：</p>
<p>python新的format字符串</p>
<div class="highlight"><pre><span></span><span class="n">f</span><span class="ss">&quot;hello. {name}&quot;</span>
</pre></div>


<p>等价于</p>
<div class="highlight"><pre><span></span><span class="ss">&quot;hello. {name}&quot;</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
</pre></div>


<p>一个变量还好，多个变量的时候这种f-string的写法的好处就很明显了，当时环境下你前面已经定义好的变量名是可以直接使用的，我只能用一句话来形容，太好用了，用上了你就会停不下来。</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/logbook-module.html">logbook模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonhao-huo-ban-ref">python好伙伴
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-27T00:00:00+08:00">2018年 8月 27日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>logbook似乎是个不错的模块可以改进我们的日志功能，可以看做系统logging模块的第三方升级版，但还是有很多地方不同的。</p>
<p>一开始我接触的最大的不同就是logbook官方文档并不推荐将某个handler注册在某个logger的那种做法，logbook的handler可以注册在整个线程或者整个进程上。或者我们看到官方文档的第一个例子是这种写法：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">logbook</span> <span class="kn">import</span> <span class="n">warn</span><span class="p">,</span> <span class="n">StreamHandler</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span><span class="o">.</span><span class="n">push_application</span><span class="p">()</span>
<span class="n">warn</span><span class="p">(</span><span class="s1">'This is a warning'</span><span class="p">)</span>
</pre></div>
<p>或者写作：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">logbook</span> <span class="kn">import</span> <span class="n">warn</span><span class="p">,</span> <span class="n">StreamHandler</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">log_handler</span> <span class="o">=</span> <span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="k">with</span> <span class="n">log_handler</span><span class="o">.</span><span class="n">applicationbound</span><span class="p">():</span>
    <span class="n">warn</span><span class="p">(</span><span class="s1">'This is too cool for stdlib'</span><span class="p">)</span>
</pre></div>
<p>这是单个注册在整个程序上的，此外还有 <code>threadbound</code> 是注册在整个线程上的。一般桌面GUI程序推荐注册在整个程序上 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wxpython-cookbooks.html">wxpython技巧大杂烩
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#wxpython-ref">wxpython
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-27T00:00:00+08:00">2018年 8月 27日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">只有一个程序实例在运行</h2>
<p>利用 <code>wx.SingleInstanceChecker</code> 很方便就可以做到这点，更多信息请参看文档的 <a href="https://wxpython.org/Phoenix/docs/html/wx.SingleInstanceChecker.html">这里</a> 。下面的做法是确保了操作系统某个用户只有一个程序实例在运行。</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">wx</span>

<span class="k">class</span> <span class="nc">SingleAppFrame</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Centre</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">SingleApp</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">OnInit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">"SingleApp-</span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetUserId</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SingleInstanceChecker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wxpython-talk-one.html">wxpython第一谈
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#wxpython-ref">wxpython
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-27T00:00:00+08:00">2018年 8月 27日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>本文假设读者已经熟悉某一种桌面图形开发了，比如说PyQt之类的，也就是基本的图形桌面开发概念读者是熟悉了，下面将言简意赅地就wxpython相关的特色核心概念说明之，然后后面就针对某些专门的问题专门讨论了。</p>
<p>首先说下安装，现在wxpython和pyqt5一样都已经进步了，都可以直接用pip安装了，而且linux下和windows都可以直接安装。</p>
<h2 id="sizeradd">Sizer.Add参数详解</h2>
<ul>
<li><code>Sizer.Add(item, 0 , wx.ALIGN_RIGHT, 0)</code>    右对齐布局，第一个参数proportion详细讨论在后面，第三个参数是设置border的宽度的。</li>
<li>Sizer.Add(item, 0, wx.ALIGN_CENTER, 0)  居中布局</li>
<li>Sizer.Add(item, 0, wx.EXPAND, 0) 扩展布局，（在vertical sizer里面水平扩展；在horizontal sizer里面垂直扩展）</li>
</ul>
<h3 id="proportion">proportion参数</h3>
<p>默认是0，0表示不缩放，我估计这样设置之后父窗体Layout，而子窗体将不会自动Layout。然后设置其他整数则是某种缩放比的意思。参考资料谈了一些缩放比的问题，暂时不是很关心这个 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/greedy-algorithm.html">贪婪算法
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#suan-fa-ref">算法
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-26T00:00:00+08:00">2018年 8月 26日
                                        </time>
                                    </div>
                                </section>
                                
<p>任何问题总可以通过暴力穷举算法求解，当然有些问题组合数情况太多了，尤其是某些问题，没有快速算法，即NP完全问题。那么可以试着用一些近似算法来快速找到一个近似解。贪婪算法就是其中的一个近似解。</p>
<p>贪婪算法并不是某种具体的算法，更像是写算法时的一种思路参考。如果你要解决问题，而该问题可以分解为多个步骤，那么你可以通过寻找每步的局部最优解，来<strong>近似</strong>得到目标问题的全局最优解。（贪婪算法并不保证你得到的解一定是全局最优解，但一般这个解是很靠近全局最优解了。）</p>
<p>对于一个问题，如果贪婪算法是有效的，那么一般贪婪算法就是解决这个问题最好的算法。</p>
<h2 id="_1">背包问题</h2>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Knapsack</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">items</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">items</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freespace</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span>

    <span class="k">def</span> <span class="nf">add_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">if …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-cookbook.html">python语言学习之-技巧大杂烩
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-02T00:00:00+08:00">2018年 8月 2日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="loggingpprint">在logging中使用pprint</h2>
<p>参考了 <a href="https://stackoverflow.com/questions/11093236/use-logging-print-the-output-of-pprint">这个网页</a> 。</p>
<p>有的时候logging的输出我们希望调用pprint从而输出打印更加美观些，可以调用pformat函数来达到这个效果：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span><span class="p">,</span> <span class="n">pformat</span>
<span class="n">ds</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">'hello'</span><span class="p">:</span> <span class="s1">'there'</span><span class="p">}]</span>
<span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">pformat</span><span class="p">(</span><span class="n">ds</span><span class="p">))</span>
</pre></div>
<h2 id="and-or-not">and or not的运算优先级</h2>
<p>一般是推荐用括号清晰表达，然后not我们知道优先级是最高的。我们再看下面这个例子:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">True</span> <span class="k">or</span> <span class="k">True</span> <span class="k">and</span> <span class="k">False</span>
<span class="k">True</span>
</pre></div>
<p>这个例子很好地说明了and和or的优先级顺序，具体就是 and的优先级比or的要高 。</p>
<h2 id="allany">all和any关键词</h2>
<p>这是python语言里面的关键词函数，源码很简单，下面列出来，看一下就清楚了:</p>
<div class="highlight"><pre><span></span><span class="nv">def</span> <span class="nv">all</span><span class="ss">(</span><span class="nv">iterable</span><span class="ss">)</span>:
    <span class="k">for</span> <span class="nv">element</span> <span class="nv">in</span> <span class="nv">iterable</span>:
        <span class="k">if</span> <span class="nv">not</span> <span class="nv">element</span>:
            <span class="k">return</span> <span class="nv">False</span>
    <span class="k">return …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/wsl.html">windows下的linux子系统
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#tools-ref">tools
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-08-02T00:00:00+08:00">2018年 8月 2日
                                        </time>
                                    </div>
                                </section>
                                <p>WSL 在windows10里面是个新概念，大体可以看做mingw或者cygwin的替代吧。随着windows对WSL开发更新，发现这个东西在某些时候是可以解决某些程序在linux下能跑在windows下不能跑的问题。</p>
<h2 id="wsl">WSL配置</h2>
<p>首先需要用管理员方式运行powershell，然后运行：</p>
<div class="highlight"><pre><span></span><span class="n">Enable</span><span class="o">-</span><span class="n">WindowsOptionalFeature</span> <span class="o">-</span><span class="n">Online</span> <span class="o">-</span><span class="n">FeatureName</span> <span class="n">Microsoft</span><span class="o">-</span><span class="n">Windows</span><span class="o">-</span><span class="n">Subsystem</span><span class="o">-</span><span class="n">Linux</span>
</pre></div>


<p>然后重启系统。这个必须做，否则wsl会提示错误。</p>
<p>然后进去了之后设置用户名和密码，这个没什么好说的，这里的用户名不一定是root。</p>
<p>然后在windows系统的 <code>Settings -&gt; Update and Security-&gt; For develops</code> 哪里打开 Devoloper Mode，不清楚为什么，但推荐做一下，参看的是 <a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10">官方文档的这里</a> 。</p>
<p>这样你在windows下输入bash就可以进入ubuntu系统了，</p>
<h2 id="ssh">ssh连接</h2>
<p><strong>NOTICE：</strong> 本小节可选项，可以不看。</p>
<p>主要就是修改 <code>/etc/ssh/sshd_config</code> 的一些配置，首先推荐把端口号改为 2222 或者什么的，因为windows系统现在外面可能还有个ssh服务会占用22端口 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/redis.html">redis
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#shu-ju-ku-ref">数据库
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-25T00:00:00+08:00">2018年 7月 25日
                                        </time>
                                    </div>
                                </section>
                                
<h3 id="redis">redis基础</h3>
<p>redis简单来说就是一个基于内存的k-v存储数据库，当然具体内容还是很丰富的，这个后面再慢慢详细讨论之。</p>
<p>就作为python接口和基本的 get set操作都是很直观简单的，这个就不多说了，至于具体数据类型，先知道字符串型即可，哦，对了，redis存储数字1也会变成字符串"1"的。</p>
<p>一个简单的获取redis的连接函数如下所示：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_redis_client</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">host</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">'redis'</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'host'</span><span class="p">,</span> <span class="s1">'localhost'</span><span class="p">)</span>
    <span class="n">port</span> <span class="o">=</span> <span class="n">settings</span><span class="p">[</span><span class="s1">'redis'</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'port'</span><span class="p">,</span> <span class="mi">6379</span><span class="p">)</span>

    <span class="n">redis_client</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="n">port</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">db</span><span class="p">,</span> <span class="n">decode_responses</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redis_client</span>
</pre></div>
<p>注意看 <code>decode_responses=True</code> ，加上的目的就是让python那边接受字符串不是bytes型，也是字符串型 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/xpath.html">xpath
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonpa-chong-ref">python爬虫
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-25T00:00:00+08:00">2018年 7月 25日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>基本东西简单了解下即可，然后多看例子吧。</p>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">what</span>   <span class="err">基本路径表达，下个节点</span>
<span class="o">//</span><span class="n">what</span>  <span class="err">基本路径表达，任意位置的下个节点</span>
</pre></div>
<p>这里 <code>/</code> 表示在下个节点中匹配， <code>//</code> 下个或所有子节点匹配。 </p>
<div class="highlight"><pre><span></span><span class="o">//</span><span class="n">div</span><span class="o">[</span><span class="n">@id='what'</span><span class="o">]</span><span class="w">   </span><span class="n">根据id定位</span><span class="w"></span>
<span class="o">//</span><span class="n">div</span><span class="o">[</span><span class="n">@id='what'</span><span class="o">]/</span><span class="n">a</span><span class="o">[</span><span class="n">1</span><span class="o">]</span><span class="w"> </span><span class="n">根据id定位后找下面的第一个a标签</span><span class="w"></span>
<span class="o">//</span><span class="n">div</span><span class="o">[</span><span class="n">@id='what'</span><span class="o">]/</span><span class="n">a</span><span class="o">[</span><span class="n">*</span><span class="o">]</span><span class="w"> </span><span class="n">根据id定位后找下面的所有a标签</span><span class="w"></span>
</pre></div>
<p>这里 <code>*</code> 表示所有的意思。</p>
<div class="highlight"><pre><span></span><span class="o">//</span><span class="n">div</span><span class="o">[</span><span class="n">@name</span><span class="o">]</span><span class="w">   </span><span class="n">找具有name属性的div标签</span><span class="w"></span>

<span class="o">//</span><span class="n">div</span><span class="o">[</span><span class="n">@name='what'</span><span class="o">]</span><span class="w"> </span><span class="n">找name属性等于what的div标签</span><span class="w"> </span>

<span class="o">/</span><span class="cm">/*[contains(@class,'what')] 找某个标签class属性有 what NOTICE: 这里的意思是有，多个class属性也是可以匹配的 class="what what_what"</span>
<span class="cm">//div[@class='what' …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-setuptools-pip.html">setuptools和pip等相关
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-14T00:00:00+08:00">2018年 7月 14日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="setuppy">setup.py配置</h2>
<p>在上面模块那一章里对python模块包的知识还有python相关生态圈的知识几乎没有谈及，这里一并在本章中说明了。本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。</p>
<p>请结合Github上的 <a href="https://github.com/a358003542/pyskeleton">pyskeleton项目</a> 来阅读本章。</p>
<p>虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 <a href="https://pythonhosted.org/setuptools/index.html">官方文档</a> 。</p>
<p>安装就是先安装pip3：</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">pip</span>
</pre></div>
<p>然后通过pip3来安装setuptools：</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">setuptools</span>
</pre></div>
<p>最简单的"setup.py"文件如下所示：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>
<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">"HelloWorld"</span><span class="p">,</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">"0.1"</span><span class="p">,</span>
    <span class="n">packages</span> <span class="o">=</span> <span class="n">find_packages</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
<p>第一行是从setuptools模块中引入setup函数和 <code>find_packages</code> 函数。</p>
<p>setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来：</p>
<dl>
<dt>name …</dt></dl>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/django-templates.html">django后台api编写之-模板
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#django-ref">django
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-10T00:00:00+08:00">2018年 7月 10日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">模板基本概念</h2>
<p>模板基本的样子如下，下面有模板继承，block ，循环，过滤，之类的。熟悉jinja2模板的同学稍微看下大致是个什么意思就已经清楚了。</p>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">"base_generic.html"</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{{</span> <span class="nv">section.title</span> <span class="cp">}}{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">section.title</span> <span class="cp">}}</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">story</span> <span class="k">in</span> <span class="nv">story_list</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">&lt;h2&gt;</span>
<span class="x">  &lt;a href="</span><span class="cp">{{</span> <span class="nv">story.get_absolute_url</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">story.headline</span><span class="o">|</span><span class="nf">upper</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;/a&gt;</span>
<span class="x">&lt;/h2&gt;</span>
<span class="x">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">story.tease</span><span class="o">|</span><span class="nf">truncatewords</span><span class="s2">:"100"</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<h2 id="django">django如何查找模板的</h2>
<p>在django的settings.py哪里有：</p>
<div class="highlight"><pre><span></span><span class="nv">PROJECT_DIR</span> <span class="o">=</span> <span class="nv">os</span>.<span class="nv">path …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/sqlalchemy-module.html">sqlalchemy模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#shu-ju-ku-ref">数据库
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-10T00:00:00+08:00">2018年 7月 10日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>老实说sqlalchemy这个模块特别难学，主要原因倒不是这个模块本身，阻碍我很好地学习这个模块的是这个心态，认为自己可以直接学习sqlalchemyORM封装就行了，不用学习SQL语句。这是错误的。要学好sqlalchemy必须先学习好SQL语句，要完全发挥出sqlalchemy的威力，也必须先学会SQL语句和对应的SQL实现。然后还有一个误区，我们在使用上也不一定要使用orm层的接口。实际上sqlalchemy这个模块里面内容是很丰富的，是很灵活的。它是可以完全取代sqlite3模块和psycopg2模块等初级的DB API，然后还提供了高级的ORM封装。</p>
<h3 id="_2">安装</h3>
<p>sqlalchemy的安装简单用pip3命令安装之即可:</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">sqlalchemy</span>
</pre></div>
<h3 id="_3">引用惯例</h3>
<p>在后面都默认有如下引用:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
<p>后面将不会再提及，也就是凡是 <code>from sqlalchemy import what</code> 的所有语句也都归于如上一条引用。</p>
<h2 id="_4">简介</h2>
<p>通过sqlalchemy连接具体的某个数据库，前面有一些准备工作要做，参考 <a href="http://www.aosabook.org/en/sqlalchemy.html">sqlalchemy architecture</a> 一文的描述:</p>
<p><img alt="img" src="https://docs.cdwanze.work/images/python/layers.png" title="SQLAlchemy layer diagram"/></p>
<p>和数据库直接相连的是我们熟悉的那些DBAPI接口模块，比如: sqlite3, pymysql, psycopg2等，然后中间的核心层有Engine，连接池，方言 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/alembic-module.html">alembic模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#shu-ju-ku-ref">数据库
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-01T00:00:00+08:00">2018年 7月 1日
                                        </time>
                                    </div>
                                </section>
                                
<p>alembic模块有什么，如果读者熟悉django的话，那么可以将其类比为django里面的makemigrations和migrate相关的命令，简单来说，其管理数据库版本，进行数据库迁移工作。随着我们对于数据库操作的使用频繁，我相信读者就会开始慢慢感受到数据库迁移管理的必要性，实际上我相信读者会从一开始不愿意将这些东西加入代码版本控制，到后来开始主动要将其加入代码版本控制。</p>
<p>更多关于alembic的使用请参看官方文档，下面就一些基本的使用概念说一下。</p>
<h2 id="_1">基本使用</h2>
<h3 id="alembic">初始化alembic项目</h3>
<div class="highlight"><pre><span></span><span class="n">alembic</span> <span class="n">init</span> <span class="n">alembic</span>
</pre></div>
<p>然后当前目录下会多一个 <code>alembic.ini</code> 文件，这个配置文件里面有很多重要的配置，其中 <code>sqlalchemy.url</code> 是必配的。</p>
<h3 id="modelspy">根据models.py来</h3>
<p>类似于django的 models.py 文件里面定义一些模型，我们利用sqlalchemy模块也可以定义一些模型文件，然后根据这个模型文件的定义，我们可以利用alembic来自动根据你的数据库的一些更改：</p>
<div class="highlight"><pre><span></span><span class="n">alembic</span> <span class="n">revision</span> <span class="c1">--autogenerate -m "add_some_key"</span>
</pre></div>
<p>你需要定义好 alembic 文件下的 <code>env.py</code> 里面的 target_metadata 这个变量：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">myapp …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/pandasmo-kuai.html">pandas模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#ji-qi-xue-xi-ref">机器学习
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-07-01T00:00:00+08:00">2018年 7月 1日
                                        </time>
                                    </div>
                                </section>
                                
<p>本文对pandas模块的一些核心概念进行说明。</p>
<h2 id="_1">基本入门</h2>
<p>pandas最核心的两个数据结构就是 Series 类和 DataFrame 类。其中DataFrame可能会用的偏多一点，Series相当于一维情况下较简单的DataFrame，有的时候会用到。本文重点讨论DataFrame类。</p>
<p>DataFrame之所以很常用是因为这种数据结构太常见了，在excel中，在csv中，在sql中，等等来源的数据都可以汇总成为DataFrame数据结构，然后进行一些后面必要的数据处理，包括送入机器学习或者深度学习的模型中去。</p>
<h2 id="_2">读写文件支持</h2>
<p>pandas的io子模块写得很便捷，实际上我经常看到有些python程序员并不是在做数据处理，有时都会调用下pandas的io来做一些读写操作。</p>
<p>其大体有这些函数：</p>
<ul>
<li>read_csv    to_csv</li>
<li>read_json   to_json</li>
<li>read_html to_html</li>
<li>read_excel to_excel</li>
<li>read_sql to_sql</li>
</ul>
<p>这其中，html的读写在网络抓取上有时可能有用，但不是很强大，还是推荐用专门的工具来做，sql的操作简单点可以用pandas那边的接口，但如果稍微复杂点还是推荐用sqlalchemy来做，这样写出来的代码可读性更好一些，orm层接口也更便捷写，代码里面全是一大堆sql语句，总不是太好的。</p>
<h3 id="txt">读txt文件</h3>
<p>实际上我们可能更常遇到的是txt文件，还是用 read_csv 函数来读，只是需要做一些额外的配置，比如 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/airflow-module.html">airflow模块
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonhao-huo-ban-ref">python好伙伴
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-24T00:00:00+08:00">2018年 6月 24日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>airflow和luigi模块相比有以下优点：</p>
<ol>
<li>通用的DAG概念来描述工作流，更专业点。</li>
<li>集成系统的crontab从而支持周期性任务，这样airflow就只能在linux系统下运行了。</li>
<li>图形界面很美观，功能更强大。</li>
</ol>
<p>老实说我不喜欢crontab，如果只是简单调度，用apscheduler或者之类的工具简单写下就能集成到你的软件系统中去，而再复杂点的工作流，任务流程等等管理，都推荐使用airflow这样的框架来管理。</p>
<p>而至于说到大数据上的那些流式数据处理工具，实际上只有百分之几的公司因为业务需要必须上大数据，大部分公司是没必要上大数据的，因为大数据引入了太多的复杂度了，如果没有必要，而仅仅追求时髦去玩大数据，那显然是违背我们程序界公认的KISS原则的【Keep it simple and stupid.】。</p>
<h3 id="airflow">安装airflow</h3>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">apache</span><span class="o">-</span><span class="n">airflow</span>
</pre></div>
<h3 id="_2">推荐起步</h3>
<p>推荐 项目工作目录下 <code>.env</code> 文件下写上：</p>
<div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">AIRFLOW_HOME</span><span class="o">=</span><span class="p">.</span>
</pre></div>
<p>这样使用pipenv或者其他工具在当前目录激活工作环境的时候，也自动激活了airflow在当前目录下工作的配置。这样我们airflow相关works配置的相关代码都放在这里。</p>
<p>激活虚拟环境后，然后我们有如下操作：</p>
<h3 id="_3">初始化数据库</h3>
<div class="highlight"><pre><span></span><span class="n">airflow</span> <span class="n">initdb</span>
</pre></div>
<h3 id="webserver">启动webserver</h3>
<div class="highlight"><pre><span></span><span class="n">airflow</span> <span class="n">webserver</span>
</pre></div>
<h2 id="_4">使用其他数据库 …</h2>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/sqlshu-ju-ku-ji-chu.html">sql数据库基础
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#ji-chu-ref">基础
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2018-06-24T00:00:00+08:00">2018年 6月 24日
                                        </time>
                                    </div>
                                </section>
                                
<p>本小节主要结合sqlite3来简要说明sql数据库的一些基本理论知识。至于其他SQL数据库比如mysql，postgresql等具体实现的相关知识本文不会讨论。</p>
<h2 id="_1">基本术语</h2>
<p>数据库（database）简单的理解就是一个文件柜。然后DBMS（database management system）是数据库管理系统。而所谓的 <strong>table</strong> 表你可以将其看作文件柜里的一个结构化了的文件。在表格里面的数据都是 <em>按行存储</em> 的，这个要在头脑中牢记。然后一行数据称之为一个 <strong>记录</strong>  。SQL（Structured Query Language）的意思是结构化查询语言。</p>
<p>sqlite3的安装就不罗嗦了，若有问题请从网络查阅之。</p>
<h2 id="_2">第一个例子</h2>
<p>sqlite3和postgresql不同，其没有客户端/服务器的概念，就是直接的文件管理，sqlite3的数据库就是一个文件，然后如果连接到某个不存在的文件，就会自动创建对应的数据库文件。删除数据库当然就是删除数据库文件即可，这一块sqlite3很简单。</p>
<p>现在我们往这个数据库里面加入一点东西:</p>
<div class="highlight"><pre><span></span><span class="nv">wanze</span>@<span class="nv">wanze</span><span class="o">-</span><span class="nv">ubuntu64</span>:<span class="o">~/</span>桌面$ <span class="nv">sqlite3</span> <span class="nv">mydb</span>
<span class="nv">SQLite</span> <span class="nv">version</span> <span class="mi">3</span>.<span class="mi">8</span>.<span class="mi">2 …</span></pre></div>
                            </article>

 <nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://docs.cdwanze.work/index2.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://docs.cdwanze.work/index4.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
                     </div>
                </div>
            </div>
    </div>

    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>


<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="http://www.cdwanze.work" title="cdwanze Home Page">cdwanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://docs.cdwanze.work/theme/js/jquery.min.js"></script>
    <script src="https://docs.cdwanze.work/theme/js/bootstrap.min.js"></script>
    <script>
        function validateForm(query) {
            return (query.length > 0);
        }
    </script>

    <script>
        function adjust_search_width() {
            var w = document.documentElement.clientWidth;
            if ((w > 755) && (w < 975)) {
                plus_width = w - 755;
                $('.navbar-form .form-control').outerWidth(210 + plus_width);
            } else if (w >= 975) {
                $('.navbar-form .form-control').outerWidth(210 + 220);
            } else if (w <= 755) {
                $('.navbar-form .form-control').css('width', '100%')
            }
        }

        $(document).ready(function () {
            adjust_search_width();
        });

        window.onresize = function () {
            adjust_search_width();
        }

    </script>


    <script>
        (function ($) {
            // custom css expression for a case-insensitive contains()
            jQuery.expr[':'].Contains = function (a, i, m) {
                return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
            };

            function listFilter() {

                $('#findtag')
                    .change(function () {
                        var filter = $(this).val();
                        if (filter) {
                            // this finds all links in a list that contain the input,
                            // and hide the ones not containing the input while showing the ones that do
                            $('.list-of-tags').find("a:not(:Contains(" + filter + "))").parent().hide();
                            $('.list-of-tags').find("a:Contains(" + filter + ")").parent().show();
                        } else {
                            $('.list-of-tags').find("li").show();
                        }
                        return false;
                    })
                    .keyup(function () {
                        // fire the above change event after every letter
                        $(this).change();
                    });
            }

            //ondomready
            $(function () {
                listFilter($());
            });
        }(jQuery));

    </script>

    <script>
        $(function () {
            //点击回到顶部的元素
            $("#gotop").click(function (e) {
                //以1秒的间隔返回顶部
                $('body,html').animate({scrollTop: 0}, 1000);
            });
        });
    </script>

    <script>
        $('.page-header').hover(function () {
            $(this).css("color", '#3875d7')
        }, function () {
            $(this).css('color', '#8B0000')
        })
    </script>


    <script>
        $(document).ready(function () {
            $('a.slowscroll').click(function (event) {
                var $anchor = $(this);
                $('html, body').animate({scrollTop: $($anchor.attr('href')).offset().top}, 1500);
                event.preventDefault();
                // $('a.slowscroll').parent().removeClass('active');
                // $('.navbar-header').hide();
                // $anchor.parent().addClass('active');
            })
        })
        console.log('document init...')
    </script>




</body>
</html>