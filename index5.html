<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="baidu-site-verification" content="D4VqC4HppC"/>
    <meta name="msvalidate.01" content="55CB117A61A6F8286173763FB18D9625"/>

        <meta name="author" content="cdwanze"/>
        <meta name="copyright" content="cdwanze"/>

            <meta property="og:type" content="article"/>
        <meta name="twitter:card" content="summary">

        <meta property="og:title" content="cdwanze的博文"/>
        <meta name="twitter:title" content="cdwanze的博文">
    <meta property="og:url" content="https://docs.cdwanze.work"/>
    <meta property="og:site_name" content="cdwanze的博文"/>
    <meta property="og:article:author" content="cdwanze"/>
    <title>
    cdwanze的博文
</title>


        <link href="https://docs.cdwanze.work/theme/css/font-awesome.css" rel="stylesheet"
              media="screen">
        <link href="https://docs.cdwanze.work/theme/css/bootstrap.min.css" rel="stylesheet"
              media="screen">

            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/pygments.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/elegant.css" media="screen">
            <link rel="stylesheet" type="text/css"
                  href="https://docs.cdwanze.work/theme/css/custom.css" media="screen">






</head>
<body>

<nav class="navbar">
    <div class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed"
                    data-toggle="collapse" data-target=".navbar-collapse"
                    aria-expanded="false">
                <span class="sr-only">Navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a class="navbar-brand" href="https://www.cdwanze.work"><span
                    class=site-name>网站首页</span></a>
        </div>


        <div class="navbar-collapse collapse">
            <form action="https://docs.cdwanze.work/search.html"
                  onsubmit="return validateForm(this.elements['q'].value);"
                  class="navbar-form navbar-left">
                <div class="form-group">
                    <input type="text" name="q" id="tipue_search_input"
                           class="form-control" placeholder="Search..."
                           style="width:430px;">
                </div>
                <button class="btn btn-default" type="submit">搜索</button>
            </form>


            <ul class="nav navbar-nav nav-pills navbar-right">
                <li  class="active">
                    <a href="https://docs.cdwanze.work">博文首页</a></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle"
                           data-toggle="dropdown" role="button"
                           aria-haspopup="true" aria-expanded="false">查找文章<span
                                class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a class="slowscroll" href="/categories.html">按分类</a>
                            </li>
                            <li><a class="slowscroll" href="/tags.html">按标签</a>
                            </li>
                        </ul>
                    </li>


                        <li >
                            <a href="https://docs.cdwanze.work/guan-yu-ben-wang-zhan.html">关于本网站</a>
                        </li>
                        <li >
                            <a href="https://docs.cdwanze.work/gong-gao.html">公告</a>
                        </li>
            </ul>


        </div>
    </div>
</nav>


<div class="container-fluid">
    <div class="col-md-1 col-md-1-left"></div>
    <div class="col-md-10">


    <style>
        article {
            border: 1px solid #aaa;
        }

        section {
            padding: 1em;
        }

        article > p {
            padding-left: 0.5em;
            padding-right: 0.5em;
        }

        #gotop {
            position: fixed;
            right: 12%;
            float: right;
            top: 50%;
        }

        @media screen and (max-width: 600px) {
            #gotop {
                display: none;
            }
        }
    </style>

    <button id="gotop" type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
    </button>



    <div class="row">

        <div class="row">
         </div>

             <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <header>
                        <h1 id="recent-posts">最近博文
                            <a id="allposts" href="https://docs.cdwanze.work/archives.html">所有博文</a>
                        </h1>
                    </header>


                    <div class="recent-posts">
<nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://docs.cdwanze.work/index4.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://docs.cdwanze.work/index6.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
 
                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/markdown.html">markdown简介
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#za-xiang-ref">杂项
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-07-30T00:00:00+08:00">2016年 7月 30日
                                        </time>
                                    </div>
                                </section>
                                
<h3 id="markdown">markdown中的脚注</h3>
<div class="highlight"><pre><span></span>这里显示如何插入脚注[^1]


[^1]: 这是一个脚注。
</pre></div>
<p>具体效果如下所示：</p>
<p>这里显示如何插入脚注<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<h3 id="markdown_1">markdown中插入描述列表</h3>
<div class="highlight"><pre><span></span>sqrt
: 开平方根函数，sqrt(x)。

sin
: 正弦函数，类似的还有cos，tan等，sin(x)。
</pre></div>
<dl>
<dt>sqrt</dt>
<dd>开平方根函数，sqrt(x)。</dd>
<dt>sin</dt>
<dd>正弦函数，类似的还有cos，tan等，sin(x)。</dd>
</dl>
<h3 id="github-flavored-markdown">github flavored markdown</h3>
<p>gfm的官方文档在 <a href="https://help.github.com/articles/github-flavored-markdown/">这里</a> 。github flavored markdown 也就是github的markdown方言，其主要区别有:</p>
<ol>
<li>
<p>下划线直接为下划线。</p>
</li>
<li>
<p>URL 直接输入，比如 <a href="http://www.google.com">http://www.google.com</a> ，其将直接转化成为链接。这个只是一个新功能支持，原来的链接插入方式一样有效 …</p></li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-cookbook.html">python语言学习之cookbook篇
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-08T00:00:00+08:00">2016年 3月 8日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">读取文件推荐方式</h2>
<p>因为文件对象本身是可迭代的，我们简单迭代文件对象就可以对文件的一行行内容进行一些操作。比如：</p>
<div class="highlight"><pre><span></span><span class="nv">f</span> <span class="o">=</span> <span class="nv">open</span><span class="ss">(</span><span class="s1">'</span><span class="s">removeduplicate.py</span><span class="s1">'</span><span class="ss">)</span>

<span class="k">for</span> <span class="nv">line</span> <span class="nv">in</span> <span class="nv">f</span>:
    <span class="nv">print</span><span class="ss">(</span><span class="nv">line</span>,<span class="k">end</span><span class="o">=</span><span class="s1">''</span><span class="ss">)</span>
</pre></div>
<p>这个代码就将打印这个文件，其中end="的意思是取消<code>\n</code>，因为原来的行里面已经有<code>\n</code>了。</p>
<p>然后代码稍作修改就可以在每一行之前加上<code>&gt;&gt;&gt;</code>这个符号了。</p>
<div class="highlight"><pre><span></span><span class="nv">f</span> <span class="o">=</span> <span class="nv">open</span><span class="ss">(</span><span class="s1">'</span><span class="s">removeduplicate.py</span><span class="s1">'</span><span class="ss">)</span>

<span class="k">for</span> <span class="nv">line</span> <span class="nv">in</span> <span class="nv">f</span>:
    <span class="nv">print</span><span class="ss">(</span><span class="s1">'</span><span class="s">&gt;&gt;&gt;</span><span class="s1">'</span>,<span class="nv">line</span>,<span class="k">end</span><span class="o">=</span><span class="s1">''</span><span class="ss">)</span>
</pre></div>
<p>什么？这个输出只是在终端，没有到某个文件里面去，行，加上file参数。然后代码变成如下：</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'removeduplicate.py'</span><span class="p">)</span>
<span class="n">pyout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">sys …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-pypi.html">python语言学习之pypi生态圈
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-07T00:00:00+08:00">2016年 3月 7日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="setuppy">setup.py配置</h2>
<p>在上面模块那一章里对python模块包的知识还有python相关生态圈的知识几乎没有谈及，这里一并在本章中说明了。本章知识是我们理解前人编写的各个有用的模块包的基础，也是编写自己的模块包的基础。</p>
<p>请结合Github上的 <a href="https://github.com/a358003542/pyskeleton">pyskeleton项目</a> 来阅读本章。</p>
<p>虽然官方内置distutils模块也能实现类似的功能，不过现在人们更常用的是第三方模块setuptools，其相当于distutils模块的加强版，初学者推荐就使用setuptools模块。更多内容请参看setuptools模块的 <a href="https://pythonhosted.org/setuptools/index.html">官方文档</a> 。</p>
<p>安装就是先安装pip3：</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">pip</span>
</pre></div>
<p>然后通过pip3来安装setuptools：</p>
<div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip3</span> <span class="n">install</span> <span class="n">setuptools</span>
</pre></div>
<p>最简单的"setup.py"文件如下所示：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span><span class="p">,</span> <span class="n">find_packages</span>
<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">"HelloWorld"</span><span class="p">,</span>
    <span class="n">version</span> <span class="o">=</span> <span class="s2">"0.1"</span><span class="p">,</span>
    <span class="n">packages</span> <span class="o">=</span> <span class="n">find_packages</span><span class="p">(),</span>
<span class="p">)</span>
</pre></div>
<p>第一行是从setuptools模块中引入setup函数和 <code>find_packages</code> 函数。</p>
<p>setup函数接受一系列的字典值，下面就setup函数的一些字典值的含义慢慢道来：</p>
<dl>
<dt>name …</dt></dl>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-style-guide.html">python语言学习之编码风格推荐
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-06T00:00:00+08:00">2016年 3月 6日
                                        </time>
                                    </div>
                                </section>
                                
<p>PEP8代码风格规范是每个python程序员都应该了解的内容，其具体内容官方文档在 <a href="https://www.python.org/dev/peps/pep-0008/">这里</a> 。</p>
<p>关于空白和其他一些格式现在的编辑器加上插件都可以做到自动pep8格式调整，比如 autopep8 模块等，这一块就不多说了。</p>
<p>这里主要简单地说一下变量名的命名规范 【高质量python代码】：</p>
<ul>
<li>
<p>字母都大写的变量，我们一般认为它是模块文件级别的常量，各单词用下划线隔开。</p>
</li>
<li>
<p>首字母大写的我们一般认为它是类或者异常名字，多个单词的用驼峰写法表示。</p>
</li>
<li>
<p>其他一律是小写字母，用下划线隔开。</p>
</li>
<li>一般开发者不应该命名下划线开头的变量，你若这样写你必须知道自己在干什么。</li>
</ul>
<h2 id="_1">其他编码风格推荐</h2>
<ul>
<li>不要使用带两个以上for语句的列表解析。</li>
<li>用生成器表达式改写数据量较大的列表解析。</li>
</ul>
<div class="highlight"><pre><span></span><span class="nv">it</span> <span class="o">=</span> <span class="ss">(</span><span class="nv">len</span><span class="ss">(</span><span class="nv">x</span><span class="ss">)</span> <span class="k">for</span> <span class="nv">x</span> <span class="nv">in</span> <span class="nv">open</span><span class="ss">(</span><span class="s1">'</span><span class="s">/tmp/myfile.txt</span><span class="s1">'</span><span class="ss">))</span>
</pre></div>
<ul>
<li>
<p>不要在for和while循环后面写上else语句。这个建议有利于程序的简洁直观，可以接受。</p>
</li>
<li>
<p>函数的返回值是你需要的返回值才有意义，如果不是，而只是某些特殊的情况，那么最好抛出异常。</p>
</li>
</ul>
<h2 id="python">python哲学</h2>
<p>参考了 <a href="https://github.com/oldratlee/translations/tree/master/python-philosophy">这个网页的翻译</a> 。</p>
<ol>
<li>美优于丑。</li>
<li>直白优于隐晦。</li>
<li>简单优于复杂。 </li>
<li>复杂优于纠结。 </li>
<li>扁平优于嵌套。 </li>
<li>稀疏优于稠密。 </li>
<li>可读性是有重要价值的。</li>
<li>特例可以有 …</li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-references.html">python语言学习之资料参考
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-05T00:00:00+08:00">2016年 3月 5日
                                        </time>
                                    </div>
                                </section>
                                <ul>
<li>
<p>python入门教程，python官网上的tutorial。原作者：Guido van Rossum  Fred L. Drake ；中文翻译：刘鑫等；版本：2013-10-28；pdf下载链接：<a href="https://drive.google.com/open?id=0ByWxOeitx54PSW40bU5zNVhuMlU&amp;authuser=0">python入门教程</a>  。</p>
</li>
<li>
<p>learning python，主要python语言参考，我主要参看了python学习手册（第四版）。原作者：Mark Lutz，中文翻译：李军，刘红伟等。</p>
</li>
<li>
<p>programming python，作者Mark Lutz对python编程的进阶讨论；版本：第四版。</p>
</li>
<li>
<p>python <a href="https://docs.python.org/3/">官网上的资料</a> 。</p>
</li>
<li>
<p>第三方模块参考手册，如numpy, scipy, matplotlib等等第三方模块官网上发布的官方参考手册。</p>
</li>
<li>
<p>dive into python3 <a href="http://www.diveintopython3.net/index.html">english version</a> , 这是<a href="http://sebug.net/paper/books/dive-into-python3/index.html">中文版</a> 。</p>
</li>
<li>
<p>A Guide to Python's Magic …</p></li></ul>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-web-programming.html">python语言学习之网络编程篇
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-04T00:00:00+08:00">2016年 3月 4日
                                        </time>
                                    </div>
                                </section>
                                
<p>下面只讨论TCP套接字编程，UDP协议暂不讨论。整个TCP套接字编程的过程如下所述:</p>
<h2 id="_1">套接字编程</h2>
<ol>
<li>
<p>客户机负责发起连接，其将新建一个套接字对象（在python中是通过<strong>socket</strong>函数来创建的），就好比在一个封闭的黑箱子里开了一个门，在创建这个套接字对象的过程中，你需要指定具体要连接的那个服务器的IP地址和端口号（<strong>connect</strong>方法）。</p>
</li>
<li>
<p>接下来是进行TCP的三路握手过程，具体在传输层最底层的东西，客户机应用程序还是服务器应用程序都不用操心，其应该是是操作系统程序负责的。服务器程序需要关心的是在这三路握手期间，其类似于听到了敲门声，其需要开出一个门出来。服务器程序要听到这个敲门声，其应该处于监听该端口的状态。首先服务器程序需要创建一个套接字对象，然后<strong>bind</strong>某个端口号，然后调用<strong>listen</strong>方法开始监听这个端口。</p>
</li>
<li>
<p>然后服务器那边的监听套接字调用<strong>accept</strong>方法，并形成阻塞，接下来就是听到了敲门声，这个敲门声是TCP三路握手第一路信号发送过来了，这后面TCP三路握手还有两路，这我们暂时不需要太关心了。等到TCP三路握手完成了，服务器之前的那个accept方法将创建一个套接字对象。这个套接字对象称之为<em>连接套接字</em>。我们在这里把服务器那边的连接套接字调用accept方法可以理解为接受了客户机的敲门，如果一切顺利的话，其将为客户机新开一个套接字，也就是一个新门。</p>
</li>
<li>
<p>对于客户机那边只有一个套接字，情况稍微简单点，其往套接字里面塞信息（<strong>sendall …</strong></p></li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-modules.html">python语言学习模块篇
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-03T00:00:00+08:00">2016年 3月 3日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">引入模块</h2>
<h3 id="import">import语句</h3>
<p>import语句的一般使用方法之前已有接触，比如 <code>import math</code> ，然后要使用math模块里面的函数或者类等需要使用这样的带点的变量名结构：math.pi。</p>
<p>此外import语句还有一个常见的缩写名使用技巧，比如import numpy as
np，那么后面就可以这样写了， np.array，而不是numpy.array。</p>
<h3 id="from">from语句</h3>
<p>from语句的使用有以下两种情况：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">this</span> <span class="kn">import</span> <span class="n">this</span>
<span class="kn">from</span> <span class="nn">what</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
<p>第一种形式是点名只导入某个变量，第二种形式是都导入进来。我想读者肯定知道这点，使用第二种导入形式的时候要小心变量名覆盖问题，这个自己心里有数即可。</p>
<h3 id="reload">reload函数</h3>
<p>reload函数可以重新载入某个模块，reload函数的优点就是不需要重新启动应用程序，更加合理的动态重载一些模块。reload只能用于python编写的模块，在python3中，reload函数被移到imp模块里面去了，因此首先需要import
imp才能使用了。比如说：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">imp</span> <span class="kn">import</span> <span class="nb">reload</span>
<span class="nb">reload</span><span class="p">(</span><span class="n">somemodule</span><span class="p">)</span>
</pre></div>
<h2 id="unittest">unittest模块 …</h2>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-advanced.html">python语言学习进阶篇
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-02T00:00:00+08:00">2016年 3月 2日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="_1">类</h1>
<p>在python中一切皆对象。前面学的那些操作对象都是python程序语言自己内部定义的对象（Object），而接下来介绍的类的语法除了更好的理解之前的那些对象之外，再就是可以创造自己的操作对象。一般面向对象(OOP)编程的基本概念这里不重复说明了，如有不明请读者自己随便搜索一篇网页阅读下即可。</p>
<h2 id="python">python中类的结构</h2>
<p>python中的类就好像树叶，所有的类就构成了一棵树，而python中超类，子类，实例的重载或继承关系等就是由一种搜索机制实现的：</p>
<p><img alt="img" src="https://docs.cdwanze.work/images/python/lei-sou-suo-jie-gou.png"/></p>
<p>python首先搜索self有没有这个属性或者方法，如果没有，就向上搜索。比如说实例l1没有，就向上搜索C1，C1没有就向上搜索C2或C3等。</p>
<p>实例继承了创造他的类的属性，创造他的类上面可能还有更上层的超类，类似的概念还有子类，表示这个
类在树形层次中比较低。</p>
<p>well，简单来说类的结构和搜索机制就是这样的，很好地模拟了真实世界知识的树形层次结构。</p>
<p>上面那副图实际编写的代码如下：</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">C2:</span> ...
<span class="k">class</span> <span class="n">C3:</span> ...
<span class="k">class</span> <span class="n">C1</span>(<span class="n">C2</span>,<span class="n">C3</span>): ...
<span class="n">l1</span>=<span class="n">C1</span>()
<span class="n">l2</span>=<span class="n">C1</span>()
</pre></div>
<p>其中class语句是创造类，而C1继承自C2和C3，这是多重继承，从左到右是内部的搜索顺序（会影响重载）。l1和l2是根据类C1创造的两个实例。</p>
<p>对于初次接触类这个概念的读者并不指望他们马上就弄懂类这个概念 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/python-basic.html">python语言学习基础篇
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#pythonyu-yan-ref">python语言
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2016-03-01T00:00:00+08:00">2016年 3月 1日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="python">初识python</h1>
<p>Python是个成功的脚本语言。它最初由Guido van Rossum开发，在1991年第一次发布。Python由ABC和Haskell语言所启发。Python是一个高级的、通用的、跨平台、解释型的语言。一些人更倾向于称之为动态语言。它很易学，Python是一种简约的语言。它的最明显的一个特征是，不使用分号或括号，Python使用缩进。现在，Python由来自世界各地的庞大的志愿者维护。</p>
<p>python现在主要有两个版本区别，python2和python3。作为新学者推荐完全使用python3编程，本文档完全基于python3。</p>
<h2 id="_1">安装和配置</h2>
<p>python的安装和配置在linux没什么好说了，windows下的安装主要是编辑好系统环境变量 <code>PATH</code> 值，好让读者可以在cmd或者powershell下调用python命令。</p>
<p><img alt="img" src="https://docs.cdwanze.work/images/python/python-env-windows.png" title="python在windows下PATH环境变量的配置"/></p>
<p>这个初次安装的时候程序有这个选项的。</p>
<h2 id="pythonrepl">进入python的REPL环境</h2>
<p>在终端中输入python即进入python语言的REPL环境，很多linux系统目前默认的是python2。你可以运行：</p>
<div class="highlight"><pre><span></span><span class="n">python</span>  <span class="c1">--version</span>
</pre></div>
<p>来查看默认的python版本号。</p>
<p>要进入python3在终端中输入python3即可。</p>
<h2 id="python_1">python命令行用法</h2>
<p>命令行的一般格式就是：</p>
<div class="highlight"><pre><span></span>python3  [可选项]  test.py  [可选参数1 可选参数2]
</pre></div>
<p>同样类似的运行 <code>python3  --help</code>
即可以查看python3命令的一些可选项 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/ceph-tutorial.html">ceph学习笔记
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="ceph">ceph入门</h1>
<h2 id="ceph_1">ceph简介</h2>
<p>ceph系统是一种分布式存储解决方案，可以通过多台计算机进行配置，搭建ceph集群并提供块设备存储、对象存储和文件系统服务。</p>
<p>ceph项目的设计思想是很先进的，其源于Sage Weil在加州大学攻读博士期间的一篇论文。ceph项目简单来说目的就是应对PB级别的存储需求的，当然ceph在设计上是没有存储理论上限的。</p>
<p>正如ceph官网所言：</p>
<blockquote>
<p>Ceph is a unified, distributed storage system designed for excellent performance, reliability and scalability.</p>
</blockquote>
<p>ceph是一个分布式存储系统，提供了优良的性能，可靠性和可扩展性。可靠性就会ceph存储系统会尽可能地保证数据不会丢失，可扩展性包括系统规模和存储容量的可扩展。此外ceph在运维上还提供了自动化运维特性，包括数据自动replication；自动re-balancing；自动failure detection和自动failure recoery。</p>
<h2 id="ceph_2">ceph存储系统结构</h2>
<p>ceph存储系统如下图所示分为四个层次：</p>
<p><img alt="ceph_system_structure.png" src="https://docs.cdwanze.work/images/ceph_system_structure.png"/></p>
<ol>
<li>
<p>首先是最底层的RADOS基础存储系统，所有存储在ceph系统的用户数据最终都是由这一层来存储的。理解RADOS是理解ceph系统的关键。</p>
</li>
<li>
<p>基础库librados，这一层对底层RADOS系统进行抽象和封装，并向上提供API。</p>
</li>
<li>
<p>高层应用接口，这一层有RADOS GW、RBD、ceph …</p></li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/cheminfo-keyword-refrence.html">化学信息学研究中英文属性词对照
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<p>早期编程不会考虑中文化的问题，一切化学物质的属性都将是英文表示，后面在网页显示的时候才考虑怎么将其中文化显示。</p>
<p>这里将详细这些关键的属性名词，这可以看作这一编程领域的特定领域语言，或者用计算机语言的角度来说是： cheminfo-keyword。</p>
<h2 id="_2">列表</h2>
<h3 id="_3">标准名字</h3>
<ul>
<li>id类：各个不同的化学数据库对于相同的化学物质都有不同的id表达，这个id属性并没有特别的含义，不能作为化学物质的唯一性标识。</li>
<li>分子式 molecular_formular </li>
<li>分子量 molecular_weight</li>
<li>InChi  国际化合物标识  IUPAC推荐将其作为化合物的唯一性标识 （我在开发中将以InChi为判断纯物质唯一性的标准）</li>
<li>inchi_key inchi运行SHA-256哈希算法之后得到的哈希值。（在开发时可以作为实际检索key来使用）</li>
<li>smiles 类似于InChi的标记体系，更具有可读性。实际上学过有机化学的人几乎可以毫不费力的写出某个化合物的smiles式，不作为判断纯物质的唯一性表示</li>
<li>isomeric_smiles 也就是人们说的 unique SMILES 唯一smiles表示。加上了对同位素和手性的表示。</li>
<li>iupac_name IUPAC 系统命名法的名字</li>
</ul>
<h3 id="_4">名字转换</h3>
<p>在其他数据库或者地方获得的关于化学物质的属性，名字有各种形式。</p>
<p>建议写一个名字转换小函数。</p>
<h2 id="_5">模型设计</h2>
<p>substance -&gt; mixture</p>
<p>substance将有一个type属性：指明物质是单质，原子，离子 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/cheminformatics-talk-one.html">化学信息学简介
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="_1">化学信息学定义</h1>
<p>化学信息学(cheminformatics)，是计算机学科和化学的结合学科，其主要研究对化学物质的信息进行存储和检索这一过程。</p>
<p>化学信息学主要解决如下四个问题：</p>
<ol>
<li>如何存储分子</li>
<li>如何精确找到这个分子</li>
<li>分子结构中子结构的查找</li>
<li>各分子的相似性搜索</li>
</ol>
<h1 id="mdl">MDL</h1>
<p>3D坐标表示法，各个原子，具体的x，y，z坐标信息都列入其中了。</p>
<h1 id="_2">线性标记法</h1>
<h1 id="wln">WLN</h1>
<p>Wiswesser Line Notation，魏氏线性标记法。由William J. Wisswesser于十九世纪50年代早期发明。</p>
<h1 id="smiles">SMILES</h1>
<p>Simplified molecular input line entry specification，简化分子线性输入规范。这应该是目前应用最广最为大家熟知的线性标记法了。下面详细介绍一下这个线性标记法的规则，更多细节请参看 <a href="http://www.opensmiles.org/spec/open-smiles-3-input.html">这个网页</a> 。</p>
<ol>
<li>原子：[Na][Cl] ，然后原子的同位素表示如下[2H]，[13C]。</li>
<li>离子：[Na+] [Cl-] [Cu+2] 或者 [Cu …</li></ol>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/cheminformatics-talk-two.html">化学信息学第二谈
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">表示分子</h2>
<p>价键模型是现代化学的基石，也是现代化学信息学的基石。当化学家想要研究一个问题的时候的，他首先是用图形来表示出一个个节点，也就是原子，然后一个个节点之间连成边，也就是化学键。</p>
<p>就价键理论和分子轨道理论区别它们有意义其实只在量子化学的计算层面上，老实说以前我学习的时候，就是简单的将化学键理解为电子的运动轨迹，至于具体这个电子是两个原子共享的还是分子层面共享的其实当时我的理解，就离子键和共价键还说，只是一种程度的问题。大体是 离子键 -&gt; 共价键单键 -&gt; 苯的化学键 -&gt; 共价键双键。不过不是从事量子化学计算，就作为应用的理解化学世界来说，确实价键理论够用了。</p>
<h2 id="_2">连接表格</h2>
<p>早期人们研究化学信息学来表示一个分子用的是连接表（connection table），就是列出原子，还有原子们之间的连接键（描述了谁和谁连接起来）。</p>
<p>SMARTS (SMiles ARbitrary Target Specification).  子结构搜索语言，比如说 [C,N] 将会找一个原子或者是碳原子或者是氮原子</p>
<h2 id="_3">子结构搜索和索引</h2>
<p>索引indexing是预处理某些问题来加速搜索过程。</p>
<p>化学信息学对于分子结构的索引过程就是将目标分子降解（decompose）成为一些小部分，然后索引它们。</p>
<p>子结构搜索在数学上是图同构问题（graph isomorphism），子图同构是NPC问题，图同构不是P问题也不是NPC问题是NP问题 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/django-learning-notes.html">django学习笔记
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="beginning">Beginning</h2>
<p>一开始先介绍下Djanog项目的基本文件夹结构，还有一些基本的命令操作和一些基本的常识性东西。</p>
<p>首先是新建一个项目：</p>
<h3 id="_1">新建项目</h3>
<div class="highlight"><pre><span></span><span class="n">django</span><span class="o">-</span><span class="k">admin</span> <span class="n">startproject</span> <span class="n">project</span><span class="o">-</span><span class="n">name</span>
</pre></div>
<p>这个命令将创建一个文件夹，文件夹的名字就是这里设置的project-name，然后文件夹里面有一个manage.py文件，这个文件的主要作用就是挂载django的配置（一般是settings.py这个文件，当然你也可以修改为其他比如dev_settings.py文件）。</p>
<p>然后还有一个文件夹，里面有settings.py 、 urls.py 和 wsgi.py 文件。</p>
<p>settings.py 控制django的全部配置管理；</p>
<p>urls.py 控制django的路径分发主入口，这个在配置中可以修改的。</p>
<p>wsgi.py 是你用apache或者uwsgi挂载的时候的控制入口。</p>
<p>这样最简单的初始项目就是可以运行的了：</p>
<h3 id="_2">开启服务器</h3>
<div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="p">.</span><span class="n">py</span> <span class="n">runserver</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span>
</pre></div>
<p>后面控制服务器监听的localhost或者外网0.0.0.0 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/elasticsearch-database.html">elasticsearch数据库
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<p>需求：一般的数据库对全文搜索支持不是很好，mongodb的中文全文搜索支持是只有企业版才有的功能，而且我估计中文分词效果等也不会太好，而elasticsearch专注于数据库搜索，所谓术业有专攻，对于这样的搜索需求，有时我们是需要elasticsearch来解决这个问题的。</p>
<p>首先推荐elasticsearch的这个 <a href="https://github.com/medcl/elasticsearch-rtf">中文插件版</a> ，其集成了很多中文支持插件，elasticsearch官方内置的中文分词效果很是不好，比如其集成了 <a href="https://github.com/medcl/elasticsearch-analysis-ik">ik分词插件</a> ，其分词效果还是可以的。这个项目能够让新手马上上路，获得一个还算可以的效果，后面有精力再考虑进一步优化吧。</p>
<p>elasticsearch的python接口有官方的 <a href="https://github.com/elastic/elasticsearch-py">elasticsearch-py</a> ，然后在实际编写代码的时候强烈推荐 <a href="https://github.com/elastic/elasticsearch-dsl-py">elasticsearch-dsl-py</a> 项目，其也是基于 elasticsearch-py 项目，并提供了更便捷的接口封装。</p>
<p>elasticsearch数据库基本结构有点类似于mongodb，其一条记录也称为一个文档（doc），一个文档大体是一个字典值，可以字典套字典的那种。然后其还有一个索引（index）的概念，大体类似于database，然后其还有一个type概念，大体类似于collections。显然elasticsearch也属于nosql数据库，nosql数据库存储时很重要的一个思路就是，一个文档一个doc对应一个实体。</p>
<p>elasticsearch是基于Lucene的，这我们应该了解下，喝水不忘挖井人吗。</p>
<p>elasticsearch在windows下的安装还是很简单的，下载好代码，解压然后直接运行bin文件夹的 <code>elasticsearch.bat …</code></p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/emacs-learning-notes.html">emacs学习笔记
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<p>其实在你打开emacs开始输入文本的那一刻起，你就已经入门了。emacs说到底只是一个功能特别强大的文本编辑器，它主要的角色还是文本编辑器，一切都是围绕这个来展开的。</p>
<h1 id="_1">最基本的快捷键操作</h1>
<p>快捷键用的最多的是C和M这两个字母，其中C是Control键，而M一般是Alt键吧。然后 <code>C-w</code> 表示同时按下Control键和w字母。然后 <code>C-x C-c</code> 中间有个空格，表示先按Ctrl+字母x，再停顿一下，然后再按Ctrl+字母c——这是退出emacs的命令。</p>
<p>S表示Shift键，小写s表示Super键这个了解下，然后 <code>C-x 0</code> 表示关闭当前窗口， <code>C-x 1</code> 表示只留当前一个窗口， <code>C-x 2</code> 表示下面新开一个窗口， <code>C-x 3</code> 表示右边新开一个窗口， <code>M+x</code> 执行emacs lisp的内部命令， <code>C-g</code> 取消你在minibuff中一般的输入，这些都是很基本的了，读者请记住。</p>
<h2 id="_2">查找和替换</h2>
<p>查找和替换操作经常用到，所以快捷键最好也记住。向后查找的按键是 <code>C-s …</code></p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/emacs-orgmode-learning-notes.html">emacs的org模式学习笔记
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h1 id="orgtex">org转tex初步配置</h1>
<div class="highlight"><pre><span></span><span class="c1">;latex设置</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-latex-default-packages-alist</span>  <span class="o">'</span><span class="p">((</span><span class="s">""</span> <span class="s">""</span> <span class="no">nil</span><span class="p">)))</span>
</pre></div>
<p>在.emacs文件里面加上那么一句，这里 <strong>org-latex-default-packages-alist</strong> 列表里面存储着从org文件生成tex文件默认要加载的一些宏包。这个列表是由一系列的三个元素的列表组成，其中第一个元素是要加载宏包的选项，第二个参数是要加载宏包的名字，第三个选项设置为t或者nil，即要加载或者不加载。这里就简单将 <strong>org-latex-export-to-latex</strong> 命令默认的要加载的一系列宏包全部都清空，因为有些宏包会和接下来我们要用的xelatex不匹配，然后既然我们经过了前面的学习已经有了自己的一般文档配置，那么简单把我们自己的文档配置加进来即可。</p>
<div class="highlight"><pre><span></span><span class="o">#+</span><span class="n">LATEX_CLASS</span><span class="p">:</span> <span class="n">book</span>
<span class="o">#+</span><span class="n">LATEX_CLASS_OPTIONS</span><span class="p">:[</span><span class="mi">11</span><span class="n">pt</span><span class="p">,</span><span class="n">oneside</span><span class="p">]</span>
<span class="o">#+</span><span class="n">LATEX_HEADER</span><span class="p">:</span> <span class="err">\</span><span class="n">usepackage</span><span class="err">{</span><span class="n">book</span><span class="err">}</span>
</pre></div>
<p>上面org文档的 <code>#+LATEX_CLASS</code> 用来设置目标tex文档的documentclass，这里的 <code>#+LATEX_CLASS_OPTIONS</code> 对应的是documentclass命令的可选项，这样就对应了目标代码：</p>
<div class="highlight"><pre><span></span><span class="k">\documentclass</span><span class="na">[11pt,oneside]</span><span class="nb">{</span>article<span class="nb">}</span>
</pre></div>
<p>然后</p>
<div class="highlight"><pre><span></span><span class="o">#+</span><span class="n">LATEX_HEADER</span><span class="p">:</span> <span class="err">\</span><span class="n">usepackage</span><span class="err">{</span><span class="n">article</span><span class="err">}</span>
</pre></div>
<p>对应的tex文档的代码是：</p>
<div class="highlight"><pre><span></span><span class="err">\</span><span class="n">usepackage</span><span class="err">{</span><span class="n">article</span><span class="err">}</span>
</pre></div>
<p>这个article.sty文件正是我们之前一般文档配置的总结 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/how-to-show-small-molecule-on-web.html">小分子网页显示第二版
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">第二版说明</h2>
<p>在 <a href="{filename}./小分子网页显示.html">第一版中</a> 我们介绍了在html文件中如何绘制数学表达式和化学分子式，简单来说就是利用 <code>mathjax</code>  这个javascript库。但是我们是如此喜欢markdown和pelican，那里在pelican下该如何做呢。</p>
<p>最优雅的方法就是引入 <code>render_math</code> 这个插件。</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">the</span> <span class="n">plugin</span>
<span class="n">PLUGIN_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'myplugins'</span><span class="p">]</span>

<span class="n">PLUGINS</span> <span class="o">=</span> <span class="p">[</span><span class="n">extract_toc</span><span class="s1">', '</span><span class="n">render_math</span><span class="s1">']</span>

<span class="s1">MATH_JAX = {'</span><span class="n">tex_extensions</span><span class="s1">': ['</span><span class="n">mhchem</span><span class="p">.</span><span class="n">js</span><span class="err">'</span><span class="p">]</span><span class="err">}</span>
</pre></div>
<p>然后剩下的一切就交给pelican来处理吧，其可以检测你的markdown下是否插入了数学公式或者说化学分子式，然后决定是否引入 mathjax 库。</p>
<h2 id="_2">数学环境简要介绍</h2>
<p>行内数学环境就像 TeX 里面一样 <code>$ $</code>  ，然后单独一行的数学表达式是 ： </p>
<div class="highlight"><pre><span></span><span class="err">$$</span>
<span class="p">...</span>

<span class="err">$$</span>
</pre></div>
<p>更多用 Tex写数学的知识请参看这个 <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics">wikibook</a> 。值得一提的是 LaTeX风格 <code>\(</code> 这样的并不支持。然后 <code>\begin{equation}</code> 是支持的，不过这边markdown编辑器并不支持实时预览，所以推荐就使用 <code>$</code> 和 <code>$$</code> 了。</p>
<p>如下：</p>
<div class="highlight"><pre><span></span><span class="err">$$</span>
<span class="err">{\</span><span class="n">sigma</span>  <span class="err">}</span><span class="o">^</span><span class="err">{</span><span class="mi">2 …</span></pre></div>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/mol-file.html">mol文件格式
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">前言</h2>
<p>本文主要参考了Molfile的 <a href="https://en.wikipedia.org/wiki/Chemical_table_file">wiki页面</a> 。</p>
<p>因为openbabel在heroku上不好安装，其有c依赖，然后pubchem数据库那边是可以输出sdf文件的，然后chemdoodle那边是可以接受mol文件格式从而显示分子的3D图形的，一开始我试着用openbabel将smiles输出到mol file：</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">smi2mol</span><span class="p">(</span><span class="n">smiles</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    read smiles string , retrun 3d mol file content.</span>
<span class="sd">    :param smiles:</span>
<span class="sd">    :return:</span>
<span class="sd">    """</span>
    <span class="n">mol</span> <span class="o">=</span> <span class="n">pybel</span><span class="o">.</span><span class="n">readstring</span><span class="p">(</span><span class="s2">"smi"</span><span class="p">,</span> <span class="n">smiles</span><span class="p">)</span>
    <span class="n">mol</span><span class="o">.</span><span class="n">make3D</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">mol</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"mol"</span><span class="p">)</span>
</pre></div>
<p>这大体是没有问题的。后来看到pubchem restful api输出record全记录时有很详细的原子数目和坐标，所以想可不可以根据这些数据自动输出mol file。</p>
<p>目前最简单的方法是，利用pubchem获得目标分子的sdf文件，sdf文件是前兼容mol 文件的，我在前端网页初步测试结果也是将文件前一行到 <code>M  END</code> 之间的内容复制粘贴新建成为一个mol file，经过测试是可行的 …</p>
                            </article>


                            <article>

                                <h1 class="page-header"><a
                                        href="https://docs.cdwanze.work/articles/mongodb.html">mongodb
 </a></h1>

                                <section>
                                    posted in
                                    <a href="https://docs.cdwanze.work/categories.html#cun-dang-ref">存档
                                    </a>
                                    <div class="recent-posts-time">
                                        <time pubdate="pubdate"
                                              datetime="2012-12-21T00:00:00+08:00">2012年 12月 21日
                                        </time>
                                    </div>
                                </section>
                                
<h2 id="_1">简介</h2>
<p>mongodb作为一款主流的nosql和sql数据库区别还是很大的，虽然有类似的比较，比如mongodb的collection概念大体类似于table，或者其他等等，但最好还是摒弃这种思维。然后mongodb相对sql明显有这两个优点，在开发的时候最好要好好使用，而不要因为之前的sql思维而自我设限。</p>
<ol>
<li>mongodb是不要求一个collection里面各个文档具有相同的chema或者简单说，相同的key的。</li>
<li>不要把sql的join思维带入进来了，而应该更好地利用mongodb可以字典里面套字典，列表里面塞字典的特性。对于这种数据结构，mongodb有对应的查询语法，速度还是很快的。</li>
</ol>
<div class="highlight"><pre><span></span><span class="n">user_doc</span> <span class="o">=</span> <span class="n">dbh</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">find_one</span><span class="p">({</span><span class="s2">"facebook.username"</span><span class="p">:</span><span class="s2">"foofacebook"</span><span class="p">})</span>
</pre></div>
<p>你看上面的例子，本来一个doc（mongodb把最小的一条记录叫做doc）大概类似一个字典了，然后我们还可以点着去查询，所以必要的时候，字典里面放字典，放心，对于这种结构速度还是有保证的。</p>
<h2 id="_2">安装</h2>
<p>本来安装是不想多说了的，但因为历史原因，把以前在ubuntu下的一些东西放在这里吧，可能对读者有帮助。</p>
<p>ubuntu下的安装是：</p>
<div class="highlight"><pre><span></span>sudo apt install mongodb
</pre></div>
<p>其中mongo命令是client接口，然后mongod命令是服务端接口。默认开启了mongod后台服务，你可以看一下：</p>
<div class="highlight"><pre><span></span>sudo service --status-all …</pre></div>
                            </article>

 <nav aria-label="Page Navigation">
    <ul class="pager">
        <li class="previous">
            <a href="https://docs.cdwanze.work/index4.html" aria-label="Previous" >
                <span aria-hidden="true">&larr;<span>Previous</span></span>
            </a>
        </li>


        <li class="next">
            <a href="https://docs.cdwanze.work/index6.html" aria-label="Next" >
                <span aria-hidden="true">&rarr;<span>Next</span></span>
            </a>
        </li>

    </ul>
</nav>
                     </div>
                </div>
            </div>
    </div>

    </div>
    <div class="col-md-1"></div>

</div>


<div id="push"></div>


<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a> and updated by <a href="http://www.cdwanze.work" title="cdwanze Home Page">cdwanze</a></li>
    </ul>
</div>
</footer>

        <script src="https://docs.cdwanze.work/theme/js/jquery.min.js"></script>
    <script src="https://docs.cdwanze.work/theme/js/bootstrap.min.js"></script>
    <script>
        function validateForm(query) {
            return (query.length > 0);
        }
    </script>

    <script>
        function adjust_search_width() {
            var w = document.documentElement.clientWidth;
            if ((w > 755) && (w < 975)) {
                plus_width = w - 755;
                $('.navbar-form .form-control').outerWidth(210 + plus_width);
            } else if (w >= 975) {
                $('.navbar-form .form-control').outerWidth(210 + 220);
            } else if (w <= 755) {
                $('.navbar-form .form-control').css('width', '100%')
            }
        }

        $(document).ready(function () {
            adjust_search_width();
        });

        window.onresize = function () {
            adjust_search_width();
        }

    </script>


    <script>
        (function ($) {
            // custom css expression for a case-insensitive contains()
            jQuery.expr[':'].Contains = function (a, i, m) {
                return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase()) >= 0;
            };

            function listFilter() {

                $('#findtag')
                    .change(function () {
                        var filter = $(this).val();
                        if (filter) {
                            // this finds all links in a list that contain the input,
                            // and hide the ones not containing the input while showing the ones that do
                            $('.list-of-tags').find("a:not(:Contains(" + filter + "))").parent().hide();
                            $('.list-of-tags').find("a:Contains(" + filter + ")").parent().show();
                        } else {
                            $('.list-of-tags').find("li").show();
                        }
                        return false;
                    })
                    .keyup(function () {
                        // fire the above change event after every letter
                        $(this).change();
                    });
            }

            //ondomready
            $(function () {
                listFilter($());
            });
        }(jQuery));

    </script>

    <script>
        $(function () {
            //点击回到顶部的元素
            $("#gotop").click(function (e) {
                //以1秒的间隔返回顶部
                $('body,html').animate({scrollTop: 0}, 1000);
            });
        });
    </script>

    <script>
        $('.page-header').hover(function () {
            $(this).css("color", '#3875d7')
        }, function () {
            $(this).css('color', '#8B0000')
        })
    </script>


    <script>
        $(document).ready(function () {
            $('a.slowscroll').click(function (event) {
                var $anchor = $(this);
                $('html, body').animate({scrollTop: $($anchor.attr('href')).offset().top}, 1500);
                event.preventDefault();
                // $('a.slowscroll').parent().removeClass('active');
                // $('.navbar-header').hide();
                // $anchor.parent().addClass('active');
            })
        })
        console.log('document init...')
    </script>




</body>
</html>